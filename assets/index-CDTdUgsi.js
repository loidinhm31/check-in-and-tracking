(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f7(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function d7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var s4={exports:{}},ef={},o4={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),h7=Symbol.for("react.portal"),p7=Symbol.for("react.fragment"),m7=Symbol.for("react.strict_mode"),g7=Symbol.for("react.profiler"),y7=Symbol.for("react.provider"),v7=Symbol.for("react.context"),b7=Symbol.for("react.forward_ref"),w7=Symbol.for("react.suspense"),S7=Symbol.for("react.memo"),x7=Symbol.for("react.lazy"),l3=Symbol.iterator;function T7(e){return e===null||typeof e!="object"?null:(e=l3&&e[l3]||e["@@iterator"],typeof e=="function"?e:null)}var i4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a4=Object.assign,l4={};function ji(e,t,n){this.props=e,this.context=t,this.refs=l4,this.updater=n||i4}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u4(){}u4.prototype=ji.prototype;function Qh(e,t,n){this.props=e,this.context=t,this.refs=l4,this.updater=n||i4}var Jh=Qh.prototype=new u4;Jh.constructor=Qh;a4(Jh,ji.prototype);Jh.isPureReactComponent=!0;var u3=Array.isArray,c4=Object.prototype.hasOwnProperty,Zh={current:null},f4={key:!0,ref:!0,__self:!0,__source:!0};function d4(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)c4.call(t,r)&&!f4.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:El,type:e,key:o,ref:i,props:s,_owner:Zh.current}}function E7(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ep(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function k7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var c3=/\/+/g;function Gf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k7(""+e.key):t.toString(36)}function Du(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case El:case h7:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Gf(i,0):r,u3(s)?(n="",e!=null&&(n=e.replace(c3,"$&/")+"/"),Du(s,t,n,"",function(u){return u})):s!=null&&(ep(s)&&(s=E7(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(c3,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",u3(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Gf(o,a);i+=Du(o,t,n,l,s)}else if(l=T7(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Gf(o,a++),i+=Du(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function nu(e,t,n){if(e==null)return e;var r=[],s=0;return Du(e,r,"","",function(o){return t.call(n,o,s++)}),r}function N7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Fu={transition:null},$7={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Zh};function h4(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:nu,forEach:function(e,t,n){nu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!ep(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=ji;Me.Fragment=p7;Me.Profiler=g7;Me.PureComponent=Qh;Me.StrictMode=m7;Me.Suspense=w7;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$7;Me.act=h4;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=a4({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Zh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)c4.call(t,l)&&!f4.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:El,type:e.type,key:s,ref:o,props:r,_owner:i}};Me.createContext=function(e){return e={$$typeof:v7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y7,_context:e},e.Consumer=e};Me.createElement=d4;Me.createFactory=function(e){var t=d4.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:b7,render:e}};Me.isValidElement=ep;Me.lazy=function(e){return{$$typeof:x7,_payload:{_status:-1,_result:e},_init:N7}};Me.memo=function(e,t){return{$$typeof:S7,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};Me.unstable_act=h4;Me.useCallback=function(e,t){return Jt.current.useCallback(e,t)};Me.useContext=function(e){return Jt.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Jt.current.useEffect(e,t)};Me.useId=function(){return Jt.current.useId()};Me.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Jt.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};Me.useRef=function(e){return Jt.current.useRef(e)};Me.useState=function(e){return Jt.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Jt.current.useTransition()};Me.version="18.3.1";o4.exports=Me;var U=o4.exports;const wt=f7(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _7=U,C7=Symbol.for("react.element"),A7=Symbol.for("react.fragment"),I7=Object.prototype.hasOwnProperty,P7=_7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O7={key:!0,ref:!0,__self:!0,__source:!0};function p4(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)I7.call(t,r)&&!O7.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:C7,type:e,key:o,ref:i,props:s,_owner:P7.current}}ef.Fragment=A7;ef.jsx=p4;ef.jsxs=p4;s4.exports=ef;var se=s4.exports,Jd={},m4={exports:{}},_n={},g4={exports:{}},y4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,ce){var ge=re.length;re.push(ce);e:for(;0<ge;){var xe=ge-1>>>1,Ce=re[xe];if(0<s(Ce,ce))re[xe]=ce,re[ge]=Ce,ge=xe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ce=re[0],ge=re.pop();if(ge!==ce){re[0]=ge;e:for(var xe=0,Ce=re.length,Fe=Ce>>>1;xe<Fe;){var xt=2*(xe+1)-1,en=re[xt],rt=xt+1,pn=re[rt];if(0>s(en,ge))rt<Ce&&0>s(pn,en)?(re[xe]=pn,re[rt]=ge,xe=rt):(re[xe]=en,re[xt]=ge,xe=xt);else if(rt<Ce&&0>s(pn,ge))re[xe]=pn,re[rt]=ge,xe=rt;else break e}}return ce}function s(re,ce){var ge=re.sortIndex-ce.sortIndex;return ge!==0?ge:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,b=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var ce=n(u);ce!==null;){if(ce.callback===null)r(u);else if(ce.startTime<=re)r(u),ce.sortIndex=ce.expirationTime,t(l,ce);else break;ce=n(u)}}function A(re){if(x=!1,k(re),!b)if(n(l)!==null)b=!0,de(M);else{var ce=n(u);ce!==null&&ve(A,ce.startTime-re)}}function M(re,ce){b=!1,x&&(x=!1,S(C),C=-1),m=!0;var ge=d;try{for(k(ce),f=n(l);f!==null&&(!(f.expirationTime>ce)||re&&!X());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,d=f.priorityLevel;var Ce=xe(f.expirationTime<=ce);ce=e.unstable_now(),typeof Ce=="function"?f.callback=Ce:f===n(l)&&r(l),k(ce)}else r(l);f=n(l)}if(f!==null)var Fe=!0;else{var xt=n(u);xt!==null&&ve(A,xt.startTime-ce),Fe=!1}return Fe}finally{f=null,d=ge,m=!1}}var L=!1,W=null,C=-1,V=5,K=-1;function X(){return!(e.unstable_now()-K<V)}function Q(){if(W!==null){var re=e.unstable_now();K=re;var ce=!0;try{ce=W(!0,re)}finally{ce?B():(L=!1,W=null)}}else L=!1}var B;if(typeof T=="function")B=function(){T(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=Q,B=function(){oe.postMessage(null)}}else B=function(){N(Q,0)};function de(re){W=re,L||(L=!0,B())}function ve(re,ce){C=N(function(){re(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,de(M))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(re){switch(d){case 1:case 2:case 3:var ce=3;break;default:ce=d}var ge=d;d=ce;try{return re()}finally{d=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=d;d=re;try{return ce()}finally{d=ge}},e.unstable_scheduleCallback=function(re,ce,ge){var xe=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?xe+ge:xe):ge=xe,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ge+Ce,re={id:c++,callback:ce,priorityLevel:re,startTime:ge,expirationTime:Ce,sortIndex:-1},ge>xe?(re.sortIndex=ge,t(u,re),n(l)===null&&re===n(u)&&(x?(S(C),C=-1):x=!0,ve(A,ge-xe))):(re.sortIndex=Ce,t(l,re),b||m||(b=!0,de(M))),re},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(re){var ce=d;return function(){var ge=d;d=ce;try{return re.apply(this,arguments)}finally{d=ge}}}})(y4);g4.exports=y4;var D7=g4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7=U,$n=D7;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v4=new Set,qa={};function Oo(e,t){Ni(e,t),Ni(e+"Capture",t)}function Ni(e,t){for(qa[e]=t,e=0;e<t.length;e++)v4.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,M7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f3={},d3={};function R7(e){return Zd.call(d3,e)?!0:Zd.call(f3,e)?!1:M7.test(e)?d3[e]=!0:(f3[e]=!0,!1)}function L7(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function z7(e,t,n,r){if(t===null||typeof t>"u"||L7(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new Zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new Zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new Zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new Zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new Zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new Zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new Zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new Zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new Zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tp,np);Ft[t]=new Zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tp,np);Ft[t]=new Zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tp,np);Ft[t]=new Zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new Zt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new Zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rp(e,t,n,r){var s=Ft.hasOwnProperty(t)?Ft[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(z7(t,n,s,r)&&(n=null),r||s===null?R7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xr=F7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ru=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),b4=Symbol.for("react.provider"),w4=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),n1=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),S4=Symbol.for("react.offscreen"),h3=Symbol.iterator;function ha(e){return e===null||typeof e!="object"?null:(e=h3&&e[h3]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,qf;function $a(e){if(qf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qf=t&&t[1]||""}return`
`+qf+e}var Yf=!1;function Xf(e,t){if(!e||Yf)return"";Yf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Yf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$a(e):""}function j7(e){switch(e.tag){case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return e=Xf(e.type,!1),e;case 11:return e=Xf(e.type.render,!1),e;case 1:return e=Xf(e.type,!0),e;default:return""}}function r1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ni:return"Portal";case e1:return"Profiler";case sp:return"StrictMode";case t1:return"Suspense";case n1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w4:return(e.displayName||"Context")+".Consumer";case b4:return(e._context.displayName||"Context")+".Provider";case op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ip:return t=e.displayName||null,t!==null?t:r1(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return r1(e(t))}catch{}}return null}function B7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r1(t);case 8:return t===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function V7(e){var t=x4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){e._valueTracker||(e._valueTracker=V7(e))}function T4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=x4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function tc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function s1(e,t){var n=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function p3(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E4(e,t){t=t.checked,t!=null&&rp(e,"checked",t,!1)}function o1(e,t){E4(e,t);var n=Cs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?i1(e,t.type,n):t.hasOwnProperty("defaultValue")&&i1(e,t.type,Cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function m3(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function i1(e,t,n){(t!=="number"||tc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _a=Array.isArray;function gi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function a1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function g3(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(_a(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cs(n)}}function k4(e,t){var n=Cs(t.value),r=Cs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function y3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function N4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?N4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,$4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U7=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(e){U7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fa[t]=Fa[e]})});function _4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fa.hasOwnProperty(e)&&Fa[e]?(""+t).trim():t+"px"}function C4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var W7=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u1(e,t){if(t){if(W7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function c1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f1=null;function ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d1=null,yi=null,vi=null;function v3(e){if(e=$l(e)){if(typeof d1!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=of(t),d1(e.stateNode,e.type,t))}}function A4(e){yi?vi?vi.push(e):vi=[e]:yi=e}function I4(){if(yi){var e=yi,t=vi;if(vi=yi=null,v3(e),t)for(e=0;e<t.length;e++)v3(t[e])}}function P4(e,t){return e(t)}function O4(){}var Qf=!1;function D4(e,t,n){if(Qf)return e(t,n);Qf=!0;try{return P4(e,t,n)}finally{Qf=!1,(yi!==null||vi!==null)&&(O4(),I4())}}function Xa(e,t){var n=e.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var h1=!1;if(Rr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){h1=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{h1=!1}function H7(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ma=!1,nc=null,rc=!1,p1=null,K7={onError:function(e){Ma=!0,nc=e}};function G7(e,t,n,r,s,o,i,a,l){Ma=!1,nc=null,H7.apply(K7,arguments)}function q7(e,t,n,r,s,o,i,a,l){if(G7.apply(this,arguments),Ma){if(Ma){var u=nc;Ma=!1,nc=null}else throw Error(ie(198));rc||(rc=!0,p1=u)}}function Do(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function F4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b3(e){if(Do(e)!==e)throw Error(ie(188))}function Y7(e){var t=e.alternate;if(!t){if(t=Do(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return b3(s),e;if(o===r)return b3(s),t;o=o.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function M4(e){return e=Y7(e),e!==null?R4(e):null}function R4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R4(e);if(t!==null)return t;e=e.sibling}return null}var L4=$n.unstable_scheduleCallback,w3=$n.unstable_cancelCallback,X7=$n.unstable_shouldYield,Q7=$n.unstable_requestPaint,dt=$n.unstable_now,J7=$n.unstable_getCurrentPriorityLevel,lp=$n.unstable_ImmediatePriority,z4=$n.unstable_UserBlockingPriority,sc=$n.unstable_NormalPriority,Z7=$n.unstable_LowPriority,j4=$n.unstable_IdlePriority,tf=null,gr=null;function e8(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(tf,e,void 0,(e.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:r8,t8=Math.log,n8=Math.LN2;function r8(e){return e>>>=0,e===0?32:31-(t8(e)/n8|0)|0}var iu=64,au=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Ca(a):(o&=i,o!==0&&(r=Ca(o)))}else i=n&~s,i!==0?r=Ca(i):o!==0&&(r=Ca(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Jn(t),s=1<<n,r|=e[n],t&=~s;return r}function s8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Jn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=s8(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function m1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B4(){var e=iu;return iu<<=1,!(iu&4194240)&&(iu=64),e}function Jf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jn(t),e[t]=n}function i8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Jn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function up(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Jn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ue=0;function V4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U4,cp,W4,H4,K4,g1=!1,lu=[],gs=null,ys=null,vs=null,Qa=new Map,Ja=new Map,us=[],a8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S3(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(t.pointerId)}}function ma(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=$l(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function l8(e,t,n,r,s){switch(t){case"focusin":return gs=ma(gs,e,t,n,r,s),!0;case"dragenter":return ys=ma(ys,e,t,n,r,s),!0;case"mouseover":return vs=ma(vs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Qa.set(o,ma(Qa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ja.set(o,ma(Ja.get(o)||null,e,t,n,r,s)),!0}return!1}function G4(e){var t=ro(e.target);if(t!==null){var n=Do(t);if(n!==null){if(t=n.tag,t===13){if(t=F4(n),t!==null){e.blockedOn=t,K4(e.priority,function(){W4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=y1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);f1=r,n.target.dispatchEvent(r),f1=null}else return t=$l(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function x3(e,t,n){Mu(e)&&n.delete(t)}function u8(){g1=!1,gs!==null&&Mu(gs)&&(gs=null),ys!==null&&Mu(ys)&&(ys=null),vs!==null&&Mu(vs)&&(vs=null),Qa.forEach(x3),Ja.forEach(x3)}function ga(e,t){e.blockedOn===t&&(e.blockedOn=null,g1||(g1=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,u8)))}function Za(e){function t(s){return ga(s,e)}if(0<lu.length){ga(lu[0],e);for(var n=1;n<lu.length;n++){var r=lu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gs!==null&&ga(gs,e),ys!==null&&ga(ys,e),vs!==null&&ga(vs,e),Qa.forEach(t),Ja.forEach(t),n=0;n<us.length;n++)r=us[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)G4(n),n.blockedOn===null&&us.shift()}var bi=Xr.ReactCurrentBatchConfig,ic=!0;function c8(e,t,n,r){var s=Ue,o=bi.transition;bi.transition=null;try{Ue=1,fp(e,t,n,r)}finally{Ue=s,bi.transition=o}}function f8(e,t,n,r){var s=Ue,o=bi.transition;bi.transition=null;try{Ue=4,fp(e,t,n,r)}finally{Ue=s,bi.transition=o}}function fp(e,t,n,r){if(ic){var s=y1(e,t,n,r);if(s===null)ld(e,t,r,ac,n),S3(e,r);else if(l8(s,e,t,n,r))r.stopPropagation();else if(S3(e,r),t&4&&-1<a8.indexOf(e)){for(;s!==null;){var o=$l(s);if(o!==null&&U4(o),o=y1(e,t,n,r),o===null&&ld(e,t,r,ac,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ld(e,t,r,null,n)}}var ac=null;function y1(e,t,n,r){if(ac=null,e=ap(r),e=ro(e),e!==null)if(t=Do(e),t===null)e=null;else if(n=t.tag,n===13){if(e=F4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ac=e,null}function q4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J7()){case lp:return 1;case z4:return 4;case sc:case Z7:return 16;case j4:return 536870912;default:return 16}default:return 16}}var fs=null,dp=null,Ru=null;function Y4(){if(Ru)return Ru;var e,t=dp,n=t.length,r,s="value"in fs?fs.value:fs.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ru=s.slice(e,1<r?1-r:void 0)}function Lu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function T3(){return!1}function Cn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uu:T3,this.isPropagationStopped=T3,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=Cn(Bi),Nl=at({},Bi,{view:0,detail:0}),d8=Cn(Nl),Zf,ed,ya,nf=at({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(Zf=e.screenX-ya.screenX,ed=e.screenY-ya.screenY):ed=Zf=0,ya=e),Zf)},movementY:function(e){return"movementY"in e?e.movementY:ed}}),E3=Cn(nf),h8=at({},nf,{dataTransfer:0}),p8=Cn(h8),m8=at({},Nl,{relatedTarget:0}),td=Cn(m8),g8=at({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),y8=Cn(g8),v8=at({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b8=Cn(v8),w8=at({},Bi,{data:0}),k3=Cn(w8),S8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T8[e])?!!t[e]:!1}function pp(){return E8}var k8=at({},Nl,{key:function(e){if(e.key){var t=S8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(e){return e.type==="keypress"?Lu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N8=Cn(k8),$8=at({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N3=Cn($8),_8=at({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),C8=Cn(_8),A8=at({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I8=Cn(A8),P8=at({},nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O8=Cn(P8),D8=[9,13,27,32],mp=Rr&&"CompositionEvent"in window,Ra=null;Rr&&"documentMode"in document&&(Ra=document.documentMode);var F8=Rr&&"TextEvent"in window&&!Ra,X4=Rr&&(!mp||Ra&&8<Ra&&11>=Ra),$3=" ",_3=!1;function Q4(e,t){switch(e){case"keyup":return D8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function M8(e,t){switch(e){case"compositionend":return J4(t);case"keypress":return t.which!==32?null:(_3=!0,$3);case"textInput":return e=t.data,e===$3&&_3?null:e;default:return null}}function R8(e,t){if(si)return e==="compositionend"||!mp&&Q4(e,t)?(e=Y4(),Ru=dp=fs=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X4&&t.locale!=="ko"?null:t.data;default:return null}}var L8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!L8[e.type]:t==="textarea"}function Z4(e,t,n,r){A4(r),t=lc(t,"onChange"),0<t.length&&(n=new hp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var La=null,el=null;function z8(e){cg(e,0)}function rf(e){var t=ai(e);if(T4(t))return e}function j8(e,t){if(e==="change")return t}var eg=!1;if(Rr){var nd;if(Rr){var rd="oninput"in document;if(!rd){var A3=document.createElement("div");A3.setAttribute("oninput","return;"),rd=typeof A3.oninput=="function"}nd=rd}else nd=!1;eg=nd&&(!document.documentMode||9<document.documentMode)}function I3(){La&&(La.detachEvent("onpropertychange",tg),el=La=null)}function tg(e){if(e.propertyName==="value"&&rf(el)){var t=[];Z4(t,el,e,ap(e)),D4(z8,t)}}function B8(e,t,n){e==="focusin"?(I3(),La=t,el=n,La.attachEvent("onpropertychange",tg)):e==="focusout"&&I3()}function V8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rf(el)}function U8(e,t){if(e==="click")return rf(t)}function W8(e,t){if(e==="input"||e==="change")return rf(t)}function H8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:H8;function tl(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zd.call(t,s)||!nr(e[s],t[s]))return!1}return!0}function P3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function O3(e,t){var n=P3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P3(n)}}function ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rg(){for(var e=window,t=tc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tc(e.document)}return t}function gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K8(e){var t=rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ng(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=O3(n,o);var i=O3(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G8=Rr&&"documentMode"in document&&11>=document.documentMode,oi=null,v1=null,za=null,b1=!1;function D3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b1||oi==null||oi!==tc(r)||(r=oi,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&tl(za,r)||(za=r,r=lc(v1,"onSelect"),0<r.length&&(t=new hp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function cu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ii={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},sd={},sg={};Rr&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function sf(e){if(sd[e])return sd[e];if(!ii[e])return e;var t=ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sg)return sd[e]=t[n];return e}var og=sf("animationend"),ig=sf("animationiteration"),ag=sf("animationstart"),lg=sf("transitionend"),ug=new Map,F3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){ug.set(e,t),Oo(t,[e])}for(var od=0;od<F3.length;od++){var id=F3[od],q8=id.toLowerCase(),Y8=id[0].toUpperCase()+id.slice(1);Ds(q8,"on"+Y8)}Ds(og,"onAnimationEnd");Ds(ig,"onAnimationIteration");Ds(ag,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(lg,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function M3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,q7(r,t,void 0,e),e.currentTarget=null}function cg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;M3(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;M3(s,a,u),o=l}}}if(rc)throw e=p1,rc=!1,p1=null,e}function Je(e,t){var n=t[E1];n===void 0&&(n=t[E1]=new Set);var r=e+"__bubble";n.has(r)||(fg(t,e,2,!1),n.add(r))}function ad(e,t,n){var r=0;t&&(r|=4),fg(n,e,r,t)}var fu="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[fu]){e[fu]=!0,v4.forEach(function(n){n!=="selectionchange"&&(X8.has(n)||ad(n,!1,e),ad(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fu]||(t[fu]=!0,ad("selectionchange",!1,t))}}function fg(e,t,n,r){switch(q4(t)){case 1:var s=c8;break;case 4:s=f8;break;default:s=fp}n=s.bind(null,t,n,e),s=void 0,!h1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ld(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ro(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}D4(function(){var u=o,c=ap(n),f=[];e:{var d=ug.get(e);if(d!==void 0){var m=hp,b=e;switch(e){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":m=N8;break;case"focusin":b="focus",m=td;break;case"focusout":b="blur",m=td;break;case"beforeblur":case"afterblur":m=td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=E3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=C8;break;case og:case ig:case ag:m=y8;break;case lg:m=I8;break;case"scroll":m=d8;break;case"wheel":m=O8;break;case"copy":case"cut":case"paste":m=b8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=N3}var x=(t&4)!==0,N=!x&&e==="scroll",S=x?d!==null?d+"Capture":null:d;x=[];for(var T=u,k;T!==null;){k=T;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,S!==null&&(A=Xa(T,S),A!=null&&x.push(rl(T,A,k)))),N)break;T=T.return}0<x.length&&(d=new m(d,b,null,n,c),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==f1&&(b=n.relatedTarget||n.fromElement)&&(ro(b)||b[Lr]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?ro(b):null,b!==null&&(N=Do(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(x=E3,A="onMouseLeave",S="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(x=N3,A="onPointerLeave",S="onPointerEnter",T="pointer"),N=m==null?d:ai(m),k=b==null?d:ai(b),d=new x(A,T+"leave",m,n,c),d.target=N,d.relatedTarget=k,A=null,ro(c)===u&&(x=new x(S,T+"enter",b,n,c),x.target=k,x.relatedTarget=N,A=x),N=A,m&&b)t:{for(x=m,S=b,T=0,k=x;k;k=Go(k))T++;for(k=0,A=S;A;A=Go(A))k++;for(;0<T-k;)x=Go(x),T--;for(;0<k-T;)S=Go(S),k--;for(;T--;){if(x===S||S!==null&&x===S.alternate)break t;x=Go(x),S=Go(S)}x=null}else x=null;m!==null&&R3(f,d,m,x,!1),b!==null&&N!==null&&R3(f,N,b,x,!0)}}e:{if(d=u?ai(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=j8;else if(C3(d))if(eg)M=W8;else{M=V8;var L=B8}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=U8);if(M&&(M=M(e,u))){Z4(f,M,n,c);break e}L&&L(e,d,u),e==="focusout"&&(L=d._wrapperState)&&L.controlled&&d.type==="number"&&i1(d,"number",d.value)}switch(L=u?ai(u):window,e){case"focusin":(C3(L)||L.contentEditable==="true")&&(oi=L,v1=u,za=null);break;case"focusout":za=v1=oi=null;break;case"mousedown":b1=!0;break;case"contextmenu":case"mouseup":case"dragend":b1=!1,D3(f,n,c);break;case"selectionchange":if(G8)break;case"keydown":case"keyup":D3(f,n,c)}var W;if(mp)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else si?Q4(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(X4&&n.locale!=="ko"&&(si||C!=="onCompositionStart"?C==="onCompositionEnd"&&si&&(W=Y4()):(fs=c,dp="value"in fs?fs.value:fs.textContent,si=!0)),L=lc(u,C),0<L.length&&(C=new k3(C,e,null,n,c),f.push({event:C,listeners:L}),W?C.data=W:(W=J4(n),W!==null&&(C.data=W)))),(W=F8?M8(e,n):R8(e,n))&&(u=lc(u,"onBeforeInput"),0<u.length&&(c=new k3("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=W))}cg(f,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Xa(e,n),o!=null&&r.unshift(rl(e,o,s)),o=Xa(e,t),o!=null&&r.push(rl(e,o,s))),e=e.return}return r}function Go(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R3(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Xa(n,o),l!=null&&i.unshift(rl(n,l,a))):s||(l=Xa(n,o),l!=null&&i.push(rl(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Q8=/\r\n?/g,J8=/\u0000|\uFFFD/g;function L3(e){return(typeof e=="string"?e:""+e).replace(Q8,`
`).replace(J8,"")}function du(e,t,n){if(t=L3(t),L3(e)!==t&&n)throw Error(ie(425))}function uc(){}var w1=null,S1=null;function x1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T1=typeof setTimeout=="function"?setTimeout:void 0,Z8=typeof clearTimeout=="function"?clearTimeout:void 0,z3=typeof Promise=="function"?Promise:void 0,e9=typeof queueMicrotask=="function"?queueMicrotask:typeof z3<"u"?function(e){return z3.resolve(null).then(e).catch(t9)}:T1;function t9(e){setTimeout(function(){throw e})}function ud(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Za(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Za(t)}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),dr="__reactFiber$"+Vi,sl="__reactProps$"+Vi,Lr="__reactContainer$"+Vi,E1="__reactEvents$"+Vi,n9="__reactListeners$"+Vi,r9="__reactHandles$"+Vi;function ro(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=j3(e);e!==null;){if(n=e[dr])return n;e=j3(e)}return t}e=n,n=e.parentNode}return null}function $l(e){return e=e[dr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function of(e){return e[sl]||null}var k1=[],li=-1;function Fs(e){return{current:e}}function Ze(e){0>li||(e.current=k1[li],k1[li]=null,li--)}function qe(e,t){li++,k1[li]=e.current,e.current=t}var As={},Vt=Fs(As),fn=Fs(!1),vo=As;function $i(e,t){var n=e.type.contextTypes;if(!n)return As;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dn(e){return e=e.childContextTypes,e!=null}function cc(){Ze(fn),Ze(Vt)}function B3(e,t,n){if(Vt.current!==As)throw Error(ie(168));qe(Vt,t),qe(fn,n)}function dg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ie(108,B7(e)||"Unknown",s));return at({},n,r)}function fc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||As,vo=Vt.current,qe(Vt,e),qe(fn,fn.current),!0}function V3(e,t,n){var r=e.stateNode;if(!r)throw Error(ie(169));n?(e=dg(e,t,vo),r.__reactInternalMemoizedMergedChildContext=e,Ze(fn),Ze(Vt),qe(Vt,e)):Ze(fn),qe(fn,n)}var _r=null,af=!1,cd=!1;function hg(e){_r===null?_r=[e]:_r.push(e)}function s9(e){af=!0,hg(e)}function Ms(){if(!cd&&_r!==null){cd=!0;var e=0,t=Ue;try{var n=_r;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_r=null,af=!1}catch(s){throw _r!==null&&(_r=_r.slice(e+1)),L4(lp,Ms),s}finally{Ue=t,cd=!1}}return null}var ui=[],ci=0,dc=null,hc=0,Dn=[],Fn=0,bo=null,Pr=1,Or="";function Js(e,t){ui[ci++]=hc,ui[ci++]=dc,dc=e,hc=t}function pg(e,t,n){Dn[Fn++]=Pr,Dn[Fn++]=Or,Dn[Fn++]=bo,bo=e;var r=Pr;e=Or;var s=32-Jn(r)-1;r&=~(1<<s),n+=1;var o=32-Jn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Pr=1<<32-Jn(t)+s|n<<s|r,Or=o+e}else Pr=1<<o|n<<s|r,Or=e}function yp(e){e.return!==null&&(Js(e,1),pg(e,1,0))}function vp(e){for(;e===dc;)dc=ui[--ci],ui[ci]=null,hc=ui[--ci],ui[ci]=null;for(;e===bo;)bo=Dn[--Fn],Dn[Fn]=null,Or=Dn[--Fn],Dn[Fn]=null,Pr=Dn[--Fn],Dn[Fn]=null}var kn=null,En=null,tt=!1,Yn=null;function mg(e,t){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function U3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,En=bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bo!==null?{id:Pr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,En=null,!0):!1;default:return!1}}function N1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $1(e){if(tt){var t=En;if(t){var n=t;if(!U3(e,t)){if(N1(e))throw Error(ie(418));t=bs(n.nextSibling);var r=kn;t&&U3(e,t)?mg(r,n):(e.flags=e.flags&-4097|2,tt=!1,kn=e)}}else{if(N1(e))throw Error(ie(418));e.flags=e.flags&-4097|2,tt=!1,kn=e}}}function W3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function hu(e){if(e!==kn)return!1;if(!tt)return W3(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x1(e.type,e.memoizedProps)),t&&(t=En)){if(N1(e))throw gg(),Error(ie(418));for(;t;)mg(e,t),t=bs(t.nextSibling)}if(W3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){En=bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}En=null}}else En=kn?bs(e.stateNode.nextSibling):null;return!0}function gg(){for(var e=En;e;)e=bs(e.nextSibling)}function _i(){En=kn=null,tt=!1}function bp(e){Yn===null?Yn=[e]:Yn.push(e)}var o9=Xr.ReactCurrentBatchConfig;function va(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function pu(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H3(e){var t=e._init;return t(e._payload)}function yg(e){function t(S,T){if(e){var k=S.deletions;k===null?(S.deletions=[T],S.flags|=16):k.push(T)}}function n(S,T){if(!e)return null;for(;T!==null;)t(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function s(S,T){return S=Ts(S,T),S.index=0,S.sibling=null,S}function o(S,T,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<T?(S.flags|=2,T):k):(S.flags|=2,T)):(S.flags|=1048576,T)}function i(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,T,k,A){return T===null||T.tag!==6?(T=yd(k,S.mode,A),T.return=S,T):(T=s(T,k),T.return=S,T)}function l(S,T,k,A){var M=k.type;return M===ri?c(S,T,k.props.children,A,k.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===as&&H3(M)===T.type)?(A=s(T,k.props),A.ref=va(S,T,k),A.return=S,A):(A=Hu(k.type,k.key,k.props,null,S.mode,A),A.ref=va(S,T,k),A.return=S,A)}function u(S,T,k,A){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=vd(k,S.mode,A),T.return=S,T):(T=s(T,k.children||[]),T.return=S,T)}function c(S,T,k,A,M){return T===null||T.tag!==7?(T=po(k,S.mode,A,M),T.return=S,T):(T=s(T,k),T.return=S,T)}function f(S,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=yd(""+T,S.mode,k),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ru:return k=Hu(T.type,T.key,T.props,null,S.mode,k),k.ref=va(S,null,T),k.return=S,k;case ni:return T=vd(T,S.mode,k),T.return=S,T;case as:var A=T._init;return f(S,A(T._payload),k)}if(_a(T)||ha(T))return T=po(T,S.mode,k,null),T.return=S,T;pu(S,T)}return null}function d(S,T,k,A){var M=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return M!==null?null:a(S,T,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ru:return k.key===M?l(S,T,k,A):null;case ni:return k.key===M?u(S,T,k,A):null;case as:return M=k._init,d(S,T,M(k._payload),A)}if(_a(k)||ha(k))return M!==null?null:c(S,T,k,A,null);pu(S,k)}return null}function m(S,T,k,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(k)||null,a(T,S,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ru:return S=S.get(A.key===null?k:A.key)||null,l(T,S,A,M);case ni:return S=S.get(A.key===null?k:A.key)||null,u(T,S,A,M);case as:var L=A._init;return m(S,T,k,L(A._payload),M)}if(_a(A)||ha(A))return S=S.get(k)||null,c(T,S,A,M,null);pu(T,A)}return null}function b(S,T,k,A){for(var M=null,L=null,W=T,C=T=0,V=null;W!==null&&C<k.length;C++){W.index>C?(V=W,W=null):V=W.sibling;var K=d(S,W,k[C],A);if(K===null){W===null&&(W=V);break}e&&W&&K.alternate===null&&t(S,W),T=o(K,T,C),L===null?M=K:L.sibling=K,L=K,W=V}if(C===k.length)return n(S,W),tt&&Js(S,C),M;if(W===null){for(;C<k.length;C++)W=f(S,k[C],A),W!==null&&(T=o(W,T,C),L===null?M=W:L.sibling=W,L=W);return tt&&Js(S,C),M}for(W=r(S,W);C<k.length;C++)V=m(W,S,C,k[C],A),V!==null&&(e&&V.alternate!==null&&W.delete(V.key===null?C:V.key),T=o(V,T,C),L===null?M=V:L.sibling=V,L=V);return e&&W.forEach(function(X){return t(S,X)}),tt&&Js(S,C),M}function x(S,T,k,A){var M=ha(k);if(typeof M!="function")throw Error(ie(150));if(k=M.call(k),k==null)throw Error(ie(151));for(var L=M=null,W=T,C=T=0,V=null,K=k.next();W!==null&&!K.done;C++,K=k.next()){W.index>C?(V=W,W=null):V=W.sibling;var X=d(S,W,K.value,A);if(X===null){W===null&&(W=V);break}e&&W&&X.alternate===null&&t(S,W),T=o(X,T,C),L===null?M=X:L.sibling=X,L=X,W=V}if(K.done)return n(S,W),tt&&Js(S,C),M;if(W===null){for(;!K.done;C++,K=k.next())K=f(S,K.value,A),K!==null&&(T=o(K,T,C),L===null?M=K:L.sibling=K,L=K);return tt&&Js(S,C),M}for(W=r(S,W);!K.done;C++,K=k.next())K=m(W,S,C,K.value,A),K!==null&&(e&&K.alternate!==null&&W.delete(K.key===null?C:K.key),T=o(K,T,C),L===null?M=K:L.sibling=K,L=K);return e&&W.forEach(function(Q){return t(S,Q)}),tt&&Js(S,C),M}function N(S,T,k,A){if(typeof k=="object"&&k!==null&&k.type===ri&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ru:e:{for(var M=k.key,L=T;L!==null;){if(L.key===M){if(M=k.type,M===ri){if(L.tag===7){n(S,L.sibling),T=s(L,k.props.children),T.return=S,S=T;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===as&&H3(M)===L.type){n(S,L.sibling),T=s(L,k.props),T.ref=va(S,L,k),T.return=S,S=T;break e}n(S,L);break}else t(S,L);L=L.sibling}k.type===ri?(T=po(k.props.children,S.mode,A,k.key),T.return=S,S=T):(A=Hu(k.type,k.key,k.props,null,S.mode,A),A.ref=va(S,T,k),A.return=S,S=A)}return i(S);case ni:e:{for(L=k.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(S,T.sibling),T=s(T,k.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else t(S,T);T=T.sibling}T=vd(k,S.mode,A),T.return=S,S=T}return i(S);case as:return L=k._init,N(S,T,L(k._payload),A)}if(_a(k))return b(S,T,k,A);if(ha(k))return x(S,T,k,A);pu(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(S,T.sibling),T=s(T,k),T.return=S,S=T):(n(S,T),T=yd(k,S.mode,A),T.return=S,S=T),i(S)):n(S,T)}return N}var Ci=yg(!0),vg=yg(!1),pc=Fs(null),mc=null,fi=null,wp=null;function Sp(){wp=fi=mc=null}function xp(e){var t=pc.current;Ze(pc),e._currentValue=t}function _1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){mc=e,wp=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cn=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(mc===null)throw Error(ie(308));fi=e,mc.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var so=null;function Tp(e){so===null?so=[e]:so.push(e)}function bg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tp(t)):(n.next=s.next,s.next=n),t.interleaved=n,zr(e,r)}function zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ls=!1;function Ep(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zr(e,n)}return s=r.interleaved,s===null?(t.next=t,Tp(r)):(t.next=s.next,s.next=t),r.interleaved=t,zr(e,n)}function zu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,up(e,n)}}function K3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gc(e,t,n,r){var s=e.updateQueue;ls=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==i&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=s.baseState;i=0,c=u=l=null,a=o;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,x=a;switch(d=t,m=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(m,f,d);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,d=typeof b=="function"?b.call(m,f,d):b,d==null)break e;f=at({},f,d);break e;case 2:ls=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,i|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);So|=i,e.lanes=i,e.memoizedState=f}}function G3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var _l={},yr=Fs(_l),ol=Fs(_l),il=Fs(_l);function oo(e){if(e===_l)throw Error(ie(174));return e}function kp(e,t){switch(qe(il,t),qe(ol,e),qe(yr,_l),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:l1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=l1(t,e)}Ze(yr),qe(yr,t)}function Ai(){Ze(yr),Ze(ol),Ze(il)}function Sg(e){oo(il.current);var t=oo(yr.current),n=l1(t,e.type);t!==n&&(qe(ol,e),qe(yr,n))}function Np(e){ol.current===e&&(Ze(yr),Ze(ol))}var st=Fs(0);function yc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fd=[];function $p(){for(var e=0;e<fd.length;e++)fd[e]._workInProgressVersionPrimary=null;fd.length=0}var ju=Xr.ReactCurrentDispatcher,dd=Xr.ReactCurrentBatchConfig,wo=0,it=null,vt=null,Et=null,vc=!1,ja=!1,al=0,i9=0;function Rt(){throw Error(ie(321))}function _p(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function Cp(e,t,n,r,s,o){if(wo=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ju.current=e===null||e.memoizedState===null?c9:f9,e=n(r,s),ja){o=0;do{if(ja=!1,al=0,25<=o)throw Error(ie(301));o+=1,Et=vt=null,t.updateQueue=null,ju.current=d9,e=n(r,s)}while(ja)}if(ju.current=bc,t=vt!==null&&vt.next!==null,wo=0,Et=vt=it=null,vc=!1,t)throw Error(ie(300));return e}function Ap(){var e=al!==0;return al=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?it.memoizedState=Et=e:Et=Et.next=e,Et}function Bn(){if(vt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Et===null?it.memoizedState:Et.next;if(t!==null)Et=t,vt=e;else{if(e===null)throw Error(ie(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?it.memoizedState=Et=e:Et=Et.next=e}return Et}function ll(e,t){return typeof t=="function"?t(e):t}function hd(e){var t=Bn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=vt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var c=u.lane;if((wo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,i=r):l=l.next=f,it.lanes|=c,So|=c}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,nr(r,t.memoizedState)||(cn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,it.lanes|=o,So|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pd(e){var t=Bn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);nr(o,t.memoizedState)||(cn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xg(){}function Tg(e,t){var n=it,r=Bn(),s=t(),o=!nr(r.memoizedState,s);if(o&&(r.memoizedState=s,cn=!0),r=r.queue,Ip(Ng.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,ul(9,kg.bind(null,n,r,s,t),void 0,null),Nt===null)throw Error(ie(349));wo&30||Eg(n,t,s)}return s}function Eg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kg(e,t,n,r){t.value=n,t.getSnapshot=r,$g(t)&&_g(e)}function Ng(e,t,n){return n(function(){$g(t)&&_g(e)})}function $g(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nr(e,n)}catch{return!0}}function _g(e){var t=zr(e,1);t!==null&&Zn(t,e,1,-1)}function q3(e){var t=fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:e},t.queue=e,e=e.dispatch=u9.bind(null,it,e),[t.memoizedState,e]}function ul(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cg(){return Bn().memoizedState}function Bu(e,t,n,r){var s=fr();it.flags|=e,s.memoizedState=ul(1|t,n,void 0,r===void 0?null:r)}function lf(e,t,n,r){var s=Bn();r=r===void 0?null:r;var o=void 0;if(vt!==null){var i=vt.memoizedState;if(o=i.destroy,r!==null&&_p(r,i.deps)){s.memoizedState=ul(t,n,o,r);return}}it.flags|=e,s.memoizedState=ul(1|t,n,o,r)}function Y3(e,t){return Bu(8390656,8,e,t)}function Ip(e,t){return lf(2048,8,e,t)}function Ag(e,t){return lf(4,2,e,t)}function Ig(e,t){return lf(4,4,e,t)}function Pg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Og(e,t,n){return n=n!=null?n.concat([e]):null,lf(4,4,Pg.bind(null,t,e),n)}function Pp(){}function Dg(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_p(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fg(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_p(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mg(e,t,n){return wo&21?(nr(n,t)||(n=B4(),it.lanes|=n,So|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cn=!0),e.memoizedState=n)}function a9(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=dd.transition;dd.transition={};try{e(!1),t()}finally{Ue=n,dd.transition=r}}function Rg(){return Bn().memoizedState}function l9(e,t,n){var r=xs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(e))zg(t,n);else if(n=bg(e,t,n,r),n!==null){var s=Xt();Zn(n,e,r,s),jg(n,t,r)}}function u9(e,t,n){var r=xs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(e))zg(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,nr(a,i)){var l=t.interleaved;l===null?(s.next=s,Tp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=bg(e,t,s,r),n!==null&&(s=Xt(),Zn(n,e,r,s),jg(n,t,r))}}function Lg(e){var t=e.alternate;return e===it||t!==null&&t===it}function zg(e,t){ja=vc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,up(e,n)}}var bc={readContext:jn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},c9={readContext:jn,useCallback:function(e,t){return fr().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:Y3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bu(4194308,4,Pg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bu(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l9.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=fr();return e={current:e},t.memoizedState=e},useState:q3,useDebugValue:Pp,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=q3(!1),t=e[0];return e=a9.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,s=fr();if(tt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),Nt===null)throw Error(ie(349));wo&30||Eg(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Y3(Ng.bind(null,r,o,e),[e]),r.flags|=2048,ul(9,kg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=fr(),t=Nt.identifierPrefix;if(tt){var n=Or,r=Pr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=al++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=i9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f9={readContext:jn,useCallback:Dg,useContext:jn,useEffect:Ip,useImperativeHandle:Og,useInsertionEffect:Ag,useLayoutEffect:Ig,useMemo:Fg,useReducer:hd,useRef:Cg,useState:function(){return hd(ll)},useDebugValue:Pp,useDeferredValue:function(e){var t=Bn();return Mg(t,vt.memoizedState,e)},useTransition:function(){var e=hd(ll)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:xg,useSyncExternalStore:Tg,useId:Rg,unstable_isNewReconciler:!1},d9={readContext:jn,useCallback:Dg,useContext:jn,useEffect:Ip,useImperativeHandle:Og,useInsertionEffect:Ag,useLayoutEffect:Ig,useMemo:Fg,useReducer:pd,useRef:Cg,useState:function(){return pd(ll)},useDebugValue:Pp,useDeferredValue:function(e){var t=Bn();return vt===null?t.memoizedState=e:Mg(t,vt.memoizedState,e)},useTransition:function(){var e=pd(ll)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:xg,useSyncExternalStore:Tg,useId:Rg,unstable_isNewReconciler:!1};function Gn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function C1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:at({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uf={isMounted:function(e){return(e=e._reactInternals)?Do(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=xs(e),o=Mr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ws(e,o,s),t!==null&&(Zn(t,e,s,r),zu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=xs(e),o=Mr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ws(e,o,s),t!==null&&(Zn(t,e,s,r),zu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),r=xs(e),s=Mr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ws(e,s,r),t!==null&&(Zn(t,e,r,n),zu(t,e,r))}};function X3(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!tl(n,r)||!tl(s,o):!0}function Bg(e,t,n){var r=!1,s=As,o=t.contextType;return typeof o=="object"&&o!==null?o=jn(o):(s=dn(t)?vo:Vt.current,r=t.contextTypes,o=(r=r!=null)?$i(e,s):As),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Q3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uf.enqueueReplaceState(t,t.state,null)}function A1(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ep(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=jn(o):(o=dn(t)?vo:Vt.current,s.context=$i(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(C1(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&uf.enqueueReplaceState(s,s.state,null),gc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ii(e,t){try{var n="",r=t;do n+=j7(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function md(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function I1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h9=typeof WeakMap=="function"?WeakMap:Map;function Vg(e,t,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sc||(Sc=!0,B1=r),I1(e,t)},n}function Ug(e,t,n){n=Mr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){I1(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){I1(e,t),typeof r!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function J3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h9;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=$9.bind(null,e,t,n),t.then(e,e))}function Z3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function em(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mr(-1,1),t.tag=2,ws(n,t,1))),n.lanes|=1),e)}var p9=Xr.ReactCurrentOwner,cn=!1;function Gt(e,t,n,r){t.child=e===null?vg(t,null,n,r):Ci(t,e.child,n,r)}function tm(e,t,n,r,s){n=n.render;var o=t.ref;return wi(t,s),r=Cp(e,t,n,r,o,s),n=Ap(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(tt&&n&&yp(t),t.flags|=1,Gt(e,t,r,s),t.child)}function nm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!jp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Wg(e,t,o,r,s)):(e=Hu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(i,r)&&e.ref===t.ref)return jr(e,t,s)}return t.flags|=1,e=Ts(o,r),e.ref=t.ref,e.return=t,t.child=e}function Wg(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(tl(o,r)&&e.ref===t.ref)if(cn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(cn=!0);else return t.lanes=e.lanes,jr(e,t,s)}return P1(e,t,n,r,s)}function Hg(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(hi,Sn),Sn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(hi,Sn),Sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(hi,Sn),Sn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,qe(hi,Sn),Sn|=r;return Gt(e,t,s,n),t.child}function Kg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function P1(e,t,n,r,s){var o=dn(n)?vo:Vt.current;return o=$i(t,o),wi(t,s),n=Cp(e,t,n,r,o,s),r=Ap(),e!==null&&!cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jr(e,t,s)):(tt&&r&&yp(t),t.flags|=1,Gt(e,t,n,s),t.child)}function rm(e,t,n,r,s){if(dn(n)){var o=!0;fc(t)}else o=!1;if(wi(t,s),t.stateNode===null)Vu(e,t),Bg(t,n,r),A1(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=dn(n)?vo:Vt.current,u=$i(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Q3(t,i,r,u),ls=!1;var d=t.memoizedState;i.state=d,gc(t,r,i,s),l=t.memoizedState,a!==r||d!==l||fn.current||ls?(typeof c=="function"&&(C1(t,n,c,r),l=t.memoizedState),(a=ls||X3(t,n,a,r,d,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,wg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Gn(t.type,a),i.props=u,f=t.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=dn(n)?vo:Vt.current,l=$i(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Q3(t,i,r,l),ls=!1,d=t.memoizedState,i.state=d,gc(t,r,i,s);var b=t.memoizedState;a!==f||d!==b||fn.current||ls?(typeof m=="function"&&(C1(t,n,m,r),b=t.memoizedState),(u=ls||X3(t,n,u,r,d,b,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return O1(e,t,n,r,o,s)}function O1(e,t,n,r,s,o){Kg(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&V3(t,n,!1),jr(e,t,o);r=t.stateNode,p9.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,a,o)):Gt(e,t,a,o),t.memoizedState=r.state,s&&V3(t,n,!0),t.child}function Gg(e){var t=e.stateNode;t.pendingContext?B3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B3(e,t.context,!1),kp(e,t.containerInfo)}function sm(e,t,n,r,s){return _i(),bp(s),t.flags|=256,Gt(e,t,n,r),t.child}var D1={dehydrated:null,treeContext:null,retryLane:0};function F1(e){return{baseLanes:e,cachePool:null,transitions:null}}function qg(e,t,n){var r=t.pendingProps,s=st.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(st,s&1),e===null)return $1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=df(i,r,0,null),e=po(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=F1(n),t.memoizedState=D1,e):Op(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m9(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ts(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ts(a,o):(o=po(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?F1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=D1,r}return o=e.child,e=o.sibling,r=Ts(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Op(e,t){return t=df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mu(e,t,n,r){return r!==null&&bp(r),Ci(t,e.child,null,n),e=Op(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m9(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=md(Error(ie(422))),mu(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=df({mode:"visible",children:r.children},s,0,null),o=po(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ci(t,e.child,null,i),t.child.memoizedState=F1(i),t.memoizedState=D1,o);if(!(t.mode&1))return mu(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ie(419)),r=md(o,r,void 0),mu(e,t,i,r)}if(a=(i&e.childLanes)!==0,cn||a){if(r=Nt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,zr(e,s),Zn(r,e,s,-1))}return zp(),r=md(Error(ie(421))),mu(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_9.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,En=bs(s.nextSibling),kn=t,tt=!0,Yn=null,e!==null&&(Dn[Fn++]=Pr,Dn[Fn++]=Or,Dn[Fn++]=bo,Pr=e.id,Or=e.overflow,bo=t),t=Op(t,r.children),t.flags|=4096,t)}function om(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_1(e.return,t,n)}function gd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Yg(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Gt(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,n,t);else if(e.tag===19)om(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(st,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),gd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}gd(t,!0,n,null,o);break;case"together":gd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),So|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=Ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g9(e,t,n){switch(t.tag){case 3:Gg(t),_i();break;case 5:Sg(t);break;case 1:dn(t.type)&&fc(t);break;case 4:kp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;qe(pc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qe(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?qg(e,t,n):(qe(st,st.current&1),e=jr(e,t,n),e!==null?e.sibling:null);qe(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Yg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,Hg(e,t,n)}return jr(e,t,n)}var Xg,M1,Qg,Jg;Xg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};M1=function(){};Qg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,oo(yr.current);var o=null;switch(n){case"input":s=s1(e,s),r=s1(e,r),o=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":s=a1(e,s),r=a1(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=uc)}u1(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Jg=function(e,t,n,r){n!==r&&(t.flags|=4)};function ba(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y9(e,t,n){var r=t.pendingProps;switch(vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(t),null;case 1:return dn(t.type)&&cc(),Lt(t),null;case 3:return r=t.stateNode,Ai(),Ze(fn),Ze(Vt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(W1(Yn),Yn=null))),M1(e,t),Lt(t),null;case 5:Np(t);var s=oo(il.current);if(n=t.type,e!==null&&t.stateNode!=null)Qg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ie(166));return Lt(t),null}if(e=oo(yr.current),hu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dr]=t,r[sl]=o,e=(t.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(s=0;s<Aa.length;s++)Je(Aa[s],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":p3(r,o),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Je("invalid",r);break;case"textarea":g3(r,o),Je("invalid",r)}u1(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&du(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&du(r.textContent,a,e),s=["children",""+a]):qa.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Je("scroll",r)}switch(n){case"input":su(r),m3(r,o,!0);break;case"textarea":su(r),y3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=uc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[dr]=t,e[sl]=r,Xg(e,t,!1,!1),t.stateNode=e;e:{switch(i=c1(n,r),n){case"dialog":Je("cancel",e),Je("close",e),s=r;break;case"iframe":case"object":case"embed":Je("load",e),s=r;break;case"video":case"audio":for(s=0;s<Aa.length;s++)Je(Aa[s],e);s=r;break;case"source":Je("error",e),s=r;break;case"img":case"image":case"link":Je("error",e),Je("load",e),s=r;break;case"details":Je("toggle",e),s=r;break;case"input":p3(e,r),s=s1(e,r),Je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Je("invalid",e);break;case"textarea":g3(e,r),s=a1(e,r),Je("invalid",e);break;default:s=r}u1(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?C4(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$4(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ya(e,l):typeof l=="number"&&Ya(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Je("scroll",e):l!=null&&rp(e,o,l,i))}switch(n){case"input":su(e),m3(e,r,!1);break;case"textarea":su(e),y3(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gi(e,!!r.multiple,o,!1):r.defaultValue!=null&&gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=uc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lt(t),null;case 6:if(e&&t.stateNode!=null)Jg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ie(166));if(n=oo(il.current),oo(yr.current),hu(t)){if(r=t.stateNode,n=t.memoizedProps,r[dr]=t,(o=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:du(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&du(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=t,t.stateNode=r}return Lt(t),null;case 13:if(Ze(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&En!==null&&t.mode&1&&!(t.flags&128))gg(),_i(),t.flags|=98560,o=!1;else if(o=hu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ie(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[dr]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lt(t),o=!1}else Yn!==null&&(W1(Yn),Yn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?bt===0&&(bt=3):zp())),t.updateQueue!==null&&(t.flags|=4),Lt(t),null);case 4:return Ai(),M1(e,t),e===null&&nl(t.stateNode.containerInfo),Lt(t),null;case 10:return xp(t.type._context),Lt(t),null;case 17:return dn(t.type)&&cc(),Lt(t),null;case 19:if(Ze(st),o=t.memoizedState,o===null)return Lt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ba(o,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yc(e),i!==null){for(t.flags|=128,ba(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(st,st.current&1|2),t.child}e=e.sibling}o.tail!==null&&dt()>Pi&&(t.flags|=128,r=!0,ba(o,!1),t.lanes=4194304)}else{if(!r)if(e=yc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ba(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!tt)return Lt(t),null}else 2*dt()-o.renderingStartTime>Pi&&n!==1073741824&&(t.flags|=128,r=!0,ba(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dt(),t.sibling=null,n=st.current,qe(st,r?n&1|2:n&1),t):(Lt(t),null);case 22:case 23:return Lp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Sn&1073741824&&(Lt(t),t.subtreeFlags&6&&(t.flags|=8192)):Lt(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function v9(e,t){switch(vp(t),t.tag){case 1:return dn(t.type)&&cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),Ze(fn),Ze(Vt),$p(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Np(t),null;case 13:if(Ze(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(st),null;case 4:return Ai(),null;case 10:return xp(t.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var gu=!1,Bt=!1,b9=typeof WeakSet=="function"?WeakSet:Set,ye=null;function di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function R1(e,t,n){try{n()}catch(r){ct(e,t,r)}}var im=!1;function w9(e,t){if(w1=ic,e=rg(),gp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===s&&(a=i),d===o&&++c===r&&(l=i),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(S1={focusedElem:e,selectionRange:n},ic=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,N=b.memoizedState,S=t.stateNode,T=S.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gn(t.type,x),N);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(A){ct(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return b=im,im=!1,b}function Ba(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&R1(t,n,o)}s=s.next}while(s!==r)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function L1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zg(e){var t=e.alternate;t!==null&&(e.alternate=null,Zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[sl],delete t[E1],delete t[n9],delete t[r9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ey(e){return e.tag===5||e.tag===3||e.tag===4}function am(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uc));else if(r!==4&&(e=e.child,e!==null))for(z1(e,t,n),e=e.sibling;e!==null;)z1(e,t,n),e=e.sibling}function j1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(j1(e,t,n),e=e.sibling;e!==null;)j1(e,t,n),e=e.sibling}var It=null,qn=!1;function rs(e,t,n){for(n=n.child;n!==null;)ty(e,t,n),n=n.sibling}function ty(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:Bt||di(n,t);case 6:var r=It,s=qn;It=null,rs(e,t,n),It=r,qn=s,It!==null&&(qn?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(qn?(e=It,n=n.stateNode,e.nodeType===8?ud(e.parentNode,n):e.nodeType===1&&ud(e,n),Za(e)):ud(It,n.stateNode));break;case 4:r=It,s=qn,It=n.stateNode.containerInfo,qn=!0,rs(e,t,n),It=r,qn=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&R1(n,t,i),s=s.next}while(s!==r)}rs(e,t,n);break;case 1:if(!Bt&&(di(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,t,a)}rs(e,t,n);break;case 21:rs(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,rs(e,t,n),Bt=r):rs(e,t,n);break;default:rs(e,t,n)}}function lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b9),t.forEach(function(r){var s=C9.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,qn=!1;break e;case 3:It=a.stateNode.containerInfo,qn=!0;break e;case 4:It=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(It===null)throw Error(ie(160));ty(o,i,s),It=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ct(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ny(t,e),t=t.sibling}function ny(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),cr(e),r&4){try{Ba(3,e,e.return),cf(3,e)}catch(x){ct(e,e.return,x)}try{Ba(5,e,e.return)}catch(x){ct(e,e.return,x)}}break;case 1:Hn(t,e),cr(e),r&512&&n!==null&&di(n,n.return);break;case 5:if(Hn(t,e),cr(e),r&512&&n!==null&&di(n,n.return),e.flags&32){var s=e.stateNode;try{Ya(s,"")}catch(x){ct(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&E4(s,o),c1(a,i);var u=c1(a,o);for(i=0;i<l.length;i+=2){var c=l[i],f=l[i+1];c==="style"?C4(s,f):c==="dangerouslySetInnerHTML"?$4(s,f):c==="children"?Ya(s,f):rp(s,c,f,u)}switch(a){case"input":o1(s,o);break;case"textarea":k4(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?gi(s,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?gi(s,!!o.multiple,o.defaultValue,!0):gi(s,!!o.multiple,o.multiple?[]:"",!1))}s[sl]=o}catch(x){ct(e,e.return,x)}}break;case 6:if(Hn(t,e),cr(e),r&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ct(e,e.return,x)}}break;case 3:if(Hn(t,e),cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(x){ct(e,e.return,x)}break;case 4:Hn(t,e),cr(e);break;case 13:Hn(t,e),cr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Mp=dt())),r&4&&lm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(u=Bt)||c,Hn(t,e),Bt=u):Hn(t,e),cr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ye=e,c=e.child;c!==null;){for(f=ye=c;ye!==null;){switch(d=ye,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ba(4,d,d.return);break;case 1:di(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){ct(r,n,x)}}break;case 5:di(d,d.return);break;case 22:if(d.memoizedState!==null){cm(f);continue}}m!==null?(m.return=d,ye=m):cm(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_4("display",i))}catch(x){ct(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ct(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(t,e),cr(e),r&4&&lm(e);break;case 21:break;default:Hn(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ey(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ya(s,""),r.flags&=-33);var o=am(e);j1(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=am(e);z1(e,a,i);break;default:throw Error(ie(161))}}catch(l){ct(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S9(e,t,n){ye=e,ry(e)}function ry(e,t,n){for(var r=(e.mode&1)!==0;ye!==null;){var s=ye,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||gu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=gu;var u=Bt;if(gu=i,(Bt=l)&&!u)for(ye=s;ye!==null;)i=ye,l=i.child,i.tag===22&&i.memoizedState!==null?fm(s):l!==null?(l.return=i,ye=l):fm(s);for(;o!==null;)ye=o,ry(o),o=o.sibling;ye=s,gu=a,Bt=u}um(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ye=o):um(e)}}function um(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||cf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Gn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&G3(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}G3(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Za(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Bt||t.flags&512&&L1(t)}catch(d){ct(t,t.return,d)}}if(t===e){ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,ye=n;break}ye=t.return}}function cm(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ye=n;break}ye=t.return}}function fm(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cf(4,t)}catch(l){ct(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ct(t,s,l)}}var o=t.return;try{L1(t)}catch(l){ct(t,o,l)}break;case 5:var i=t.return;try{L1(t)}catch(l){ct(t,i,l)}}}catch(l){ct(t,t.return,l)}if(t===e){ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ye=a;break}ye=t.return}}var x9=Math.ceil,wc=Xr.ReactCurrentDispatcher,Dp=Xr.ReactCurrentOwner,zn=Xr.ReactCurrentBatchConfig,je=0,Nt=null,pt=null,Dt=0,Sn=0,hi=Fs(0),bt=0,cl=null,So=0,ff=0,Fp=0,Va=null,un=null,Mp=0,Pi=1/0,$r=null,Sc=!1,B1=null,Ss=null,yu=!1,ds=null,xc=0,Ua=0,V1=null,Uu=-1,Wu=0;function Xt(){return je&6?dt():Uu!==-1?Uu:Uu=dt()}function xs(e){return e.mode&1?je&2&&Dt!==0?Dt&-Dt:o9.transition!==null?(Wu===0&&(Wu=B4()),Wu):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:q4(e.type)),e):1}function Zn(e,t,n,r){if(50<Ua)throw Ua=0,V1=null,Error(ie(185));kl(e,n,r),(!(je&2)||e!==Nt)&&(e===Nt&&(!(je&2)&&(ff|=n),bt===4&&cs(e,Dt)),hn(e,r),n===1&&je===0&&!(t.mode&1)&&(Pi=dt()+500,af&&Ms()))}function hn(e,t){var n=e.callbackNode;o8(e,t);var r=oc(e,e===Nt?Dt:0);if(r===0)n!==null&&w3(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&w3(n),t===1)e.tag===0?s9(dm.bind(null,e)):hg(dm.bind(null,e)),e9(function(){!(je&6)&&Ms()}),n=null;else{switch(V4(r)){case 1:n=lp;break;case 4:n=z4;break;case 16:n=sc;break;case 536870912:n=j4;break;default:n=sc}n=fy(n,sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sy(e,t){if(Uu=-1,Wu=0,je&6)throw Error(ie(327));var n=e.callbackNode;if(Si()&&e.callbackNode!==n)return null;var r=oc(e,e===Nt?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tc(e,r);else{t=r;var s=je;je|=2;var o=iy();(Nt!==e||Dt!==t)&&($r=null,Pi=dt()+500,ho(e,t));do try{k9();break}catch(a){oy(e,a)}while(!0);Sp(),wc.current=o,je=s,pt!==null?t=0:(Nt=null,Dt=0,t=bt)}if(t!==0){if(t===2&&(s=m1(e),s!==0&&(r=s,t=U1(e,s))),t===1)throw n=cl,ho(e,0),cs(e,r),hn(e,dt()),n;if(t===6)cs(e,r);else{if(s=e.current.alternate,!(r&30)&&!T9(s)&&(t=Tc(e,r),t===2&&(o=m1(e),o!==0&&(r=o,t=U1(e,o))),t===1))throw n=cl,ho(e,0),cs(e,r),hn(e,dt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ie(345));case 2:Zs(e,un,$r);break;case 3:if(cs(e,r),(r&130023424)===r&&(t=Mp+500-dt(),10<t)){if(oc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=T1(Zs.bind(null,e,un,$r),t);break}Zs(e,un,$r);break;case 4:if(cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Jn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x9(r/1960))-r,10<r){e.timeoutHandle=T1(Zs.bind(null,e,un,$r),r);break}Zs(e,un,$r);break;case 5:Zs(e,un,$r);break;default:throw Error(ie(329))}}}return hn(e,dt()),e.callbackNode===n?sy.bind(null,e):null}function U1(e,t){var n=Va;return e.current.memoizedState.isDehydrated&&(ho(e,t).flags|=256),e=Tc(e,t),e!==2&&(t=un,un=n,t!==null&&W1(t)),e}function W1(e){un===null?un=e:un.push.apply(un,e)}function T9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!nr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Fp,t&=~ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jn(t),r=1<<n;e[n]=-1,t&=~r}}function dm(e){if(je&6)throw Error(ie(327));Si();var t=oc(e,0);if(!(t&1))return hn(e,dt()),null;var n=Tc(e,t);if(e.tag!==0&&n===2){var r=m1(e);r!==0&&(t=r,n=U1(e,r))}if(n===1)throw n=cl,ho(e,0),cs(e,t),hn(e,dt()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,un,$r),hn(e,dt()),null}function Rp(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Pi=dt()+500,af&&Ms())}}function xo(e){ds!==null&&ds.tag===0&&!(je&6)&&Si();var t=je;je|=1;var n=zn.transition,r=Ue;try{if(zn.transition=null,Ue=1,e)return e()}finally{Ue=r,zn.transition=n,je=t,!(je&6)&&Ms()}}function Lp(){Sn=hi.current,Ze(hi)}function ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Z8(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cc();break;case 3:Ai(),Ze(fn),Ze(Vt),$p();break;case 5:Np(r);break;case 4:Ai();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:xp(r.type._context);break;case 22:case 23:Lp()}n=n.return}if(Nt=e,pt=e=Ts(e.current,null),Dt=Sn=t,bt=0,cl=null,Fp=ff=So=0,un=Va=null,so!==null){for(t=0;t<so.length;t++)if(n=so[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}so=null}return e}function oy(e,t){do{var n=pt;try{if(Sp(),ju.current=bc,vc){for(var r=it.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vc=!1}if(wo=0,Et=vt=it=null,ja=!1,al=0,Dp.current=null,n===null||n.return===null){bt=1,cl=t,pt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Z3(i);if(m!==null){m.flags&=-257,em(m,i,a,o,t),m.mode&1&&J3(o,u,t),t=m,l=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(l),t.updateQueue=x}else b.add(l);break e}else{if(!(t&1)){J3(o,u,t),zp();break e}l=Error(ie(426))}}else if(tt&&a.mode&1){var N=Z3(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),em(N,i,a,o,t),bp(Ii(l,a));break e}}o=l=Ii(l,a),bt!==4&&(bt=2),Va===null?Va=[o]:Va.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=Vg(o,l,t);K3(o,S);break e;case 1:a=l;var T=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ss===null||!Ss.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var A=Ug(o,a,t);K3(o,A);break e}}o=o.return}while(o!==null)}ly(n)}catch(M){t=M,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function iy(){var e=wc.current;return wc.current=bc,e===null?bc:e}function zp(){(bt===0||bt===3||bt===2)&&(bt=4),Nt===null||!(So&268435455)&&!(ff&268435455)||cs(Nt,Dt)}function Tc(e,t){var n=je;je|=2;var r=iy();(Nt!==e||Dt!==t)&&($r=null,ho(e,t));do try{E9();break}catch(s){oy(e,s)}while(!0);if(Sp(),je=n,wc.current=r,pt!==null)throw Error(ie(261));return Nt=null,Dt=0,bt}function E9(){for(;pt!==null;)ay(pt)}function k9(){for(;pt!==null&&!X7();)ay(pt)}function ay(e){var t=cy(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?ly(e):pt=t,Dp.current=null}function ly(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v9(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,pt=null;return}}else if(n=y9(n,t,Sn),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);bt===0&&(bt=5)}function Zs(e,t,n){var r=Ue,s=zn.transition;try{zn.transition=null,Ue=1,N9(e,t,n,r)}finally{zn.transition=s,Ue=r}return null}function N9(e,t,n,r){do Si();while(ds!==null);if(je&6)throw Error(ie(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(i8(e,o),e===Nt&&(pt=Nt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yu||(yu=!0,fy(sc,function(){return Si(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var i=Ue;Ue=1;var a=je;je|=4,Dp.current=null,w9(e,n),ny(n,e),K8(S1),ic=!!w1,S1=w1=null,e.current=n,S9(n),Q7(),je=a,Ue=i,zn.transition=o}else e.current=n;if(yu&&(yu=!1,ds=e,xc=s),o=e.pendingLanes,o===0&&(Ss=null),e8(n.stateNode),hn(e,dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Sc)throw Sc=!1,e=B1,B1=null,e;return xc&1&&e.tag!==0&&Si(),o=e.pendingLanes,o&1?e===V1?Ua++:(Ua=0,V1=e):Ua=0,Ms(),null}function Si(){if(ds!==null){var e=V4(xc),t=zn.transition,n=Ue;try{if(zn.transition=null,Ue=16>e?16:e,ds===null)var r=!1;else{if(e=ds,ds=null,xc=0,je&6)throw Error(ie(331));var s=je;for(je|=4,ye=e.current;ye!==null;){var o=ye,i=o.child;if(ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ye=u;ye!==null;){var c=ye;switch(c.tag){case 0:case 11:case 15:Ba(8,c,o)}var f=c.child;if(f!==null)f.return=c,ye=f;else for(;ye!==null;){c=ye;var d=c.sibling,m=c.return;if(Zg(c),c===u){ye=null;break}if(d!==null){d.return=m,ye=d;break}ye=m}}}var b=o.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}ye=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ye=i;else e:for(;ye!==null;){if(o=ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ba(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,ye=S;break e}ye=o.return}}var T=e.current;for(ye=T;ye!==null;){i=ye;var k=i.child;if(i.subtreeFlags&2064&&k!==null)k.return=i,ye=k;else e:for(i=T;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cf(9,a)}}catch(M){ct(a,a.return,M)}if(a===i){ye=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ye=A;break e}ye=a.return}}if(je=s,Ms(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(tf,e)}catch{}r=!0}return r}finally{Ue=n,zn.transition=t}}return!1}function hm(e,t,n){t=Ii(n,t),t=Vg(e,t,1),e=ws(e,t,1),t=Xt(),e!==null&&(kl(e,1,t),hn(e,t))}function ct(e,t,n){if(e.tag===3)hm(e,e,n);else for(;t!==null;){if(t.tag===3){hm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ss===null||!Ss.has(r))){e=Ii(n,e),e=Ug(t,e,1),t=ws(t,e,1),e=Xt(),t!==null&&(kl(t,1,e),hn(t,e));break}}t=t.return}}function $9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(Dt&n)===n&&(bt===4||bt===3&&(Dt&130023424)===Dt&&500>dt()-Mp?ho(e,0):Fp|=n),hn(e,t)}function uy(e,t){t===0&&(e.mode&1?(t=au,au<<=1,!(au&130023424)&&(au=4194304)):t=1);var n=Xt();e=zr(e,t),e!==null&&(kl(e,t,n),hn(e,n))}function _9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uy(e,n)}function C9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(t),uy(e,n)}var cy;cy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cn=!1,g9(e,t,n);cn=!!(e.flags&131072)}else cn=!1,tt&&t.flags&1048576&&pg(t,hc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vu(e,t),e=t.pendingProps;var s=$i(t,Vt.current);wi(t,n),s=Cp(null,t,r,e,s,n);var o=Ap();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(r)?(o=!0,fc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ep(t),s.updater=uf,t.stateNode=s,s._reactInternals=t,A1(t,r,e,n),t=O1(null,t,r,!0,o,n)):(t.tag=0,tt&&o&&yp(t),Gt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=I9(r),e=Gn(r,e),s){case 0:t=P1(null,t,r,e,n);break e;case 1:t=rm(null,t,r,e,n);break e;case 11:t=tm(null,t,r,e,n);break e;case 14:t=nm(null,t,r,Gn(r.type,e),n);break e}throw Error(ie(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gn(r,s),P1(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gn(r,s),rm(e,t,r,s,n);case 3:e:{if(Gg(t),e===null)throw Error(ie(387));r=t.pendingProps,o=t.memoizedState,s=o.element,wg(e,t),gc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ii(Error(ie(423)),t),t=sm(e,t,r,n,s);break e}else if(r!==s){s=Ii(Error(ie(424)),t),t=sm(e,t,r,n,s);break e}else for(En=bs(t.stateNode.containerInfo.firstChild),kn=t,tt=!0,Yn=null,n=vg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_i(),r===s){t=jr(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return Sg(t),e===null&&$1(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,x1(r,s)?i=null:o!==null&&x1(r,o)&&(t.flags|=32),Kg(e,t),Gt(e,t,i,n),t.child;case 6:return e===null&&$1(t),null;case 13:return qg(e,t,n);case 4:return kp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gn(r,s),tm(e,t,r,s,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,qe(pc,r._currentValue),r._currentValue=i,o!==null)if(nr(o.value,i)){if(o.children===s.children&&!fn.current){t=jr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_1(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ie(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),_1(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Gt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,wi(t,n),s=jn(s),r=r(s),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,s=Gn(r,t.pendingProps),s=Gn(r.type,s),nm(e,t,r,s,n);case 15:return Wg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Gn(r,s),Vu(e,t),t.tag=1,dn(r)?(e=!0,fc(t)):e=!1,wi(t,n),Bg(t,r,s),A1(t,r,s,n),O1(null,t,r,!0,e,n);case 19:return Yg(e,t,n);case 22:return Hg(e,t,n)}throw Error(ie(156,t.tag))};function fy(e,t){return L4(e,t)}function A9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,n,r){return new A9(e,t,n,r)}function jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I9(e){if(typeof e=="function")return jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===op)return 11;if(e===ip)return 14}return 2}function Ts(e,t){var n=e.alternate;return n===null?(n=Ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")jp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ri:return po(n.children,s,o,t);case sp:i=8,s|=8;break;case e1:return e=Ln(12,n,t,s|2),e.elementType=e1,e.lanes=o,e;case t1:return e=Ln(13,n,t,s),e.elementType=t1,e.lanes=o,e;case n1:return e=Ln(19,n,t,s),e.elementType=n1,e.lanes=o,e;case S4:return df(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b4:i=10;break e;case w4:i=9;break e;case op:i=11;break e;case ip:i=14;break e;case as:i=16,r=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Ln(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function po(e,t,n,r){return e=Ln(7,e,r,t),e.lanes=n,e}function df(e,t,n,r){return e=Ln(22,e,r,t),e.elementType=S4,e.lanes=n,e.stateNode={isHidden:!1},e}function yd(e,t,n){return e=Ln(6,e,null,t),e.lanes=n,e}function vd(e,t,n){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P9(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bp(e,t,n,r,s,o,i,a,l){return e=new P9(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ln(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(o),e}function O9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dy(e){if(!e)return As;e=e._reactInternals;e:{if(Do(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(dn(n))return dg(e,n,t)}return t}function hy(e,t,n,r,s,o,i,a,l){return e=Bp(n,r,!0,e,s,o,i,a,l),e.context=dy(null),n=e.current,r=Xt(),s=xs(n),o=Mr(r,s),o.callback=t??null,ws(n,o,s),e.current.lanes=s,kl(e,s,r),hn(e,r),e}function hf(e,t,n,r){var s=t.current,o=Xt(),i=xs(s);return n=dy(n),t.context===null?t.context=n:t.pendingContext=n,t=Mr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ws(s,t,i),e!==null&&(Zn(e,s,i,o),zu(e,s,i)),i}function Ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vp(e,t){pm(e,t),(e=e.alternate)&&pm(e,t)}function D9(){return null}var py=typeof reportError=="function"?reportError:function(e){console.error(e)};function Up(e){this._internalRoot=e}pf.prototype.render=Up.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));hf(e,t,null,null)};pf.prototype.unmount=Up.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xo(function(){hf(null,e,null,null)}),t[Lr]=null}};function pf(e){this._internalRoot=e}pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=H4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<us.length&&t!==0&&t<us[n].priority;n++);us.splice(n,0,e),n===0&&G4(e)}};function Wp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mm(){}function F9(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Ec(i);o.call(u)}}var i=hy(t,r,e,0,null,!1,!1,"",mm);return e._reactRootContainer=i,e[Lr]=i.current,nl(e.nodeType===8?e.parentNode:e),xo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ec(l);a.call(u)}}var l=Bp(e,0,!1,null,null,!1,!1,"",mm);return e._reactRootContainer=l,e[Lr]=l.current,nl(e.nodeType===8?e.parentNode:e),xo(function(){hf(t,l,n,r)}),l}function gf(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Ec(i);a.call(l)}}hf(t,i,e,s)}else i=F9(n,t,e,s,r);return Ec(i)}U4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ca(t.pendingLanes);n!==0&&(up(t,n|1),hn(t,dt()),!(je&6)&&(Pi=dt()+500,Ms()))}break;case 13:xo(function(){var r=zr(e,1);if(r!==null){var s=Xt();Zn(r,e,1,s)}}),Vp(e,1)}};cp=function(e){if(e.tag===13){var t=zr(e,134217728);if(t!==null){var n=Xt();Zn(t,e,134217728,n)}Vp(e,134217728)}};W4=function(e){if(e.tag===13){var t=xs(e),n=zr(e,t);if(n!==null){var r=Xt();Zn(n,e,t,r)}Vp(e,t)}};H4=function(){return Ue};K4=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};d1=function(e,t,n){switch(t){case"input":if(o1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=of(r);if(!s)throw Error(ie(90));T4(r),o1(r,s)}}}break;case"textarea":k4(e,n);break;case"select":t=n.value,t!=null&&gi(e,!!n.multiple,t,!1)}};P4=Rp;O4=xo;var M9={usingClientEntryPoint:!1,Events:[$l,ai,of,A4,I4,Rp]},wa={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R9={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M4(e),e===null?null:e.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||D9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{tf=vu.inject(R9),gr=vu}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M9;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(t))throw Error(ie(200));return O9(e,t,null,n)};_n.createRoot=function(e,t){if(!Wp(e))throw Error(ie(299));var n=!1,r="",s=py;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bp(e,1,!1,null,null,n,!1,r,s),e[Lr]=t.current,nl(e.nodeType===8?e.parentNode:e),new Up(t)};_n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=M4(t),e=e===null?null:e.stateNode,e};_n.flushSync=function(e){return xo(e)};_n.hydrate=function(e,t,n){if(!mf(t))throw Error(ie(200));return gf(null,e,t,!0,n)};_n.hydrateRoot=function(e,t,n){if(!Wp(e))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=py;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=hy(t,null,e,1,n??null,s,!1,o,i),e[Lr]=t.current,nl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new pf(t)};_n.render=function(e,t,n){if(!mf(t))throw Error(ie(200));return gf(null,e,t,!1,n)};_n.unmountComponentAtNode=function(e){if(!mf(e))throw Error(ie(40));return e._reactRootContainer?(xo(function(){gf(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};_n.unstable_batchedUpdates=Rp;_n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mf(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return gf(e,t,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function my(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(my)}catch(e){console.error(e)}}my(),m4.exports=_n;var L9=m4.exports,gm=L9;Jd.createRoot=gm.createRoot,Jd.hydrateRoot=gm.hydrateRoot;function Hp(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,s=U.createContext(void 0);s.displayName=r;function o(){var i;const a=U.useContext(s);if(!a&&t){const l=new Error(n);throw l.name="ContextError",(i=Error.captureStackTrace)==null||i.call(Error,l,o),l}return a}return[s.Provider,o,s]}function yf(e){const t=U.useRef(null);return U.useImperativeHandle(e,()=>t.current),t}function gy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=gy(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fl(...e){for(var t=0,n,r,s="";t<e.length;)(n=e[t++])&&(r=gy(n))&&(s&&(s+=" "),s+=r);return s}function z9(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function Kp(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function j9(e,t,n){return Math.min(Math.max(e,t),n)}var Xn=e=>e?"true":void 0,B9=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),V9=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),ym=/^(data-.*)$/,U9=/^(aria-.*)$/,bu=/^(on[A-Z].*)$/;function kc(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:s,omitPropNames:o,omitEventNames:i,omitDataProps:a,omitEventProps:l}=t,u={};if(!r)return e;for(const c in e)o!=null&&o.has(c)||i!=null&&i.has(c)&&bu.test(c)||bu.test(c)&&!V9.has(c)||a&&ym.test(c)||l&&bu.test(c)||(Object.prototype.hasOwnProperty.call(e,c)&&(B9.has(c)||n&&U9.test(c)||s!=null&&s.has(c)||ym.test(c))||bu.test(c))&&(u[c]=e[c]);return u}var[W9,bj]=Hp({name:"ProviderContext",strict:!1});const H9=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),K9=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function yy(e){if(Intl.Locale){let n=new Intl.Locale(e).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return H9.has(n.script)}let t=e.split("-")[0];return K9.has(t)}const Nc={prefix:String(Math.round(Math.random()*1e10)),current:0},vy=wt.createContext(Nc),G9=wt.createContext(!1);let q9=!!(typeof window<"u"&&window.document&&window.document.createElement),bd=new WeakMap;function Y9(e=!1){let t=U.useContext(vy),n=U.useRef(null);if(n.current===null&&!e){var r,s;let o=(s=wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let i=bd.get(o);i==null?bd.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==i.state&&(t.current=i.id,bd.delete(o))}n.current=++t.current}return n.current}function X9(e){let t=U.useContext(vy);t===Nc&&!q9&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=Y9(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function Q9(e){let t=wt.useId(),[n]=U.useState(by()),r=n?"react-aria":`react-aria${Nc.prefix}`;return e||`${r}-${t}`}wt.useId;function J9(){return!1}function Z9(){return!0}function eb(e){return()=>{}}function by(){return typeof wt.useSyncExternalStore=="function"?wt.useSyncExternalStore(eb,J9,Z9):U.useContext(G9)}const tb=Symbol.for("react-aria.i18n.locale");function wy(){let e=typeof window<"u"&&window[tb]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:yy(e)?"rtl":"ltr"}}let H1=wy(),Ia=new Set;function vm(){H1=wy();for(let e of Ia)e(H1)}function nb(){let e=by(),[t,n]=U.useState(H1);return U.useEffect(()=>(Ia.size===0&&window.addEventListener("languagechange",vm),Ia.add(n),()=>{Ia.delete(n),Ia.size===0&&window.removeEventListener("languagechange",vm)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const rb=wt.createContext(null);function sb(e){let{locale:t,children:n}=e,r=nb(),s=t?{locale:t,direction:yy(t)?"rtl":"ltr"}:r;return wt.createElement(rb.Provider,{value:s},n)}function wd(e,t){return e-t*Math.floor(e/t)}const Sy=1721426;function wu(e,t,n,r){t=Gp(e,t);let s=t-1,o=-2;return n<=2?o=0:Ku(t)&&(o=-1),Sy-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*n-362)/12+o+r)}function Ku(e){return e%4===0&&(e%100!==0||e%400===0)}function Gp(e,t){return e==="BC"?1-t:t}function ob(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}const ib={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class vf{fromJulianDay(t){let n=t,r=n-Sy,s=Math.floor(r/146097),o=wd(r,146097),i=Math.floor(o/36524),a=wd(o,36524),l=Math.floor(a/1461),u=wd(a,1461),c=Math.floor(u/365),f=s*400+i*100+l*4+c+(i!==4&&c!==4?1:0),[d,m]=ob(f),b=n-wu(d,m,1,1),x=2;n<wu(d,m,3,1)?x=0:Ku(m)&&(x=1);let N=Math.floor(((b+x)*12+373)/367),S=n-wu(d,m,N,1)+1;return new Di(d,m,N,S)}toJulianDay(t){return wu(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return ib[Ku(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return Ku(t.year)?366:365}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}}function xy(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function ab(e,t){return bm(e)-bm(t)}function bm(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}let Sd=null;function Ty(){return Sd==null&&(Sd=new Intl.DateTimeFormat().resolvedOptions().timeZone),Sd}function wm(e){e=qp(e,new vf);let t=Gp(e.era,e.year);return Ey(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function Ey(e,t,n,r,s,o,i){let a=new Date;return a.setUTCHours(r,s,o,i),a.setUTCFullYear(e,t-1,n),a.getTime()}function Sm(e,t){if(t==="UTC")return 0;if(e>0&&t===Ty())return new Date(e).getTimezoneOffset()*-6e4;let{year:n,month:r,day:s,hour:o,minute:i,second:a}=ky(e,t);return Ey(n,r,s,o,i,a,0)-Math.floor(e/1e3)*1e3}const xm=new Map;function ky(e,t){let n=xm.get(t);n||(n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),xm.set(t,n));let r=n.formatToParts(new Date(e)),s={};for(let o of r)o.type!=="literal"&&(s[o.type]=o.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const Tm=864e5;function lb(e,t,n,r){return(n===r?[n]:[n,r]).filter(o=>ub(e,t,o))}function ub(e,t,n){let r=ky(n,t);return e.year===r.year&&e.month===r.month&&e.day===r.day&&e.hour===r.hour&&e.minute===r.minute&&e.second===r.second}function cb(e,t,n="compatible"){let r=$y(e);if(t==="UTC")return wm(r);if(t===Ty()&&n==="compatible"){r=qp(r,new vf);let l=new Date,u=Gp(r.era,r.year);return l.setFullYear(u,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let s=wm(r),o=Sm(s-Tm,t),i=Sm(s+Tm,t),a=lb(r,t,s-o,s-i);if(a.length===1)return a[0];if(a.length>1)switch(n){case"compatible":case"earlier":return a[0];case"later":return a[a.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(n){case"earlier":return Math.min(s-o,s-i);case"compatible":case"later":return Math.max(s-o,s-i);case"reject":throw new RangeError("No such absolute time found")}}function Ny(e,t,n="compatible"){return new Date(cb(e,t,n))}function $y(e,t){let n=0,r=0,s=0,o=0;if("timeZone"in e)({hour:n,minute:r,second:s,millisecond:o}=e);else if("hour"in e&&!t)return e;return t&&({hour:n,minute:r,second:s,millisecond:o}=t),new $c(e.calendar,e.era,e.year,e.month,e.day,n,r,s,o)}function qp(e,t){if(e.calendar.identifier===t.identifier)return e;let n=t.fromJulianDay(e.calendar.toJulianDay(e)),r=e.copy();return r.calendar=t,r.era=n.era,r.year=n.year,r.month=n.month,r.day=n.day,Oi(r),r}function Yp(e,t){let n=e.copy(),r="hour"in n?gb(n,t):0;K1(n,t.years||0),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,e),n.month+=t.months||0,G1(n),_y(n),n.day+=(t.weeks||0)*7,n.day+=t.days||0,n.day+=r,fb(n),n.calendar.balanceDate&&n.calendar.balanceDate(n),n.year<1&&(n.year=1,n.month=1,n.day=1);let s=n.calendar.getYearsInEra(n);if(n.year>s){var o,i;let l=(o=(i=n.calendar).isInverseEra)===null||o===void 0?void 0:o.call(i,n);n.year=s,n.month=l?1:n.calendar.getMonthsInYear(n),n.day=l?1:n.calendar.getDaysInMonth(n)}n.month<1&&(n.month=1,n.day=1);let a=n.calendar.getMonthsInYear(n);return n.month>a&&(n.month=a,n.day=n.calendar.getDaysInMonth(n)),n.day=Math.max(1,Math.min(n.calendar.getDaysInMonth(n),n.day)),n}function K1(e,t){var n,r;!((n=(r=e.calendar).isInverseEra)===null||n===void 0)&&n.call(r,e)&&(t=-t),e.year+=t}function G1(e){for(;e.month<1;)K1(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,K1(e,1)}function fb(e){for(;e.day<1;)e.month--,G1(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,G1(e)}function _y(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Oi(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),_y(e)}function db(e){let t={};for(let n in e)typeof e[n]=="number"&&(t[n]=-e[n]);return t}function Cy(e,t){return Yp(e,db(t))}function Ay(e,t){let n=e.copy();return t.era!=null&&(n.era=t.era),t.year!=null&&(n.year=t.year),t.month!=null&&(n.month=t.month),t.day!=null&&(n.day=t.day),Oi(n),n}function hb(e,t){let n=e.copy();return t.hour!=null&&(n.hour=t.hour),t.minute!=null&&(n.minute=t.minute),t.second!=null&&(n.second=t.second),t.millisecond!=null&&(n.millisecond=t.millisecond),mb(n),n}function pb(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Su(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Su(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Su(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Su(e.hour,24),t}function mb(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function Su(e,t){let n=e%t;return n<0&&(n+=t),n}function gb(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,pb(e)}function Iy(e,t,n,r){let s=e.copy();switch(t){case"era":{let a=e.calendar.getEras(),l=a.indexOf(e.era);if(l<0)throw new Error("Invalid era: "+e.era);l=hs(l,n,0,a.length-1,r==null?void 0:r.round),s.era=a[l],Oi(s);break}case"year":var o,i;!((o=(i=s.calendar).isInverseEra)===null||o===void 0)&&o.call(i,s)&&(n=-n),s.year=hs(e.year,n,-1/0,9999,r==null?void 0:r.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,e);break;case"month":s.month=hs(e.month,n,1,e.calendar.getMonthsInYear(e),r==null?void 0:r.round);break;case"day":s.day=hs(e.day,n,1,e.calendar.getDaysInMonth(e),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(s),Oi(s),s}function yb(e,t,n,r){let s=e.copy();switch(t){case"hour":{let o=e.hour,i=0,a=23;if((r==null?void 0:r.hourCycle)===12){let l=o>=12;i=l?12:0,a=l?23:11}s.hour=hs(o,n,i,a,r==null?void 0:r.round);break}case"minute":s.minute=hs(e.minute,n,0,59,r==null?void 0:r.round);break;case"second":s.second=hs(e.second,n,0,59,r==null?void 0:r.round);break;case"millisecond":s.millisecond=hs(e.millisecond,n,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+t)}return s}function hs(e,t,n,r,s=!1){if(s){e+=Math.sign(t),e<n&&(e=r);let o=Math.abs(t);t>0?e=Math.ceil(e/o)*o:e=Math.floor(e/o)*o,e>r&&(e=n)}else e+=t,e<n?e=r-(n-e-1):e>r&&(e=n+(e-r-1));return e}function vb(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function Py(e){let t=qp(e,new vf);return`${String(t.year).padStart(4,"0")}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function bb(e){return`${Py(e)}T${vb(e)}`}function wb(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xp(e,t,n){wb(e,t),t.set(e,n)}function Oy(e){let t=typeof e[0]=="object"?e.shift():new vf,n;if(typeof e[0]=="string")n=e.shift();else{let i=t.getEras();n=i[i.length-1]}let r=e.shift(),s=e.shift(),o=e.shift();return[t,n,r,s,o]}var Sb=new WeakMap;class Di{copy(){return this.era?new Di(this.calendar,this.era,this.year,this.month,this.day):new Di(this.calendar,this.year,this.month,this.day)}add(t){return Yp(this,t)}subtract(t){return Cy(this,t)}set(t){return Ay(this,t)}cycle(t,n,r){return Iy(this,t,n,r)}toDate(t){return Ny(this,t)}toString(){return Py(this)}compare(t){return xy(this,t)}constructor(...t){Xp(this,Sb,{writable:!0,value:void 0});let[n,r,s,o,i]=Oy(t);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,Oi(this)}}var xb=new WeakMap;class $c{copy(){return this.era?new $c(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new $c(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return Yp(this,t)}subtract(t){return Cy(this,t)}set(t){return Ay(hb(this,t),t)}cycle(t,n,r){switch(t){case"era":case"year":case"month":case"day":return Iy(this,t,n,r);default:return yb(this,t,n,r)}}toDate(t,n){return Ny(this,t,n)}toString(){return bb(this)}compare(t){let n=xy(this,t);return n===0?ab(this,$y(t)):n}constructor(...t){Xp(this,xb,{writable:!0,value:void 0});let[n,r,s,o,i]=Oy(t);this.calendar=n,this.era=r,this.year=s,this.month=o,this.day=i,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Oi(this)}}const Qp=typeof document<"u"?wt.useLayoutEffect:()=>{};function Qo(e){const t=U.useRef(null);return Qp(()=>{t.current=e},[e]),U.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}let Em=new Map;function Tb(e,t){if(e===t)return e;let n=Em.get(e);if(n)return n(t),t;let r=Em.get(t);return r?(r(e),e):t}function bf(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Tn=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},hr=e=>e&&"window"in e&&e.window===e?e:Tn(e).defaultView||window;function Dy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Dy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Eb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Dy(e))&&(r&&(r+=" "),r+=t);return r}function Br(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let s in r){let o=t[s],i=r[s];typeof o=="function"&&typeof i=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=bf(o,i):(s==="className"||s==="UNSAFE_className")&&typeof o=="string"&&typeof i=="string"?t[s]=Eb(o,i):s==="id"&&o&&i?t.id=Tb(o,i):t[s]=i!==void 0?i:o}}return t}const kb=new Set(["id"]),Nb=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),$b=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),_b=/^(data-.*)$/;function Cb(e,t={}){let{labelable:n,isLink:r,propNames:s}=t,o={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(kb.has(i)||n&&Nb.has(i)||r&&$b.has(i)||s!=null&&s.has(i)||_b.test(i))&&(o[i]=e[i]);return o}function io(e){if(Ab())e.focus({preventScroll:!0});else{let t=Ib(e);e.focus(),Pb(t)}}let xu=null;function Ab(){if(xu==null){xu=!1;try{document.createElement("div").focus({get preventScroll(){return xu=!0,!0}})}catch{}}return xu}function Ib(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Pb(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function wf(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Jp(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dl(){return Jp(/^Mac/i)}function Ob(){return Jp(/^iPhone/i)}function Fy(){return Jp(/^iPad/i)||dl()&&navigator.maxTouchPoints>1}function My(){return Ob()||Fy()}function Db(){return wf(/AppleWebKit/i)&&!Fb()}function Fb(){return wf(/Chrome/i)}function Ry(){return wf(/Android/i)}function Mb(){return wf(/Firefox/i)}const Rb=U.createContext({isNative:!0,open:jb,useHref:e=>e});function Lb(e){let{children:t,navigate:n,useHref:r}=e,s=U.useMemo(()=>({isNative:!1,open:(o,i,a,l)=>{Ly(o,u=>{zb(u,i)?n(a,l):To(u,i)})},useHref:r||(o=>o)}),[n,r]);return wt.createElement(Rb.Provider,{value:s},t)}function zb(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function To(e,t,n=!0){var r,s;let{metaKey:o,ctrlKey:i,altKey:a,shiftKey:l}=t;Mb()&&(!((s=window.event)===null||s===void 0||(r=s.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(dl()?o=!0:i=!0);let u=Db()&&dl()&&!Fy()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:i,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:o,ctrlKey:i,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});To.isOpening=n,io(e),e.dispatchEvent(u),To.isOpening=!1}To.isOpening=!1;function Ly(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function jb(e,t){Ly(e,n=>To(n,t))}let Jo=new Map,q1=new Set;function km(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let s=Jo.get(r.target);s||(s=new Set,Jo.set(r.target,s),r.target.addEventListener("transitioncancel",n,{once:!0})),s.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let s=Jo.get(r.target);if(s&&(s.delete(r.propertyName),s.size===0&&(r.target.removeEventListener("transitioncancel",n),Jo.delete(r.target)),Jo.size===0)){for(let o of q1)o();q1.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?km():document.addEventListener("DOMContentLoaded",km));function zy(e){requestAnimationFrame(()=>{Jo.size===0?e():q1.add(e)})}function Bb(){let e=U.useRef(new Map),t=U.useCallback((s,o,i,a)=>{let l=a!=null&&a.once?(...u)=>{e.current.delete(i),i(...u)}:i;e.current.set(i,{type:o,eventTarget:s,fn:l,options:a}),s.addEventListener(o,i,a)},[]),n=U.useCallback((s,o,i,a)=>{var l;let u=((l=e.current.get(i))===null||l===void 0?void 0:l.fn)||i;s.removeEventListener(o,u,a),e.current.delete(i)},[]),r=U.useCallback(()=>{e.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return U.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function jy(e,t){Qp(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Y1(e){return e.mozInputSource===0&&e.isTrusted?!0:Ry()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Vb(e){return!Ry()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let pi="default",X1="",Gu=new WeakMap;function Nm(e){if(My()){if(pi==="default"){const t=Tn(e);X1=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}pi="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(Gu.set(e,e.style.userSelect),e.style.userSelect="none")}function Tu(e){if(My()){if(pi!=="disabled")return;pi="restoring",setTimeout(()=>{zy(()=>{if(pi==="restoring"){const t=Tn(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=X1||""),X1="",pi="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Gu.has(e)){let t=Gu.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),Gu.delete(e)}}const By=wt.createContext({register:()=>{}});By.displayName="PressResponderContext";function Ub(e,t){return t.get?t.get.call(e):t.value}function Vy(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Wb(e,t){var n=Vy(e,t,"get");return Ub(e,n)}function Hb(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function $m(e,t,n){var r=Vy(e,t,"set");return Hb(e,r,n),n}function Kb(e){let t=U.useContext(By);if(t){let{register:n,...r}=t;e=Br(r,e),n()}return jy(t,e.ref),e}var Eu=new WeakMap;class ku{continuePropagation(){$m(this,Eu,!1)}get shouldStopPropagation(){return Wb(this,Eu)}constructor(t,n,r){Xp(this,Eu,{writable:!0,value:void 0}),$m(this,Eu,!0),this.type=t,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey}}const _m=Symbol("linkClicked");function Uy(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:s,onPressUp:o,isDisabled:i,isPressed:a,preventFocusOnPress:l,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:c,ref:f,...d}=Kb(e),[m,b]=U.useState(!1),x=U.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:N,removeAllGlobalListeners:S}=Bb(),T=Qo((C,V)=>{let K=x.current;if(i||K.didFirePressStart)return!1;let X=!0;if(K.isTriggeringEvent=!0,r){let Q=new ku("pressstart",V,C);r(Q),X=Q.shouldStopPropagation}return n&&n(!0),K.isTriggeringEvent=!1,K.didFirePressStart=!0,b(!0),X}),k=Qo((C,V,K=!0)=>{let X=x.current;if(!X.didFirePressStart)return!1;X.ignoreClickAfterPress=!0,X.didFirePressStart=!1,X.isTriggeringEvent=!0;let Q=!0;if(s){let B=new ku("pressend",V,C);s(B),Q=B.shouldStopPropagation}if(n&&n(!1),b(!1),t&&K&&!i){let B=new ku("press",V,C);t(B),Q&&(Q=B.shouldStopPropagation)}return X.isTriggeringEvent=!1,Q}),A=Qo((C,V)=>{let K=x.current;if(i)return!1;if(o){K.isTriggeringEvent=!0;let X=new ku("pressup",V,C);return o(X),K.isTriggeringEvent=!1,X.shouldStopPropagation}return!0}),M=Qo(C=>{let V=x.current;V.isPressed&&V.target&&(V.isOverTarget&&V.pointerType!=null&&k(Nr(V.target,C),V.pointerType,!1),V.isPressed=!1,V.isOverTarget=!1,V.activePointerId=null,V.pointerType=null,S(),c||Tu(V.target))}),L=Qo(C=>{u&&M(C)}),W=U.useMemo(()=>{let C=x.current,V={onKeyDown(X){if(xd(X.nativeEvent,X.currentTarget)&&X.currentTarget.contains(X.target)){var Q;Am(X.target,X.key)&&X.preventDefault();let B=!0;if(!C.isPressed&&!X.repeat){C.target=X.currentTarget,C.isPressed=!0,B=T(X,"keyboard");let Y=X.currentTarget,oe=de=>{xd(de,Y)&&!de.repeat&&Y.contains(de.target)&&C.target&&A(Nr(C.target,de),"keyboard")};N(Tn(X.currentTarget),"keyup",bf(oe,K),!0)}B&&X.stopPropagation(),X.metaKey&&dl()&&((Q=C.metaKeyEvents)===null||Q===void 0||Q.set(X.key,X.nativeEvent))}else X.key==="Meta"&&(C.metaKeyEvents=new Map)},onClick(X){if(!(X&&!X.currentTarget.contains(X.target))&&X&&X.button===0&&!C.isTriggeringEvent&&!To.isOpening){let Q=!0;if(i&&X.preventDefault(),!C.ignoreClickAfterPress&&!C.ignoreEmulatedMouseEvents&&!C.isPressed&&(C.pointerType==="virtual"||Y1(X.nativeEvent))){!i&&!l&&io(X.currentTarget);let B=T(X,"virtual"),Y=A(X,"virtual"),oe=k(X,"virtual");Q=B&&Y&&oe}C.ignoreEmulatedMouseEvents=!1,C.ignoreClickAfterPress=!1,Q&&X.stopPropagation()}}},K=X=>{var Q;if(C.isPressed&&C.target&&xd(X,C.target)){var B;Am(X.target,X.key)&&X.preventDefault();let oe=X.target;k(Nr(C.target,X),"keyboard",C.target.contains(oe)),S(),X.key!=="Enter"&&Zp(C.target)&&C.target.contains(oe)&&!X[_m]&&(X[_m]=!0,To(C.target,X,!1)),C.isPressed=!1,(B=C.metaKeyEvents)===null||B===void 0||B.delete(X.key)}else if(X.key==="Meta"&&(!((Q=C.metaKeyEvents)===null||Q===void 0)&&Q.size)){var Y;let oe=C.metaKeyEvents;C.metaKeyEvents=void 0;for(let de of oe.values())(Y=C.target)===null||Y===void 0||Y.dispatchEvent(new KeyboardEvent("keyup",de))}};if(typeof PointerEvent<"u"){V.onPointerDown=Y=>{if(Y.button!==0||!Y.currentTarget.contains(Y.target))return;if(Vb(Y.nativeEvent)){C.pointerType="virtual";return}Td(Y.currentTarget)&&Y.preventDefault(),C.pointerType=Y.pointerType;let oe=!0;C.isPressed||(C.isPressed=!0,C.isOverTarget=!0,C.activePointerId=Y.pointerId,C.target=Y.currentTarget,!i&&!l&&io(Y.currentTarget),c||Nm(C.target),oe=T(Y,C.pointerType),N(Tn(Y.currentTarget),"pointermove",X,!1),N(Tn(Y.currentTarget),"pointerup",Q,!1),N(Tn(Y.currentTarget),"pointercancel",B,!1)),oe&&Y.stopPropagation()},V.onMouseDown=Y=>{Y.currentTarget.contains(Y.target)&&Y.button===0&&(Td(Y.currentTarget)&&Y.preventDefault(),Y.stopPropagation())},V.onPointerUp=Y=>{!Y.currentTarget.contains(Y.target)||C.pointerType==="virtual"||Y.button===0&&qo(Y,Y.currentTarget)&&A(Y,C.pointerType||Y.pointerType)};let X=Y=>{Y.pointerId===C.activePointerId&&(C.target&&qo(Y,C.target)?!C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!0,T(Nr(C.target,Y),C.pointerType)):C.target&&C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!1,k(Nr(C.target,Y),C.pointerType,!1),L(Y)))},Q=Y=>{Y.pointerId===C.activePointerId&&C.isPressed&&Y.button===0&&C.target&&(qo(Y,C.target)&&C.pointerType!=null?k(Nr(C.target,Y),C.pointerType):C.isOverTarget&&C.pointerType!=null&&k(Nr(C.target,Y),C.pointerType,!1),C.isPressed=!1,C.isOverTarget=!1,C.activePointerId=null,C.pointerType=null,S(),c||Tu(C.target))},B=Y=>{M(Y)};V.onDragStart=Y=>{Y.currentTarget.contains(Y.target)&&M(Y)}}else{V.onMouseDown=B=>{if(B.button!==0||!B.currentTarget.contains(B.target))return;if(Td(B.currentTarget)&&B.preventDefault(),C.ignoreEmulatedMouseEvents){B.stopPropagation();return}C.isPressed=!0,C.isOverTarget=!0,C.target=B.currentTarget,C.pointerType=Y1(B.nativeEvent)?"virtual":"mouse",!i&&!l&&io(B.currentTarget),T(B,C.pointerType)&&B.stopPropagation(),N(Tn(B.currentTarget),"mouseup",X,!1)},V.onMouseEnter=B=>{if(!B.currentTarget.contains(B.target))return;let Y=!0;C.isPressed&&!C.ignoreEmulatedMouseEvents&&C.pointerType!=null&&(C.isOverTarget=!0,Y=T(B,C.pointerType)),Y&&B.stopPropagation()},V.onMouseLeave=B=>{if(!B.currentTarget.contains(B.target))return;let Y=!0;C.isPressed&&!C.ignoreEmulatedMouseEvents&&C.pointerType!=null&&(C.isOverTarget=!1,Y=k(B,C.pointerType,!1),L(B)),Y&&B.stopPropagation()},V.onMouseUp=B=>{B.currentTarget.contains(B.target)&&!C.ignoreEmulatedMouseEvents&&B.button===0&&A(B,C.pointerType||"mouse")};let X=B=>{if(B.button===0){if(C.isPressed=!1,S(),C.ignoreEmulatedMouseEvents){C.ignoreEmulatedMouseEvents=!1;return}C.target&&qo(B,C.target)&&C.pointerType!=null?k(Nr(C.target,B),C.pointerType):C.target&&C.isOverTarget&&C.pointerType!=null&&k(Nr(C.target,B),C.pointerType,!1),C.isOverTarget=!1}};V.onTouchStart=B=>{if(!B.currentTarget.contains(B.target))return;let Y=Gb(B.nativeEvent);if(!Y)return;C.activePointerId=Y.identifier,C.ignoreEmulatedMouseEvents=!0,C.isOverTarget=!0,C.isPressed=!0,C.target=B.currentTarget,C.pointerType="touch",!i&&!l&&io(B.currentTarget),c||Nm(C.target),T(B,C.pointerType)&&B.stopPropagation(),N(hr(B.currentTarget),"scroll",Q,!0)},V.onTouchMove=B=>{if(!B.currentTarget.contains(B.target))return;if(!C.isPressed){B.stopPropagation();return}let Y=Cm(B.nativeEvent,C.activePointerId),oe=!0;Y&&qo(Y,B.currentTarget)?!C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!0,oe=T(B,C.pointerType)):C.isOverTarget&&C.pointerType!=null&&(C.isOverTarget=!1,oe=k(B,C.pointerType,!1),L(B)),oe&&B.stopPropagation()},V.onTouchEnd=B=>{if(!B.currentTarget.contains(B.target))return;if(!C.isPressed){B.stopPropagation();return}let Y=Cm(B.nativeEvent,C.activePointerId),oe=!0;Y&&qo(Y,B.currentTarget)&&C.pointerType!=null?(A(B,C.pointerType),oe=k(B,C.pointerType)):C.isOverTarget&&C.pointerType!=null&&(oe=k(B,C.pointerType,!1)),oe&&B.stopPropagation(),C.isPressed=!1,C.activePointerId=null,C.isOverTarget=!1,C.ignoreEmulatedMouseEvents=!0,C.target&&!c&&Tu(C.target),S()},V.onTouchCancel=B=>{B.currentTarget.contains(B.target)&&(B.stopPropagation(),C.isPressed&&M(B))};let Q=B=>{C.isPressed&&B.target.contains(C.target)&&M({currentTarget:C.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};V.onDragStart=B=>{B.currentTarget.contains(B.target)&&M(B)}}return V},[N,i,l,S,c,M,L,k,T,A]);return U.useEffect(()=>()=>{var C;c||Tu((C=x.current.target)!==null&&C!==void 0?C:void 0)},[c]),{isPressed:a||m,pressProps:Br(d,W)}}function Zp(e){return e.tagName==="A"&&e.hasAttribute("href")}function xd(e,t){const{key:n,code:r}=e,s=t,o=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(s instanceof hr(s).HTMLInputElement&&!Wy(s,n)||s instanceof hr(s).HTMLTextAreaElement||s.isContentEditable)&&!((o==="link"||!o&&Zp(s))&&n!=="Enter")}function Gb(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Cm(e,t){const n=e.changedTouches;for(let r=0;r<n.length;r++){const s=n[r];if(s.identifier===t)return s}return null}function Nr(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function qb(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Yb(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function qo(e,t){let n=t.getBoundingClientRect(),r=qb(e);return Yb(n,r)}function Td(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Am(e,t){return e instanceof HTMLInputElement?!Wy(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Zp(e)}const Xb=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Wy(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Xb.has(e.type)}class Qb{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Hy(e){let t=U.useRef({isFocused:!1,observer:null});Qp(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Qo(r=>{e==null||e(r)});return U.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=i=>{t.current.isFocused=!1,s.disabled&&n(new Qb("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let a=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function Ky(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=U.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),s&&s(!1),!0},[r,s]),i=Hy(o),a=U.useCallback(l=>{const u=Tn(l.target);l.target===l.currentTarget&&u.activeElement===l.target&&(n&&n(l),s&&s(!0),i(l))},[s,n,i]);return{focusProps:{onFocus:!t&&(n||s||r)?a:void 0,onBlur:!t&&(r||s)?o:void 0}}}let Ui=null,Q1=new Set,Wa=new Map,Eo=!1,J1=!1;const Jb={Tab:!0,Escape:!0};function e2(e,t){for(let n of Q1)n(e,t)}function Zb(e){return!(e.metaKey||!dl()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function _c(e){Eo=!0,Zb(e)&&(Ui="keyboard",e2("keyboard",e))}function Mn(e){Ui="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Eo=!0,e2("pointer",e))}function Gy(e){Y1(e)&&(Eo=!0,Ui="virtual")}function qy(e){e.target===window||e.target===document||(!Eo&&!J1&&(Ui="virtual",e2("virtual",e)),Eo=!1,J1=!1)}function Yy(){Eo=!1,J1=!0}function Z1(e){if(typeof window>"u"||Wa.get(hr(e)))return;const t=hr(e),n=Tn(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Eo=!0,r.apply(this,arguments)},n.addEventListener("keydown",_c,!0),n.addEventListener("keyup",_c,!0),n.addEventListener("click",Gy,!0),t.addEventListener("focus",qy,!0),t.addEventListener("blur",Yy,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Mn,!0),n.addEventListener("pointermove",Mn,!0),n.addEventListener("pointerup",Mn,!0)):(n.addEventListener("mousedown",Mn,!0),n.addEventListener("mousemove",Mn,!0),n.addEventListener("mouseup",Mn,!0)),t.addEventListener("beforeunload",()=>{Xy(e)},{once:!0}),Wa.set(t,{focus:r})}const Xy=(e,t)=>{const n=hr(e),r=Tn(e);t&&r.removeEventListener("DOMContentLoaded",t),Wa.has(n)&&(n.HTMLElement.prototype.focus=Wa.get(n).focus,r.removeEventListener("keydown",_c,!0),r.removeEventListener("keyup",_c,!0),r.removeEventListener("click",Gy,!0),n.removeEventListener("focus",qy,!0),n.removeEventListener("blur",Yy,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Mn,!0),r.removeEventListener("pointermove",Mn,!0),r.removeEventListener("pointerup",Mn,!0)):(r.removeEventListener("mousedown",Mn,!0),r.removeEventListener("mousemove",Mn,!0),r.removeEventListener("mouseup",Mn,!0)),Wa.delete(n))};function ew(e){const t=Tn(e);let n;return t.readyState!=="loading"?Z1(e):(n=()=>{Z1(e)},t.addEventListener("DOMContentLoaded",n)),()=>Xy(e,n)}typeof document<"u"&&ew();function Qy(){return Ui!=="pointer"}function tw(){return Ui}const nw=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function rw(e,t,n){var r;const s=typeof window<"u"?hr(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?hr(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?hr(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?hr(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof s&&!nw.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof i&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof a&&!Jb[n.key])}function sw(e,t,n){Z1(),U.useEffect(()=>{let r=(s,o)=>{rw(!!(n!=null&&n.isTextInput),s,o)&&e(Qy())};return Q1.add(r),()=>{Q1.delete(r)}},t)}function ow(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=U.useRef({isFocusWithin:!1}),i=U.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),s&&s(!1))},[n,s,o]),a=Hy(i),l=U.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),s&&s(!0),o.current.isFocusWithin=!0,a(u))},[r,s,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:i}}}let Cc=!1,Ed=0;function eh(){Cc=!0,setTimeout(()=>{Cc=!1},50)}function Im(e){e.pointerType==="touch"&&eh()}function iw(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Im):document.addEventListener("touchend",eh),Ed++,()=>{Ed--,!(Ed>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Im):document.removeEventListener("touchend",eh))}}function Jy(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,i]=U.useState(!1),a=U.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;U.useEffect(iw,[]);let{hoverProps:l,triggerHoverEnd:u}=U.useMemo(()=>{let c=(m,b)=>{if(a.pointerType=b,s||b==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let x=m.currentTarget;a.target=x,t&&t({type:"hoverstart",target:x,pointerType:b}),n&&n(!0),i(!0)},f=(m,b)=>{if(a.pointerType="",a.target=null,b==="touch"||!a.isHovered)return;a.isHovered=!1;let x=m.currentTarget;r&&r({type:"hoverend",target:x,pointerType:b}),n&&n(!1),i(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=m=>{Cc&&m.pointerType==="mouse"||c(m,m.pointerType)},d.onPointerLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}):(d.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=m=>{!a.ignoreEmulatedMouseEvents&&!Cc&&c(m,"mouse"),a.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=m=>{!s&&m.currentTarget.contains(m.target)&&f(m,"mouse")}),{hoverProps:d,triggerHoverEnd:f}},[t,n,r,s,a]);return U.useEffect(()=>{s&&u({currentTarget:a.target},a.pointerType)},[s]),{hoverProps:l,isHovered:o}}function Pm(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(r),t&&n.stopPropagation()}}function aw(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Pm(e.onKeyDown),onKeyUp:Pm(e.onKeyUp)}}}function lw(e){const t=Tn(e);if(tw()==="virtual"){let n=t.activeElement;zy(()=>{t.activeElement===n&&e.isConnected&&io(e)})}else io(e)}function t2(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=U.useRef({isFocused:!1,isFocusVisible:t||Qy()}),[o,i]=U.useState(!1),[a,l]=U.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=U.useCallback(()=>l(s.current.isFocused&&s.current.isFocusVisible),[]),c=U.useCallback(m=>{s.current.isFocused=m,i(m),u()},[u]);sw(m=>{s.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:f}=Ky({isDisabled:r,onFocusChange:c}),{focusWithinProps:d}=ow({isDisabled:!r,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:a,focusProps:r?d:f}}let uw=wt.createContext(null);function cw(e){let t=U.useContext(uw)||{};jy(t,e);let{ref:n,...r}=t;return r}function fw(e,t){let{focusProps:n}=Ky(e),{keyboardProps:r}=aw(e),s=Br(n,r),o=cw(t),i=e.isDisabled?{}:o,a=U.useRef(e.autoFocus);return U.useEffect(()=>{a.current&&t.current&&lw(t.current),a.current=!1},[t]),{focusableProps:Br({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}const th=wt.createContext(null);function dw(e){let{children:t}=e,n=U.useContext(th),[r,s]=U.useState(0),o=U.useMemo(()=>({parent:n,modalCount:r,addModal(){s(i=>i+1),n&&n.addModal()},removeModal(){s(i=>i-1),n&&n.removeModal()}}),[n,r]);return wt.createElement(th.Provider,{value:o},t)}function hw(){let e=U.useContext(th);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function pw(e){let{modalProviderProps:t}=hw();return wt.createElement("div",{"data-overlay-container":!0,...e,...t})}function mw(e){return wt.createElement(dw,null,wt.createElement(pw,e))}var gw=({children:e,navigate:t,locale:n="en-US",defaultDates:r={minDate:new Di(1900,1,1),maxDate:new Di(2099,12,31)},createCalendar:s,...o})=>{let i=e;t&&(i=se.jsx(Lb,{navigate:t,children:i}));const a=U.useMemo(()=>({createCalendar:s,defaultDates:r}),[s,r==null?void 0:r.maxDate,r==null?void 0:r.minDate]);return se.jsx(W9,{value:a,children:se.jsx(sb,{locale:n,children:se.jsx(mw,{...o,children:i})})})};function Cl(e){return U.forwardRef(e)}var n2=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((s,o)=>o in e?{...s,[o]:e[o]}:s,{});return n?[Object.keys(e).filter(o=>!t.includes(o)).reduce((o,i)=>({...o,[i]:e[i]}),{}),r]:[e,r]},yw={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},vw={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},bw={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},ww={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},Sw={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},xw={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},Tw={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},he={solid:yw,shadow:vw,bordered:bw,flat:ww,faded:Sw,light:xw,ghost:Tw},Om=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wn=e=>!e||typeof e!="object"||Object.keys(e).length===0,Ew=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function Zy(e,t){e.forEach(function(n){Array.isArray(n)?Zy(n,t):t.push(n)})}function e6(e){let t=[];return Zy(e,t),t}var t6=(...e)=>e6(e).filter(Boolean),n6=(e,t)=>{let n={},r=Object.keys(e),s=Object.keys(t);for(let o of r)if(s.includes(o)){let i=e[o],a=t[o];typeof i=="object"&&typeof a=="object"?n[o]=n6(i,a):Array.isArray(i)||Array.isArray(a)?n[o]=t6(a,i):n[o]=a+" "+i}else n[o]=e[o];for(let o of s)r.includes(o)||(n[o]=t[o]);return n},Dm=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function kw(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=r6(t))&&(r&&(r+=" "),r+=n);return r}function r6(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=r6(e[r]))&&(n&&(n+=" "),n+=t);return n}var r2="-";function Nw(e){var t=_w(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function o(a){var l=a.split(r2);return l[0]===""&&l.length!==1&&l.shift(),s6(l,t)||$w(a)}function i(a,l){var u=n[a]||[];return l&&s[a]?[].concat(u,s[a]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function s6(e,t){var i;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?s6(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(r2);return(i=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:i.classGroupId}}var Fm=/^\[(.+)\]$/;function $w(e){if(Fm.test(e)){var t=Fm.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function _w(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=Aw(Object.entries(e.classGroups),n);return s.forEach(function(o){var i=o[0],a=o[1];nh(a,r,i,t)}),r}function nh(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var o=s===""?t:Mm(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Cw(s)){nh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(i){var a=i[0],l=i[1];nh(l,Mm(t,a),n,r)})})}function Mm(e,t){var n=e;return t.split(r2).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Cw(e){return e.isThemeGetter}function Aw(e,t){return t?e.map(function(n){var r=n[0],s=n[1],o=s.map(function(i){return typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(a){var l=a[0],u=a[1];return[t+l,u]})):i});return[r,o]}):e}function Iw(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(o,i){n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(i){var a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set:function(i,a){n.has(i)?n.set(i,a):s(i,a)}}}var o6="!";function Pw(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(i){for(var a=[],l=0,u=0,c,f=0;f<i.length;f++){var d=i[f];if(l===0){if(d===r&&(n||i.slice(f,f+s)===t)){a.push(i.slice(u,f)),u=f+s;continue}if(d==="/"){c=f;continue}}d==="["?l++:d==="]"&&l--}var m=a.length===0?i:i.substring(u),b=m.startsWith(o6),x=b?m.substring(1):m,N=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:N}}}function Ow(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Dw(e){return{cache:Iw(e.cacheSize),splitModifiers:Pw(e),...Nw(e)}}var Fw=/\s+/;function Mw(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Fw).map(function(i){var a=n(i),l=a.modifiers,u=a.hasImportantModifier,c=a.baseClassName,f=a.maybePostfixModifierPosition,d=r(f?c.substring(0,f):c),m=!!f;if(!d){if(!f)return{isTailwindClass:!1,originalClassName:i};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:i};m=!1}var b=Ow(l).join(":"),x=u?b+o6:b;return{isTailwindClass:!0,modifierId:x,classGroupId:d,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var a=i.modifierId,l=i.classGroupId,u=i.hasPostfixModifier,c=a+l;return o.has(c)?!1:(o.add(c),s(l,u).forEach(function(f){return o.add(a+f)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function rh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,o,i=a;function a(u){var c=t[0],f=t.slice(1),d=f.reduce(function(m,b){return b(m)},c());return r=Dw(d),s=r.cache.get,o=r.cache.set,i=l,l(u)}function l(u){var c=s(u);if(c)return c;var f=Mw(u,r);return o(u,f),f}return function(){return i(kw.apply(null,arguments))}}function Qe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var i6=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rw=/^\d+\/\d+$/,Lw=new Set(["px","full","screen"]),zw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bw=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Kn(e){return ao(e)||Lw.has(e)||Rw.test(e)||sh(e)}function sh(e){return Fo(e,"length",Gw)}function Vw(e){return Fo(e,"size",a6)}function Uw(e){return Fo(e,"position",a6)}function Ww(e){return Fo(e,"url",qw)}function Nu(e){return Fo(e,"number",ao)}function ao(e){return!Number.isNaN(Number(e))}function Hw(e){return e.endsWith("%")&&ao(e.slice(0,-1))}function Sa(e){return Rm(e)||Fo(e,"number",Rm)}function Re(e){return i6.test(e)}function xa(){return!0}function ss(e){return zw.test(e)}function Kw(e){return Fo(e,"",Yw)}function Fo(e,t,n){var r=i6.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Gw(e){return jw.test(e)}function a6(){return!1}function qw(e){return e.startsWith("url(")}function Rm(e){return Number.isInteger(Number(e))}function Yw(e){return Bw.test(e)}function oh(){var e=Qe("colors"),t=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),o=Qe("borderRadius"),i=Qe("borderSpacing"),a=Qe("borderWidth"),l=Qe("contrast"),u=Qe("grayscale"),c=Qe("hueRotate"),f=Qe("invert"),d=Qe("gap"),m=Qe("gradientColorStops"),b=Qe("gradientColorStopPositions"),x=Qe("inset"),N=Qe("margin"),S=Qe("opacity"),T=Qe("padding"),k=Qe("saturate"),A=Qe("scale"),M=Qe("sepia"),L=Qe("skew"),W=Qe("space"),C=Qe("translate"),V=function(){return["auto","contain","none"]},K=function(){return["auto","hidden","clip","visible","scroll"]},X=function(){return["auto",Re,t]},Q=function(){return[Re,t]},B=function(){return["",Kn]},Y=function(){return["auto",ao,Re]},oe=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},de=function(){return["solid","dashed","dotted","double","none"]},ve=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},ce=function(){return["","0",Re]},ge=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},xe=function(){return[ao,Nu]},Ce=function(){return[ao,Re]};return{cacheSize:500,theme:{colors:[xa],spacing:[Kn],blur:["none","",ss,Re],brightness:xe(),borderColor:[e],borderRadius:["none","","full",ss,Re],borderSpacing:Q(),borderWidth:B(),contrast:xe(),grayscale:ce(),hueRotate:Ce(),invert:ce(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[Hw,sh],inset:X(),margin:X(),opacity:xe(),padding:Q(),saturate:xe(),scale:xe(),sepia:ce(),skew:Ce(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(oe(),[Re])}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sa]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",Sa]}],"grid-cols":[{"grid-cols":[xa]}],"col-start-end":[{col:["auto",{span:["full",Sa]},Re]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[xa]}],"row-start-end":[{row:["auto",{span:[Sa]},Re]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Re,t]}],"min-w":[{"min-w":["min","max","fit",Re,Kn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ss]},ss,Re]}],h:[{h:[Re,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Re,Kn]}],"max-h":[{"max-h":[Re,t,"min","max","fit"]}],"font-size":[{text:["base",ss,sh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nu]}],"font-family":[{font:[xa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",ao,Nu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Re,Kn]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(de(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Kn]}],"underline-offset":[{"underline-offset":["auto",Re,Kn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(oe(),[Uw])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ww]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[].concat(de(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:de()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(de())}],"outline-offset":[{"outline-offset":[Re,Kn]}],"outline-w":[{outline:[Kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ss,Kw]}],"shadow-color":[{shadow:[xa]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":ve()}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ss,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[k]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:Ce()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:Ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Sa,Re]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kn,Nu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function Xw(e,t){for(var n in t)l6(e,n,t[n]);return e}var Qw=Object.prototype.hasOwnProperty,Jw=new Set(["string","number","boolean"]);function l6(e,t,n){if(!Qw.call(e,t)||Jw.has(typeof n)||n===null){e[t]=n;return}if(Array.isArray(n)&&Array.isArray(e[t])){e[t]=e[t].concat(n);return}if(typeof n=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=n;return}for(var r in n)l6(e[t],r,n[r])}}function Zw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof e=="function"?rh.apply(void 0,[oh,e].concat(n)):rh.apply(void 0,[function(){return Xw(oh(),e)}].concat(n))}var eS=rh(oh),tS={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},u6=e=>e||void 0,hl=(...e)=>u6(e6(e).filter(Boolean).join(" ")),kd=null,Ac={},ih=!1,Ta=(...e)=>t=>t.twMerge?((!kd||ih)&&(ih=!1,kd=wn(Ac)?eS:Zw(Ac)),u6(kd(hl(e)))):hl(e),Lm=(e,t)=>{for(let n in t)e.hasOwnProperty(n)?e[n]=hl(e[n],t[n]):e[n]=t[n];return e},nS=(e,t)=>{let{extend:n=null,slots:r={},variants:s={},compoundVariants:o=[],compoundSlots:i=[],defaultVariants:a={}}=e,l={...tS,...t},u=n!=null&&n.base?hl(n.base,e==null?void 0:e.base):e==null?void 0:e.base,c=n!=null&&n.variants&&!wn(n.variants)?n6(s,n.variants):s,f=n!=null&&n.defaultVariants&&!wn(n.defaultVariants)?{...n.defaultVariants,...a}:a;!wn(l.twMergeConfig)&&!Ew(l.twMergeConfig,Ac)&&(ih=!0,Ac=l.twMergeConfig);let d=wn(n==null?void 0:n.slots),m=wn(r)?{}:{base:hl(e==null?void 0:e.base,d&&(n==null?void 0:n.base)),...r},b=d?m:Lm({...n==null?void 0:n.slots},wn(m)?{base:e==null?void 0:e.base}:m),x=S=>{if(wn(c)&&wn(r)&&d)return Ta(u,S==null?void 0:S.class,S==null?void 0:S.className)(l);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof o}`);if(i&&!Array.isArray(i))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof i}`);let T=(Q,B,Y=[],oe)=>{let de=Y;if(typeof B=="string")de=de.concat(Dm(B).split(" ").map(ve=>`${Q}:${ve}`));else if(Array.isArray(B))de=de.concat(B.reduce((ve,re)=>ve.concat(`${Q}:${re}`),[]));else if(typeof B=="object"&&typeof oe=="string"){for(let ve in B)if(B.hasOwnProperty(ve)&&ve===oe){let re=B[ve];if(re&&typeof re=="string"){let ce=Dm(re);de[oe]?de[oe]=de[oe].concat(ce.split(" ").map(ge=>`${Q}:${ge}`)):de[oe]=ce.split(" ").map(ge=>`${Q}:${ge}`)}else Array.isArray(re)&&re.length>0&&(de[oe]=re.reduce((ce,ge)=>ce.concat(`${Q}:${ge}`),[]))}}return de},k=(Q,B=c,Y=null,oe=null)=>{var de;let ve=B[Q];if(!ve||wn(ve))return null;let re=(de=oe==null?void 0:oe[Q])!=null?de:S==null?void 0:S[Q];if(re===null)return null;let ce=Om(re),ge=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,xe=f==null?void 0:f[Q],Ce=[];if(typeof ce=="object"&&ge)for(let[xt,en]of Object.entries(ce)){let rt=ve[en];if(xt==="initial"){xe=en;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(xt)||(Ce=T(xt,rt,Ce,Y))}let Fe=ve[ce]||ve[Om(xe)];return typeof Ce=="object"&&typeof Y=="string"&&Ce[Y]?Lm(Ce,Fe):Ce.length>0?(Ce.push(Fe),Ce):Fe},A=()=>c?Object.keys(c).map(Q=>k(Q,c)):null,M=(Q,B)=>{if(!c||typeof c!="object")return null;let Y=new Array;for(let oe in c){let de=k(oe,c,Q,B),ve=Q==="base"&&typeof de=="string"?de:de&&de[Q];ve&&(Y[Y.length]=ve)}return Y},L={};for(let Q in S)S[Q]!==void 0&&(L[Q]=S[Q]);let W=(Q,B)=>{var Y;let oe=typeof(S==null?void 0:S[Q])=="object"?{[Q]:(Y=S[Q])==null?void 0:Y.initial}:{};return{...f,...L,...oe,...B}},C=(Q=[],B)=>{let Y=[];for(let{class:oe,className:de,...ve}of Q){let re=!0;for(let[ce,ge]of Object.entries(ve)){let xe=W(ce,B);if(Array.isArray(ge)){if(!ge.includes(xe[ce])){re=!1;break}}else if(xe[ce]!==ge){re=!1;break}}re&&(oe&&Y.push(oe),de&&Y.push(de))}return Y},V=Q=>{let B=C(o,Q),Y=C(n==null?void 0:n.compoundVariants,Q);return t6(Y,B)},K=Q=>{let B=V(Q);if(!Array.isArray(B))return B;let Y={};for(let oe of B)if(typeof oe=="string"&&(Y.base=Ta(Y.base,oe)(l)),typeof oe=="object")for(let[de,ve]of Object.entries(oe))Y[de]=Ta(Y[de],ve)(l);return Y},X=Q=>{if(i.length<1)return null;let B={};for(let{slots:Y=[],class:oe,className:de,...ve}of i){if(!wn(ve)){let re=!0;for(let ce of Object.keys(ve)){let ge=W(ce,Q)[ce];if(ge===void 0||(Array.isArray(ve[ce])?!ve[ce].includes(ge):ve[ce]!==ge)){re=!1;break}}if(!re)continue}for(let re of Y)B[re]=B[re]||[],B[re].push([oe,de])}return B};if(!wn(r)||!d){let Q={};if(typeof b=="object"&&!wn(b))for(let B of Object.keys(b))Q[B]=Y=>{var oe,de;return Ta(b[B],M(B,Y),((oe=K(Y))!=null?oe:[])[B],((de=X(Y))!=null?de:[])[B],Y==null?void 0:Y.class,Y==null?void 0:Y.className)(l)};return Q}return Ta(u,A(),V(),S==null?void 0:S.class,S==null?void 0:S.className)(l)},N=()=>{if(!(!c||typeof c!="object"))return Object.keys(c)};return x.variantKeys=N(),x.extend=n,x.base=u,x.slots=b,x.variants=c,x.defaultVariants=f,x.compoundSlots=i,x.compoundVariants=o,x},$u=["small","medium","large"],Al=(e,t)=>{var n,r,s;return nS(e,{...t,twMerge:(n=void 0)!=null?n:!0,twMergeConfig:{theme:{...(r=void 0)==null?void 0:r.theme,opacity:["disabled"],spacing:["divider"],borderWidth:$u,borderRadius:$u},classGroups:{...(s=void 0)==null?void 0:s.classGroups,shadow:[{shadow:$u}],"font-size":[{text:["tiny",...$u]}],"bg-image":["bg-stripe-gradient"]}}})},c6=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],rS=["outline-none","ring-2","ring-focus","ring-offset-2","ring-offset-background"],Yo={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},zm=Al({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),jm=Al({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...c6],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),Bm=Al({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...rS,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:he.solid.default}},{variant:"solid",color:"primary",class:{base:he.solid.primary}},{variant:"solid",color:"secondary",class:{base:he.solid.secondary}},{variant:"solid",color:"success",class:{base:he.solid.success}},{variant:"solid",color:"warning",class:{base:he.solid.warning}},{variant:"solid",color:"danger",class:{base:he.solid.danger}},{variant:"shadow",color:"default",class:{base:he.shadow.default}},{variant:"shadow",color:"primary",class:{base:he.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:he.shadow.secondary}},{variant:"shadow",color:"success",class:{base:he.shadow.success}},{variant:"shadow",color:"warning",class:{base:he.shadow.warning}},{variant:"shadow",color:"danger",class:{base:he.shadow.danger}},{variant:"bordered",color:"default",class:{base:he.bordered.default}},{variant:"bordered",color:"primary",class:{base:he.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:he.bordered.secondary}},{variant:"bordered",color:"success",class:{base:he.bordered.success}},{variant:"bordered",color:"warning",class:{base:he.bordered.warning}},{variant:"bordered",color:"danger",class:{base:he.bordered.danger}},{variant:"flat",color:"default",class:{base:he.flat.default}},{variant:"flat",color:"primary",class:{base:he.flat.primary}},{variant:"flat",color:"secondary",class:{base:he.flat.secondary}},{variant:"flat",color:"success",class:{base:he.flat.success}},{variant:"flat",color:"warning",class:{base:he.flat.warning}},{variant:"flat",color:"danger",class:{base:he.flat.danger}},{variant:"faded",color:"default",class:{base:he.faded.default}},{variant:"faded",color:"primary",class:{base:he.faded.primary}},{variant:"faded",color:"secondary",class:{base:he.faded.secondary}},{variant:"faded",color:"success",class:{base:he.faded.success}},{variant:"faded",color:"warning",class:{base:he.faded.warning}},{variant:"faded",color:"danger",class:{base:he.faded.danger}},{variant:"light",color:"default",class:{base:he.light.default}},{variant:"light",color:"primary",class:{base:he.light.primary}},{variant:"light",color:"secondary",class:{base:he.light.secondary}},{variant:"light",color:"success",class:{base:he.light.success}},{variant:"light",color:"warning",class:{base:he.light.warning}},{variant:"light",color:"danger",class:{base:he.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),sS=Al({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...c6],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:he.solid.default},{variant:"solid",color:"primary",class:he.solid.primary},{variant:"solid",color:"secondary",class:he.solid.secondary},{variant:"solid",color:"success",class:he.solid.success},{variant:"solid",color:"warning",class:he.solid.warning},{variant:"solid",color:"danger",class:he.solid.danger},{variant:"shadow",color:"default",class:he.shadow.default},{variant:"shadow",color:"primary",class:he.shadow.primary},{variant:"shadow",color:"secondary",class:he.shadow.secondary},{variant:"shadow",color:"success",class:he.shadow.success},{variant:"shadow",color:"warning",class:he.shadow.warning},{variant:"shadow",color:"danger",class:he.shadow.danger},{variant:"bordered",color:"default",class:he.bordered.default},{variant:"bordered",color:"primary",class:he.bordered.primary},{variant:"bordered",color:"secondary",class:he.bordered.secondary},{variant:"bordered",color:"success",class:he.bordered.success},{variant:"bordered",color:"warning",class:he.bordered.warning},{variant:"bordered",color:"danger",class:he.bordered.danger},{variant:"flat",color:"default",class:he.flat.default},{variant:"flat",color:"primary",class:he.flat.primary},{variant:"flat",color:"secondary",class:he.flat.secondary},{variant:"flat",color:"success",class:he.flat.success},{variant:"flat",color:"warning",class:he.flat.warning},{variant:"flat",color:"danger",class:he.flat.danger},{variant:"faded",color:"default",class:he.faded.default},{variant:"faded",color:"primary",class:he.faded.primary},{variant:"faded",color:"secondary",class:he.faded.secondary},{variant:"faded",color:"success",class:he.faded.success},{variant:"faded",color:"warning",class:he.faded.warning},{variant:"faded",color:"danger",class:he.faded.danger},{variant:"light",color:"default",class:[he.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[he.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[he.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[he.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[he.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[he.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:he.ghost.default},{variant:"ghost",color:"primary",class:he.ghost.primary},{variant:"ghost",color:"secondary",class:he.ghost.secondary},{variant:"ghost",color:"success",class:he.ghost.success},{variant:"ghost",color:"warning",class:he.ghost.warning},{variant:"ghost",color:"danger",class:he.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:Yo.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:Yo.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:Yo.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:Yo.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:Yo.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:Yo.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Al({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var oS=e=>se.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:se.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})});const s2=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sf=U.createContext({}),o2=U.createContext(null),i2=typeof document<"u",a2=i2?U.useLayoutEffect:U.useEffect,l2=U.createContext({strict:!1}),u2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iS="framerAppearId",f6="data-"+u2(iS),aS={skipAnimations:!1,useManualTiming:!1};class Vm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function lS(e){let t=new Vm,n=new Vm,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&s,d=f?t:n;return u&&i.add(l),d.add(l)&&f&&s&&(r=t.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const c=t.order[u];i.has(c)&&(a.schedule(c),e()),c(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const _u=["read","resolveKeyframes","update","preRender","render","postRender"],uS=40;function d6(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=_u.reduce((f,d)=>(f[d]=lS(()=>n=!0),f),{}),i=f=>{o[f].process(s)},a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,uS),1),s.timestamp=f,s.isProcessing=!0,_u.forEach(i),s.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:_u.reduce((f,d)=>{const m=o[d];return f[d]=(b,x=!1,N=!1)=>(n||l(),m.schedule(b,x,N)),f},{}),cancel:f=>_u.forEach(d=>o[d].cancel(f)),state:s,steps:o}}const{schedule:cS,cancel:wj}=d6(queueMicrotask,!1);function fS(e,t,n,r){const{visualElement:s}=U.useContext(Sf),o=U.useContext(l2),i=U.useContext(o2),a=U.useContext(s2).reducedMotion,l=U.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:s,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;U.useInsertionEffect(()=>{u&&u.update(n,i)});const c=U.useRef(!!(n[f6]&&!window.HandoffComplete));return a2(()=>{u&&(cS.postRender(u.render),c.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function h6(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dS(e,t,n){return U.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):h6(n)&&(n.current=r))},[t])}function pl(e){return typeof e=="string"||Array.isArray(e)}function xf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const c2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f2=["initial",...c2];function Tf(e){return xf(e.animate)||f2.some(t=>pl(e[t]))}function p6(e){return!!(Tf(e)||e.variants)}function hS(e,t){if(Tf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||pl(n)?n:void 0,animate:pl(r)?r:void 0}}return e.inherit!==!1?t:{}}function pS(e){const{initial:t,animate:n}=hS(e,U.useContext(Sf));return U.useMemo(()=>({initial:t,animate:n}),[Um(t),Um(n)])}function Um(e){return Array.isArray(e)?e.join(" "):e}const Wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ml={};for(const e in Wm)ml[e]={isEnabled:t=>Wm[e].some(n=>!!t[n])};function ah(e){for(const t in e)ml[t]={...ml[t],...e[t]}}const m6=U.createContext({}),mS=U.createContext({}),gS=Symbol.for("motionComponentSymbol");function yS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&ah(e);function o(a,l){let u;const c={...U.useContext(s2),...a,layoutId:vS(a)},{isStatic:f}=c,d=pS(a),m=r(a,f);if(!f&&i2){d.visualElement=fS(s,m,c,t);const b=U.useContext(mS),x=U.useContext(l2).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,x,e,b))}return se.jsxs(Sf.Provider,{value:d,children:[u&&d.visualElement?se.jsx(u,{visualElement:d.visualElement,...c}):null,n(s,a,dS(m,d.visualElement,l),m,f,d.visualElement)]})}const i=U.forwardRef(o);return i[gS]=s,i}function vS({layoutId:e}){const t=U.useContext(m6).id;return t&&e!==void 0?t+"-"+e:e}function bS(e){function t(r,s={}){return yS(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const wS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d2(e){return typeof e!="string"||e.includes("-")?!1:!!(wS.indexOf(e)>-1||/[A-Z]/u.test(e))}const SS={},Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mo=new Set(Il);function g6(e,{layout:t,layoutId:n}){return Mo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!SS[e]||e==="opacity")}const Yt=e=>!!(e&&e.getVelocity),xS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TS=Il.length;function ES(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<TS;i++){const a=Il[i];if(e[a]!==void 0){const l=xS[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,r?"":o):n&&r&&(o="none"),o}const y6=e=>t=>typeof t=="string"&&t.startsWith(e),v6=y6("--"),kS=y6("var(--"),h2=e=>kS(e)?NS.test(e.split("/*")[0].trim()):!1,NS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$S=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fi=(e,t,n)=>n>t?t:n<e?e:n,Wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ha={...Wi,transform:e=>Fi(0,1,e)},Cu={...Wi,default:1},Ka=e=>Math.round(e*1e5)/1e5,p2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,_S=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,CS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Pl(e){return typeof e=="string"}const Ol=e=>({test:t=>Pl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),is=Ol("deg"),xi=Ol("%"),Se=Ol("px"),AS=Ol("vh"),IS=Ol("vw"),Hm={...xi,parse:e=>xi.parse(e)/100,transform:e=>xi.transform(e*100)},Km={...Wi,transform:Math.round},b6={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,size:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:Cu,scaleX:Cu,scaleY:Cu,scaleZ:Cu,skew:is,skewX:is,skewY:is,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Ha,originX:Hm,originY:Hm,originZ:Se,zIndex:Km,backgroundPositionX:Se,backgroundPositionY:Se,fillOpacity:Ha,strokeOpacity:Ha,numOctaves:Km};function m2(e,t,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const f in t){const d=t[f];if(v6(f)){o[f]=d;continue}const m=b6[f],b=$S(d,m);if(Mo.has(f)){if(l=!0,i[f]=b,!c)continue;d!==(m.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,a[f]=b):s[f]=b}if(t.transform||(l||r?s.transform=ES(e.transform,n,c,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${d} ${m}`}}const g2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w6(e,t,n){for(const r in t)!Yt(t[r])&&!g6(r,n)&&(e[r]=t[r])}function PS({transformTemplate:e},t,n){return U.useMemo(()=>{const r=g2();return m2(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function OS(e,t,n){const r=e.style||{},s={};return w6(s,r,e),Object.assign(s,PS(e,t,n)),s}function DS(e,t,n){const r={},s=OS(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const FS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FS.has(e)}let S6=e=>!Ic(e);function MS(e){e&&(S6=t=>t.startsWith("on")?!Ic(t):e(t))}try{MS(require("@emotion/is-prop-valid").default)}catch{}function RS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(S6(s)||n===!0&&Ic(s)||!t&&!Ic(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Gm(e,t,n){return typeof e=="string"?e:Se.transform(t+n*e)}function LS(e,t,n){const r=Gm(t,e.x,e.width),s=Gm(n,e.y,e.height);return`${r} ${s}`}const zS={offset:"stroke-dashoffset",array:"stroke-dasharray"},jS={offset:"strokeDashoffset",array:"strokeDasharray"};function BS(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?zS:jS;e[o.offset]=Se.transform(-r);const i=Se.transform(t),a=Se.transform(n);e[o.array]=`${i} ${a}`}function y2(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},c,f,d){if(m2(e,u,c,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:b,dimensions:x}=e;m.transform&&(x&&(b.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||b.transform)&&(b.transformOrigin=LS(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&BS(m,i,a,l,!1)}const x6=()=>({...g2(),attrs:{}}),v2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function VS(e,t,n,r){const s=U.useMemo(()=>{const o=x6();return y2(o,t,{enableHardwareAcceleration:!1},v2(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};w6(o,e.style,e),s.style={...o,...s.style}}return s}function US(e=!1){return(n,r,s,{latestValues:o},i)=>{const l=(d2(n)?VS:DS)(r,o,i,n),u=RS(r,typeof n=="string",e),c=n!==U.Fragment?{...u,...l,ref:s}:{},{children:f}=r,d=U.useMemo(()=>Yt(f)?f.get():f,[f]);return U.createElement(n,{...c,children:d})}}function T6(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const E6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function k6(e,t,n,r){T6(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(E6.has(s)?s:u2(s),t.attrs[s])}function b2(e,t,n){var r;const{style:s}=e,o={};for(const i in s)(Yt(s[i])||t.style&&Yt(t.style[i])||g6(i,e)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function N6(e,t,n){const r=b2(e,t,n);for(const s in e)if(Yt(e[s])||Yt(t[s])){const o=Il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function w2(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function $6(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const lh=e=>Array.isArray(e),WS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),HS=e=>lh(e)?e[e.length-1]||0:e;function KS(e){const t=Yt(e)?e.get():e;return WS(t)?t.toValue():t}function GS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,o){const i={latestValues:qS(r,s,o,e),renderState:t()};return n&&(i.mount=a=>n(r,a,i)),i}const _6=e=>(t,n)=>{const r=U.useContext(Sf),s=U.useContext(o2),o=()=>GS(e,t,r,s);return n?o():$6(o)};function qS(e,t,n,r){const s={},o=r(e,{});for(const d in o)s[d]=KS(o[d]);let{initial:i,animate:a}=e;const l=Tf(e),u=p6(e);t&&u&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||i===!1;const f=c?a:i;return f&&typeof f!="boolean"&&!xf(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const b=w2(e,m);if(!b)return;const{transitionEnd:x,transition:N,...S}=b;for(const T in S){let k=S[T];if(Array.isArray(k)){const A=c?k.length-1:0;k=k[A]}k!==null&&(s[T]=k)}for(const T in x)s[T]=x[T]}),s}const vr=e=>e,{schedule:Pt,cancel:uh,state:Pc,steps:Sj}=d6(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0),YS={useVisualState:_6({scrapeMotionValuesFromProps:N6,createRenderState:x6,onMount:(e,t,{renderState:n,latestValues:r})=>{Pt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pt.render(()=>{y2(n,r,{enableHardwareAcceleration:!1},v2(t.tagName),e.transformTemplate),k6(t,n)})}})},XS={useVisualState:_6({scrapeMotionValuesFromProps:b2,createRenderState:g2})};function QS(e,{forwardMotionProps:t=!1},n,r){return{...d2(e)?YS:XS,preloadedFeatures:n,useRender:US(t),createVisualElement:r,Component:e}}function lo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const JS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function C6(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const ZS=e=>t=>JS(t)&&e(t,C6(t));function qu(e,t,n,r){return lo(e,t,ZS(n),r)}const ex=(e,t)=>n=>t(e(n)),Es=(...e)=>e.reduce(ex);function A6(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const tx=A6("dragHorizontal"),nx=A6("dragVertical");function rx(e){let t=!1;{const n=tx(),r=nx();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function I6(){const e=rx();return e?(e(),!1):!0}class Hi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function qm(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||I6())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&Pt.postRender(()=>l(o,i))};return qu(e.current,n,s,{passive:!e.getProps()[r]})}class sx extends Hi{mount(){this.unmount=Es(qm(this.node,!0),qm(this.node,!1))}unmount(){}}class ox extends Hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Es(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const P6=(e,t)=>t?e===t?!0:P6(e,t.parentElement):!1;function Nd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,C6(n))}class ix extends Hi{constructor(){super(...arguments),this.removeStartListeners=vr,this.removeEndListeners=vr,this.removeAccessibleListeners=vr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=qu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps(),d=!f&&!P6(this.node.current,a.target)?c:u;d&&Pt.update(()=>d(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=qu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Es(o,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Nd("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Pt.postRender(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=lo(this.node.current,"keyup",i),Nd("down",(a,l)=>{this.startPress(a,l)})},n=lo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Nd("cancel",(o,i)=>this.cancelPress(o,i))},s=lo(this.node.current,"blur",r);this.removeAccessibleListeners=Es(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Pt.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!I6()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Pt.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=qu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=lo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ch=new WeakMap,$d=new WeakMap,ax=e=>{const t=ch.get(e.target);t&&t(e)},lx=e=>{e.forEach(ax)};function ux({root:e,...t}){const n=e||document;$d.has(n)||$d.set(n,{});const r=$d.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(lx,{root:e,...t})),r[s]}function cx(e,t,n){const r=ux(t);return ch.set(e,n),r.observe(e),()=>{ch.delete(e),r.unobserve(e)}}const fx={some:0,all:1};class dx extends Hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:fx[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return cx(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hx(t,n))&&this.startObserver()}unmount(){}}function hx({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const px={inView:{Feature:dx},tap:{Feature:ix},focus:{Feature:ox},hover:{Feature:sx}};function O6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function mx(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function gx(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ef(e,t,n){const r=e.getProps();return w2(r,t,n!==void 0?n:r.custom,mx(e),gx(e))}const mo=e=>e*1e3,ks=e=>e/1e3,yx={type:"spring",stiffness:500,damping:25,restSpeed:10},vx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bx={type:"keyframes",duration:.8},wx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sx=(e,{keyframes:t})=>t.length>2?bx:Mo.has(e)?e.startsWith("scale")?vx(t[1]):yx:wx;function xx({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function D6(e,t){return e[t]||e.default||e}const Tx=e=>e!==null;function kf(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Tx),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let Yu;function Ex(){Yu=void 0}const Ti={now:()=>(Yu===void 0&&Ti.set(Pc.isProcessing||aS.useManualTiming?Pc.timestamp:performance.now()),Yu),set:e=>{Yu=e,queueMicrotask(Ex)}},F6=e=>/^0[^.\s]+$/u.test(e);function kx(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||F6(e):!0}let fh=vr;const M6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Nx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $x(e){const t=Nx.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function R6(e,t,n=1){const[r,s]=$x(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return M6(i)?parseFloat(i):i}return h2(s)?R6(s,t,n+1):s}const _x=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ym=e=>e===Wi||e===Se,Xm=(e,t)=>parseFloat(e.split(", ")[t]),Qm=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Xm(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?Xm(o[1],e):0}},Cx=new Set(["x","y","z"]),Ax=Il.filter(e=>!Cx.has(e));function Ix(e){const t=[];return Ax.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Mi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qm(4,13),y:Qm(5,14)};Mi.translateX=Mi.x;Mi.translateY=Mi.y;const L6=e=>t=>t.test(e),Px={test:e=>e==="auto",parse:e=>e},z6=[Wi,Se,xi,is,IS,AS,Px],Jm=e=>z6.find(L6(e)),go=new Set;let dh=!1,hh=!1;function j6(){if(hh){const e=Array.from(go).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Ix(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hh=!1,dh=!1,go.forEach(e=>e.complete()),go.clear()}function B6(){go.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hh=!0)})}function Ox(){B6(),j6()}class S2{constructor(t,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(go.add(this),dh||(dh=!0,Pt.read(B6),Pt.resolveKeyframes(j6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),go.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,go.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const x2=(e,t)=>n=>!!(Pl(n)&&CS.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),V6=(e,t,n)=>r=>{if(!Pl(r))return r;const[s,o,i,a]=r.match(p2);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},Dx=e=>Fi(0,255,e),_d={...Wi,transform:e=>Math.round(Dx(e))},uo={test:x2("rgb","red"),parse:V6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+_d.transform(e)+", "+_d.transform(t)+", "+_d.transform(n)+", "+Ka(Ha.transform(r))+")"};function Fx(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ph={test:x2("#"),parse:Fx,transform:uo.transform},mi={test:x2("hsl","hue"),parse:V6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xi.transform(Ka(t))+", "+xi.transform(Ka(n))+", "+Ka(Ha.transform(r))+")"},zt={test:e=>uo.test(e)||ph.test(e)||mi.test(e),parse:e=>uo.test(e)?uo.parse(e):mi.test(e)?mi.parse(e):ph.parse(e),transform:e=>Pl(e)?e:e.hasOwnProperty("red")?uo.transform(e):mi.transform(e)};function Mx(e){var t,n;return isNaN(e)&&Pl(e)&&(((t=e.match(p2))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_S))===null||n===void 0?void 0:n.length)||0)>0}const U6="number",W6="color",Rx="var",Lx="var(",Zm="${}",zx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=t.replace(zx,l=>(zt.test(l)?(r.color.push(o),s.push(W6),n.push(zt.parse(l))):l.startsWith(Lx)?(r.var.push(o),s.push(Rx),n.push(l)):(r.number.push(o),s.push(U6),n.push(parseFloat(l))),++o,Zm)).split(Zm);return{values:n,split:a,indexes:r,types:s}}function H6(e){return Oc(e).values}function K6(e){const{split:t,types:n}=Oc(e),r=t.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],s[i]!==void 0){const a=n[i];a===U6?o+=Ka(s[i]):a===W6?o+=zt.transform(s[i]):o+=s[i]}return o}}const jx=e=>typeof e=="number"?0:e;function Bx(e){const t=H6(e);return K6(e)(t.map(jx))}const Ki={test:Mx,parse:H6,createTransformer:K6,getAnimatableNone:Bx},Vx=new Set(["brightness","contrast","saturate","opacity"]);function Ux(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(p2)||[];if(!r)return e;const s=n.replace(r,"");let o=Vx.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const Wx=/\b([a-z-]*)\(.*?\)/gu,mh={...Ki,getAnimatableNone:e=>{const t=e.match(Wx);return t?t.map(Ux).join(" "):e}},Hx={...b6,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:mh,WebkitFilter:mh},T2=e=>Hx[e];function G6(e,t){let n=T2(e);return n!==mh&&(n=Ki),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Kx=new Set(["auto","none","0"]);function Gx(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!Kx.has(o)&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=G6(n,s)}class q6 extends S2{constructor(t,n,r,s){super(t,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){const u=t[l];if(typeof u=="string"&&h2(u)){const c=R6(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_x.has(r)||t.length!==2)return;const[s,o]=t,i=Jm(s),a=Jm(o);if(i!==a)if(Ym(i)&&Ym(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)kx(t[s])&&r.push(s);r.length&&Gx(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Mi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function qx(e){let t;return()=>(t===void 0&&(t=e()),t)}const e0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ki.test(e)||e==="0")&&!e.startsWith("url("));function Yx(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Xx(e,t,n,r){const s=e[0];if(s===null)return!1;const o=e[e.length-1],i=e0(s,t),a=e0(o,t);return!i||!a?!1:Yx(e)||n==="spring"&&r}class Y6{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ox(),this._resolved}onKeyframesResolved(t,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Xx(t,r,s,o))if(i)this.options.duration=0;else{l==null||l(kf(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const c=this.initPlayback(t,n);c!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function X6(e,t){return t?e*(1e3/t):0}const Qx=5;function Q6(e,t,n){const r=Math.max(t-Qx,0);return X6(n-e(r),t-r)}const Cd=.001,Jx=.01,Zx=10,eT=.05,tT=1;function nT({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,o,i=1-t;i=Fi(eT,tT,i),e=Fi(Jx,Zx,ks(e)),i<1?(s=u=>{const c=u*i,f=c*e,d=c-n,m=gh(u,i),b=Math.exp(-f);return Cd-d/m*b},o=u=>{const f=u*i*e,d=f*n+n,m=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-f),x=gh(Math.pow(u,2),i);return(-s(u)+Cd>0?-1:1)*((d-m)*b)/x}):(s=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-Cd+c*f},o=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=sT(s,o,a);if(e=mo(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const rT=12;function sT(e,t,n){let r=n;for(let s=1;s<rT;s++)r=r-e(r)/t(r);return r}function gh(e,t){return e*Math.sqrt(1-t*t)}const oT=["duration","bounce"],iT=["stiffness","damping","mass"];function t0(e,t){return t.some(n=>e[n]!==void 0)}function aT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!t0(e,iT)&&t0(e,oT)){const n=nT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function J6({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],o=e[e.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=aT({...r,velocity:-ks(r.velocity||0)}),m=f||0,b=l/(2*Math.sqrt(a*u)),x=o-s,N=ks(Math.sqrt(a/u)),S=Math.abs(x)<5;n||(n=S?.01:2),t||(t=S?.005:.5);let T;if(b<1){const k=gh(N,b);T=A=>{const M=Math.exp(-b*N*A);return o-M*((m+b*N*x)/k*Math.sin(k*A)+x*Math.cos(k*A))}}else if(b===1)T=k=>o-Math.exp(-N*k)*(x+(m+N*x)*k);else{const k=N*Math.sqrt(b*b-1);T=A=>{const M=Math.exp(-b*N*A),L=Math.min(k*A,300);return o-M*((m+b*N*x)*Math.sinh(L)+k*x*Math.cosh(L))/k}}return{calculatedDuration:d&&c||null,next:k=>{const A=T(k);if(d)i.done=k>=c;else{let M=m;k!==0&&(b<1?M=Q6(T,k,A):M=0);const L=Math.abs(M)<=n,W=Math.abs(o-A)<=t;i.done=L&&W}return i.value=i.done?o:A,i}}}function n0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],d={done:!1,value:f},m=C=>a!==void 0&&C<a||l!==void 0&&C>l,b=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let x=n*t;const N=f+x,S=i===void 0?N:i(N);S!==N&&(x=S-f);const T=C=>-x*Math.exp(-C/r),k=C=>S+T(C),A=C=>{const V=T(C),K=k(C);d.done=Math.abs(V)<=u,d.value=d.done?S:K};let M,L;const W=C=>{m(d.value)&&(M=C,L=J6({keyframes:[d.value,b(d.value)],velocity:Q6(k,C,d.value),damping:s,stiffness:o,restDelta:u,restSpeed:c}))};return W(0),{calculatedDuration:null,next:C=>{let V=!1;return!L&&M===void 0&&(V=!0,A(C),W(C)),M!==void 0&&C>=M?L.next(C-M):(!V&&A(C),d)}}}const Z6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lT=1e-7,uT=12;function cT(e,t,n,r,s){let o,i,a=0;do i=t+(n-t)/2,o=Z6(i,r,s)-e,o>0?n=i:t=i;while(Math.abs(o)>lT&&++a<uT);return i}function Dl(e,t,n,r){if(e===t&&n===r)return vr;const s=o=>cT(o,0,1,e,n);return o=>o===0||o===1?o:Z6(s(o),t,r)}const fT=Dl(.42,0,1,1),dT=Dl(0,0,.58,1),e5=Dl(.42,0,.58,1),hT=e=>Array.isArray(e)&&typeof e[0]!="number",t5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,n5=e=>t=>1-e(1-t),E2=e=>1-Math.sin(Math.acos(e)),pT=n5(E2),mT=t5(E2),r5=Dl(.33,1.53,.69,.99),k2=n5(r5),gT=t5(k2),yT=e=>(e*=2)<1?.5*k2(e):.5*(2-Math.pow(2,-10*(e-1))),r0={linear:vr,easeIn:fT,easeInOut:e5,easeOut:dT,circIn:E2,circInOut:mT,circOut:pT,backIn:k2,backInOut:gT,backOut:r5,anticipate:yT},s0=e=>{if(Array.isArray(e)){fh(e.length===4);const[t,n,r,s]=e;return Dl(t,n,r,s)}else if(typeof e=="string")return fh(r0[e]!==void 0),r0[e];return e},s5=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Nf=(e,t,n)=>e+(t-e)*n;function Ad(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,i=0;if(!t)s=o=i=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Ad(l,a,e+1/3),o=Ad(l,a,e),i=Ad(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}const Id=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},bT=[ph,uo,mi],wT=e=>bT.find(t=>t.test(e));function o0(e){const t=wT(e);let n=t.parse(e);return t===mi&&(n=vT(n)),n}const i0=(e,t)=>{const n=o0(e),r=o0(t),s={...n};return o=>(s.red=Id(n.red,r.red,o),s.green=Id(n.green,r.green,o),s.blue=Id(n.blue,r.blue,o),s.alpha=Nf(n.alpha,r.alpha,o),uo.transform(s))};function yh(e,t){return n=>n>0?t:e}function ST(e,t){return n=>Nf(e,t,n)}function N2(e){return typeof e=="number"?ST:typeof e=="string"?h2(e)?yh:zt.test(e)?i0:ET:Array.isArray(e)?o5:typeof e=="object"?zt.test(e)?i0:xT:yh}function o5(e,t){const n=[...e],r=n.length,s=e.map((o,i)=>N2(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function xT(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=N2(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function TT(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],a=e.indexes[i][s[i]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const ET=(e,t)=>{const n=Ki.createTransformer(t),r=Oc(e),s=Oc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Es(o5(TT(r,s),s.values),n):yh(e,t)};function i5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Nf(e,t,n):N2(e)(e,t)}function kT(e,t,n){const r=[],s=n||i5,o=e.length-1;for(let i=0;i<o;i++){let a=s(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||vr:t;a=Es(l,a)}r.push(a)}return r}function NT(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(fh(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=kT(t,r,s),a=i.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const f=s5(e[c],e[c+1],u);return i[c](f)};return n?u=>l(Fi(e[0],e[o-1],u)):l}function $T(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=s5(0,t,r);e.push(Nf(n,1,s))}}function _T(e){const t=[0];return $T(t,e.length-1),t}function CT(e,t){return e.map(n=>n*t)}function AT(e,t){return e.map(()=>t||e5).splice(0,e.length-1)}function Dc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=hT(r)?r.map(s0):s0(r),o={done:!1,value:t[0]},i=CT(n&&n.length===t.length?n:_T(t),e),a=NT(i,t,{ease:Array.isArray(s)?s:AT(t,s)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const a0=2e4;function IT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<a0;)t+=n,r=e.next(t);return t>=a0?1/0:t}const PT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Pt.update(t,!0),stop:()=>uh(t),now:()=>Pc.isProcessing?Pc.timestamp:Ti.now()}},OT={decay:n0,inertia:n0,tween:Dc,keyframes:Dc,spring:J6},DT=e=>e/100;class $2 extends Y6{constructor({KeyframeResolver:t=S2,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new t(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=OT[n]||Dc;let l,u;a!==Dc&&typeof t[0]!="number"&&(l=Es(DT,i5(t[0],t[1])),t=[0,100]);const c=a({...this.options,keyframes:t});o==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=IT(c));const{calculatedDuration:f}=c,d=f+s,m=d*(r+1)-s;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:m,repeatType:b,repeatDelay:x,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-c/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-d*(this.speed>=0?1:-1),T=this.speed>=0?S<0:S>c;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let k=this.currentTime,A=o;if(m){const C=Math.min(this.currentTime,c)/f;let V=Math.floor(C),K=C%1;!K&&C>=1&&(K=1),K===1&&V--,V=Math.min(V,m+1),!!(V%2)&&(b==="reverse"?(K=1-K,x&&(K-=x/f)):b==="mirror"&&(A=i)),k=Fi(0,1,K)*f}const M=T?{done:!1,value:l[0]}:A.next(k);a&&(M.value=a(M.value));let{done:L}=M;!T&&u!==null&&(L=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return W&&s!==void 0&&(M.value=kf(l,this.options,s)),N&&N(M.value),W&&this.finish(),M}get duration(){const{resolved:t}=this;return t?ks(t.calculatedDuration):0}get time(){return ks(this.currentTime)}set time(t){t=mo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ks(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=PT,onPlay:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const a5=e=>Array.isArray(e)&&typeof e[0]=="number";function l5(e){return!!(!e||typeof e=="string"&&e in _2||a5(e)||Array.isArray(e)&&e.every(l5))}const Pa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function FT(e){return u5(e)||_2.easeOut}function u5(e){if(e)return a5(e)?Pa(e):Array.isArray(e)?e.map(FT):_2[e]}function MT(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=u5(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:s,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const RT=qx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LT=new Set(["opacity","clipPath","filter","transform"]),Fc=10,zT=2e4;function jT(e){return e.type==="spring"||e.name==="backgroundColor"||!l5(e.ease)}function BT(e,t){const n=new $2({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<zT;)r=n.sample(o),s.push(r.value),o+=Fc;return{times:void 0,keyframes:s,duration:o-Fc,ease:"linear"}}class l0 extends Y6{constructor(t){super(t);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new q6(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(jT(this.options)){const{onComplete:f,onUpdate:d,motionValue:m,...b}=this.options,x=BT(t,b);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,o=x.times,i=x.ease,a="keyframes"}const c=MT(l.owner.current,u,t,{...this.options,duration:s,times:o,ease:i});return c.startTime=Ti.now(),this.pendingTimeline?(c.timeline=this.pendingTimeline,this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;l.set(kf(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:s,times:o,type:a,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ks(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ks(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return vr;const{animation:r}=n;r.timeline=t,r.onfinish=null}return vr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=t;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:c,...f}=this.options,d=new $2({...f,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),m=mo(this.time);l.setWithVelocity(d.sample(m-Fc).value,d.sample(m).value,Fc)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=t;return RT()&&r&&LT.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}const VT=(e,t,n,r={},s,o)=>i=>{const a=D6(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-mo(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:d=>{t.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:s};xx(a)||(c={...c,...Sx(e,c)}),c.duration&&(c.duration=mo(c.duration)),c.repeatDelay&&(c.repeatDelay=mo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&t.get()!==void 0){const d=kf(c.keyframes,a);if(d!==void 0){Pt.update(()=>{c.onUpdate(d),c.onComplete()});return}}return!o&&l0.supports(c)?new l0(c):new $2(c)};function Mc(e){return!!(Yt(e)&&e.add)}function UT(e,t){e.indexOf(t)===-1&&e.push(t)}function WT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class c5{constructor(){this.subscriptions=[]}add(t){return UT(this.subscriptions,t),()=>WT(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const u0=30,HT=e=>!isNaN(parseFloat(e));class KT{constructor(t,n={}){this.version="11.1.9",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Ti.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=HT(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ti.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new c5);const r=this.events[t].add(n);return t==="change"?()=>{r(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u0);return X6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rc(e,t){return new KT(e,t)}function GT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rc(n))}function qT(e,t){const n=Ef(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=HS(o[i]);GT(e,i,a)}}function YT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function f5(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;const u=e.getValue("willChange");r&&(i=r);const c=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const m=e.getValue(d,(o=e.latestValues[d])!==null&&o!==void 0?o:null),b=l[d];if(b===void 0||f&&YT(f,d))continue;const x={delay:n,elapsed:0,...D6(i||{},d)};let N=!1;if(window.HandoffAppearAnimations){const k=e.getProps()[f6];if(k){const A=window.HandoffAppearAnimations(k,d);A!==null&&(x.elapsed=A,N=!0)}}m.start(VT(d,m,b,e.shouldReduceMotion&&Mo.has(d)?{type:!1}:x,e,N));const S=m.animation;S&&(Mc(u)&&(u.add(d),S.then(()=>u.remove(d))),c.push(S))}return a&&Promise.all(c).then(()=>{Pt.update(()=>{a&&qT(e,a)})}),c}function vh(e,t,n={}){var r;const s=Ef(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(f5(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return XT(e,t,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function XT(e,t,n=0,r=0,s=1,o){const i=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(QT).forEach((u,c)=>{u.notify("AnimationStart",t),i.push(vh(u,t,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function QT(e,t){return e.sortNodePosition(t)}function JT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>vh(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=vh(e,t,n);else{const s=typeof t=="function"?Ef(e,t,n.custom):t;r=Promise.all(f5(e,s,n))}return r.then(()=>{Pt.postRender(()=>{e.notify("AnimationComplete",t)})})}const ZT=[...c2].reverse(),eE=c2.length;function tE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>JT(e,n,r)))}function nE(e){let t=tE(e);const n=sE();let r=!0;const s=l=>(u,c)=>{var f;const d=Ef(e,c,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:b,...x}=d;u={...u,...x,...b}}return u};function o(l){t=l(e)}function i(l){const u=e.getProps(),c=e.getVariantContext(!0)||{},f=[],d=new Set;let m={},b=1/0;for(let N=0;N<eE;N++){const S=ZT[N],T=n[S],k=u[S]!==void 0?u[S]:c[S],A=pl(k),M=S===l?T.isActive:null;M===!1&&(b=N);let L=k===c[S]&&k!==u[S]&&A;if(L&&r&&e.manuallyAnimateOnMount&&(L=!1),T.protectedKeys={...m},!T.isActive&&M===null||!k&&!T.prevProp||xf(k)||typeof k=="boolean")continue;let C=rE(T.prevProp,k)||S===l&&T.isActive&&!L&&A||N>b&&A,V=!1;const K=Array.isArray(k)?k:[k];let X=K.reduce(s(S),{});M===!1&&(X={});const{prevResolvedValues:Q={}}=T,B={...Q,...X},Y=oe=>{C=!0,d.has(oe)&&(V=!0,d.delete(oe)),T.needsAnimating[oe]=!0;const de=e.getValue(oe);de&&(de.liveStyle=!1)};for(const oe in B){const de=X[oe],ve=Q[oe];if(m.hasOwnProperty(oe))continue;let re=!1;lh(de)&&lh(ve)?re=!O6(de,ve):re=de!==ve,re?de!=null?Y(oe):d.add(oe):de!==void 0&&d.has(oe)?Y(oe):T.protectedKeys[oe]=!0}T.prevProp=k,T.prevResolvedValues=X,T.isActive&&(m={...m,...X}),r&&e.blockInitialAnimation&&(C=!1),C&&(!L||V)&&f.push(...K.map(oe=>({animation:oe,options:{type:S}})))}if(d.size){const N={};d.forEach(S=>{const T=e.getBaseTarget(S),k=e.getValue(S);k&&(k.liveStyle=!0),N[S]=T??null}),f.push({animation:N})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=e.variantChildren)===null||c===void 0||c.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=i(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n}}function rE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O6(t,e):!1}function Ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sE(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class oE extends Hi{constructor(t){super(t),t.animationState||(t.animationState=nE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),xf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let iE=0;class aE extends Hi{constructor(){super(...arguments),this.id=iE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const lE={animation:{Feature:oE},exit:{Feature:aE}},c0=()=>({min:0,max:0}),d5=()=>({x:c0(),y:c0()});function uE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fE(e,t){return uE(cE(e.getBoundingClientRect(),t))}const bh={current:null},h5={current:!1};function dE(){if(h5.current=!0,!!i2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bh.current=e.matches;e.addListener(t),t()}else bh.current=!1}function hE(e,t,n){const{willChange:r}=t;for(const s in t){const o=t[s],i=n[s];if(Yt(o))e.addValue(s,o),Mc(r)&&r.add(s);else if(Yt(i))e.addValue(s,Rc(o,{owner:e})),Mc(r)&&r.remove(s);else if(i!==o)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=e.getStaticValue(s);e.addValue(s,Rc(a!==void 0?a:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const f0=new WeakMap,pE=[...z6,zt,Ki],mE=e=>pE.find(L6(e)),p5=Object.keys(ml),gE=p5.length,d0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yE=f2.length;function m5(e){if(e)return e.options.allowProjection!==!1?e.projection:m5(e.parent)}class vE{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(d,m,b,x)=>new this.KeyframeResolver(d,m,b,x,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=S2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pt.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Tf(n),this.isVariantNode=p6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const m=f[d];l[d]!==void 0&&Yt(m)&&(m.set(l[d],!1),Mc(c)&&c.add(d))}}mount(t){this.current=t,f0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),h5.current||dE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;f0.delete(this.current),this.projection&&this.projection.unmount(),uh(this.notifyUpdate),uh(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(t=this.features[n])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,n){const r=Mo.has(t),s=n.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,o){let i,a;for(let l=0;l<gE;l++){const u=p5[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:m}=ml[u];d&&(i=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,m5(this.parent));const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&h6(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):d5()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<d0.length;r++){const s=d0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=hE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yE;r++){const s=f2[r],o=this.props[s];(pl(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Rc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(M6(s)||F6(s))?s=parseFloat(s):!mE(s)&&Ki.test(n)&&(s=G6(t,n)),this.setBaseTarget(t,Yt(s)?s.get():s)),Yt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=w2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Yt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new c5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class g5 extends vE{constructor(){super(...arguments),this.KeyframeResolver=q6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function bE(e){return window.getComputedStyle(e)}class wE extends g5{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Mo.has(n)){const r=T2(n);return r&&r.default||0}else{const r=bE(t),s=(v6(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return fE(t,n)}build(t,n,r,s){m2(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return b2(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){T6(t,n,r,s)}}class SE extends g5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Mo.has(n)){const r=T2(n);return r&&r.default||0}return n=E6.has(n)?n:u2(n),t.getAttribute(n)}measureInstanceViewportBox(){return d5()}scrapeMotionValuesFromProps(t,n,r){return N6(t,n,r)}build(t,n,r,s){y2(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){k6(t,n,r,s)}mount(t){this.isSVGTag=v2(t.tagName),super.mount(t)}}const xE=(e,t)=>d2(e)?new SE(t,{enableHardwareAcceleration:!1}):new wE(t,{allowProjection:e!==U.Fragment,enableHardwareAcceleration:!0}),TE=bS(QS);function y5(){const e=U.useRef(!1);return a2(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function EE(){const e=y5(),[t,n]=U.useState(0),r=U.useCallback(()=>{e.current&&n(t+1)},[t]);return[U.useCallback(()=>Pt.postRender(r),[r]),t]}class kE extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NE({children:e,isPresent:t}){const n=U.useId(),r=U.useRef(null),s=U.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=U.useContext(s2);return U.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),se.jsx(kE,{isPresent:t,childRef:r,sizeRef:s,children:U.cloneElement(e,{ref:r})})}const Pd=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=$6($E),l=U.useId(),u=U.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?[Math.random()]:[n]);return U.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),U.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(e=se.jsx(NE,{isPresent:n,children:e})),se.jsx(o2.Provider,{value:u,children:e})};function $E(){return new Map}function _E(e){return U.useEffect(()=>()=>e(),[])}const eo=e=>e.key||"";function CE(e,t){e.forEach(n=>{const r=eo(n);t.set(r,n)})}function AE(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const IE=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=U.useContext(m6).forceRender||EE()[0],l=y5(),u=AE(e);let c=u;const f=U.useRef(new Map).current,d=U.useRef(c),m=U.useRef(new Map).current,b=U.useRef(!0);if(a2(()=>{b.current=!1,CE(u,m),d.current=c}),_E(()=>{b.current=!0,m.clear(),f.clear()}),b.current)return se.jsx(se.Fragment,{children:c.map(T=>se.jsx(Pd,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:T},eo(T)))});c=[...c];const x=d.current.map(eo),N=u.map(eo),S=x.length;for(let T=0;T<S;T++){const k=x[T];N.indexOf(k)===-1&&!f.has(k)&&f.set(k,void 0)}return i==="wait"&&f.size&&(c=[]),f.forEach((T,k)=>{if(N.indexOf(k)!==-1)return;const A=m.get(k);if(!A)return;const M=x.indexOf(k);let L=T;if(!L){const W=()=>{f.delete(k);const C=Array.from(m.keys()).filter(V=>!N.includes(V));if(C.forEach(V=>m.delete(V)),d.current=u.filter(V=>{const K=eo(V);return K===k||C.includes(K)}),!f.size){if(l.current===!1)return;a(),r&&r()}};L=se.jsx(Pd,{isPresent:!1,onExitComplete:W,custom:t,presenceAffectsLayout:o,mode:i,children:A},eo(A)),f.set(k,L)}c.splice(M,0,L)}),c=c.map(T=>{const k=T.key;return f.has(k)?T:se.jsx(Pd,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:T},eo(T))}),se.jsx(se.Fragment,{children:f.size?c:c.map(T=>U.cloneElement(T))})};function PE({children:e,features:t,strict:n=!1}){const[,r]=U.useState(!Od(t)),s=U.useRef(void 0);if(!Od(t)){const{renderer:o,...i}=t;s.current=o,ah(i)}return U.useEffect(()=>{Od(t)&&t().then(({renderer:o,...i})=>{ah(i),s.current=o,r(!0)})},[]),se.jsx(l2.Provider,{value:{renderer:s.current,strict:n},children:e})}function Od(e){return typeof e=="function"}const OE={renderer:xE,...lE,...px};var[xj,DE]=Hp({name:"ButtonGroupContext",strict:!1});function v5(e,t){let{elementType:n="button",isDisabled:r,onPress:s,onPressStart:o,onPressEnd:i,onPressChange:a,preventFocusOnPress:l,allowFocusWhenDisabled:u,onClick:c,href:f,target:d,rel:m,type:b="button",allowTextSelectionOnPress:x}=e,N;n==="button"?N={type:b,disabled:r}:N={role:"button",tabIndex:r?void 0:0,href:n==="a"&&r?void 0:f,target:n==="a"?d:void 0,type:n==="input"?b:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?m:void 0};let{pressProps:S,isPressed:T}=Uy({onPressStart:o,onPressEnd:i,onPressChange:a,onPress:s,isDisabled:r,preventFocusOnPress:l,allowTextSelectionOnPress:x,ref:t}),{focusableProps:k}=fw(e,t);u&&(k.tabIndex=r?-1:k.tabIndex);let A=Br(k,S,Cb(e,{labelable:!0}));return{isPressed:T,buttonProps:Br(N,A,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:M=>{c==null||c(M)}})}}var b5=e=>{const{ripples:t=[],motionProps:n,color:r="currentColor",style:s,onClear:o}=e;return se.jsx(se.Fragment,{children:t.map(i=>{const a=j9(.01*i.size,.2,i.size>100?.75:.5);return se.jsx(IE,{mode:"popLayout",children:se.jsx(se.Fragment,{children:se.jsx(PE,{features:OE,children:se.jsx(TE.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:i.y,left:i.x,width:`${i.size}px`,height:`${i.size}px`,...s},transition:{duration:a},onAnimationComplete:()=>{o(i.key)},...n})})})},i.key)})})};b5.displayName="NextUI.Ripple";var w5=b5;function S5(e={}){const[t,n]=U.useState([]),r=U.useCallback(o=>{const i=o.currentTarget,a=Math.max(i.clientWidth,i.clientHeight),l=i.getBoundingClientRect();n(u=>[...u,{key:z9(u.length.toString()),size:a,x:o.clientX-l.left-a/2,y:o.clientY-l.top-a/2}])},[]),s=U.useCallback(o=>{n(i=>i.filter(a=>a.key!==o))},[]);return{ripples:t,onClick:r,onClear:s,...e}}function FE(e){var t,n,r,s,o,i,a,l;const u=DE(),c=!!u,{ref:f,as:d,children:m,startContent:b,endContent:x,autoFocus:N,className:S,spinner:T,fullWidth:k=(t=u==null?void 0:u.fullWidth)!=null?t:!1,size:A=(n=u==null?void 0:u.size)!=null?n:"md",color:M=(r=u==null?void 0:u.color)!=null?r:"default",variant:L=(s=u==null?void 0:u.variant)!=null?s:"solid",disableAnimation:W=(o=u==null?void 0:u.disableAnimation)!=null?o:!1,radius:C=u==null?void 0:u.radius,disableRipple:V=(i=u==null?void 0:u.disableRipple)!=null?i:!1,isDisabled:K=(a=u==null?void 0:u.isDisabled)!=null?a:!1,isIconOnly:X=(l=u==null?void 0:u.isIconOnly)!=null?l:!1,isLoading:Q=!1,spinnerPlacement:B="start",onPress:Y,onClick:oe,...de}=e,ve=d||"button",re=typeof ve=="string",ce=yf(f),{isFocusVisible:ge,isFocused:xe,focusProps:Ce}=t2({autoFocus:N}),Fe=K||Q,xt=U.useMemo(()=>sS({size:A,color:M,variant:L,radius:C,fullWidth:k,isDisabled:Fe,isInGroup:c,disableAnimation:W,isIconOnly:X,className:S}),[A,M,L,C,k,Fe,c,X,W,S]),{onClick:en,onClear:rt,ripples:pn}=S5(),Jr=U.useCallback(mt=>{V||Fe||W||ce.current&&en(mt)},[V,Fe,W,ce,en]),{buttonProps:Ut,isPressed:Wt}=v5({elementType:d,isDisabled:Fe,onPress:Y,onClick:bf(oe,Jr),...de},ce),{isHovered:Xe,hoverProps:Wn}=Jy({isDisabled:Fe}),Sr=U.useCallback((mt={})=>({"data-disabled":Xn(Fe),"data-focus":Xn(xe),"data-pressed":Xn(Wt),"data-focus-visible":Xn(ge),"data-hover":Xn(Xe),"data-loading":Xn(Q),...Br(Ut,Ce,Wn,kc(de,{enabled:re}),kc(mt))}),[Q,Fe,xe,Wt,re,ge,Xe,Ut,Ce,Wn,de]),xr=mt=>U.isValidElement(mt)?U.cloneElement(mt,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,tn=xr(b),mn=xr(x),or=U.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[A],[A]),Mt=U.useCallback(()=>({ripples:pn,onClear:rt}),[pn,rt]);return{Component:ve,children:m,domRef:ce,spinner:T,styles:xt,startContent:tn,endContent:mn,isLoading:Q,spinnerPlacement:B,spinnerSize:or,disableRipple:V,getButtonProps:Sr,getRippleProps:Mt,isIconOnly:X}}function ME(e){const[t,n]=n2(e,zm.variantKeys),{children:r,className:s,classNames:o,label:i,...a}=t,l=U.useMemo(()=>zm({...n}),[Kp(n)]),u=fl(o==null?void 0:o.base,s),c=i||r,f=U.useMemo(()=>c&&typeof c=="string"?c:a["aria-label"]?"":"Loading",[r,c,a["aria-label"]]),d=U.useCallback(()=>({"aria-label":f,className:l.base({class:u}),...a}),[f,l,u,a]);return{label:c,slots:l,classNames:o,getSpinnerProps:d}}var x5=Cl((e,t)=>{const{slots:n,classNames:r,label:s,getSpinnerProps:o}=ME({...e});return se.jsxs("div",{ref:t,...o(),children:[se.jsxs("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),children:[se.jsx("i",{className:n.circle1({class:r==null?void 0:r.circle1})}),se.jsx("i",{className:n.circle2({class:r==null?void 0:r.circle2})})]}),s&&se.jsx("span",{className:n.label({class:r==null?void 0:r.label}),children:s})]})});x5.displayName="NextUI.Spinner";var RE=x5,T5=Cl((e,t)=>{const{Component:n,domRef:r,children:s,styles:o,spinnerSize:i,spinner:a=se.jsx(RE,{color:"current",size:i}),spinnerPlacement:l,startContent:u,endContent:c,isLoading:f,disableRipple:d,getButtonProps:m,getRippleProps:b,isIconOnly:x}=FE({...e,ref:t});return se.jsxs(n,{ref:r,className:o,...m(),children:[u,f&&l==="start"&&a,f&&x?null:s,f&&l==="end"&&a,c,!d&&se.jsx(w5,{...b()})]})});T5.displayName="NextUI.Button";var Lc=T5,[LE,zE]=Hp({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),E5=Cl((e,t)=>{var n;const{as:r,className:s,children:o,...i}=e,a=r||"div",l=yf(t),{slots:u,classNames:c}=zE(),f=fl(c==null?void 0:c.header,s);return se.jsx(a,{ref:l,className:(n=u.header)==null?void 0:n.call(u,{class:f}),...i,children:o})});E5.displayName="NextUI.CardHeader";var jE=E5;function BE(e){const[t,n]=n2(e,jm.variantKeys),{ref:r,as:s,children:o,disableRipple:i=!1,onClick:a,onPress:l,autoFocus:u,className:c,classNames:f,allowTextSelectionOnPress:d=!0,...m}=t,b=yf(r),x=s||(e.isPressable?"button":"div"),N=typeof x=="string",S=fl(f==null?void 0:f.base,c),{onClick:T,onClear:k,ripples:A}=S5(),M=ve=>{!e.disableAnimation&&!i&&b.current&&T(ve)},{buttonProps:L,isPressed:W}=v5({onPress:l,elementType:s,isDisabled:!e.isPressable,onClick:bf(a,M),allowTextSelectionOnPress:d,...m},b),{hoverProps:C,isHovered:V}=Jy({isDisabled:!e.isHoverable,...m}),{isFocusVisible:K,isFocused:X,focusProps:Q}=t2({autoFocus:u}),B=U.useMemo(()=>jm({...n}),[Kp(n)]),Y=U.useMemo(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:B,classNames:f}),[B,f,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),oe=U.useCallback((ve={})=>({ref:b,className:B.base({class:S}),tabIndex:e.isPressable?0:-1,"data-hover":Xn(V),"data-pressed":Xn(W),"data-focus":Xn(X),"data-focus-visible":Xn(K),"data-disabled":Xn(e.isDisabled),...Br(e.isPressable?{...L,...Q,role:"button"}:{},e.isHoverable?C:{},kc(m,{enabled:N}),kc(ve))}),[b,B,S,N,e.isPressable,e.isHoverable,e.isDisabled,V,W,K,L,Q,C,m]),de=U.useCallback(()=>({ripples:A,onClear:k}),[A,k]);return{context:Y,domRef:b,Component:x,classNames:f,children:o,isHovered:V,isPressed:W,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:i,handleClick:M,isFocusVisible:K,getCardProps:oe,getRippleProps:de}}var k5=Cl((e,t)=>{const{children:n,context:r,Component:s,isPressable:o,disableAnimation:i,disableRipple:a,getCardProps:l,getRippleProps:u}=BE({...e,ref:t});return se.jsxs(s,{...l(),children:[se.jsx(LE,{value:r,children:n}),o&&!i&&!a&&se.jsx(w5,{...u()})]})});k5.displayName="NextUI.Card";var VE=k5;function UE(e){const[t,n]=n2(e,Bm.variantKeys),{ref:r,as:s,children:o,avatar:i,startContent:a,endContent:l,onClose:u,classNames:c,className:f,...d}=t,m=s||"div",b=yf(r),x=fl(c==null?void 0:c.base,f),N=!!u,S=e.variant==="dot",{focusProps:T,isFocusVisible:k}=t2(),A=U.useMemo(()=>typeof o=="string"&&(o==null?void 0:o.length)===1,[o]),M=U.useMemo(()=>!!i||!!a,[i,a]),L=U.useMemo(()=>!!l||N,[l,N]),W=U.useMemo(()=>Bm({...n,hasStartContent:M,hasEndContent:L,isOneChar:A,isCloseable:N,isCloseButtonFocusVisible:k}),[Kp(n),k,M,L,A,N]),{pressProps:C}=Uy({isDisabled:!!(e!=null&&e.isDisabled),onPress:u}),V=()=>({ref:b,className:W.base({class:x}),...d}),K=()=>({role:"button",tabIndex:0,className:W.closeButton({class:c==null?void 0:c.closeButton}),...Br(C,T)}),X=B=>U.isValidElement(B)?U.cloneElement(B,{className:W.avatar({class:c==null?void 0:c.avatar})}):null,Q=B=>U.isValidElement(B)?U.cloneElement(B,{className:fl("max-h-[80%]",B.props.className)}):null;return{Component:m,children:o,slots:W,classNames:c,isDot:S,isCloseable:N,startContent:X(i)||Q(a),endContent:Q(l),getCloseButtonProps:K,getChipProps:V}}var N5=Cl((e,t)=>{const{Component:n,children:r,slots:s,classNames:o,isDot:i,isCloseable:a,startContent:l,endContent:u,getCloseButtonProps:c,getChipProps:f}=UE({...e,ref:t}),d=U.useMemo(()=>i&&!l?se.jsx("span",{className:s.dot({class:o==null?void 0:o.dot})}):l,[s,l,i]),m=U.useMemo(()=>a?se.jsx("span",{...c(),children:u||se.jsx(oS,{})}):u,[u,a,c]);return se.jsxs(n,{...f(),children:[d,se.jsx("span",{className:s.content({class:o==null?void 0:o.content}),children:r}),m]})});N5.displayName="NextUI.Chip";var h0=N5,zc=["light","dark"],C2="(prefers-color-scheme: dark)",WE=typeof window>"u",A2=U.createContext(void 0),HE={setTheme:e=>{},themes:[]},KE=()=>{var e;return(e=U.useContext(A2))!=null?e:HE},GE=e=>U.useContext(A2)?e.children:U.createElement(YE,{...e}),qE=["light","dark"],YE=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:o=qE,defaultTheme:i=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:c})=>{let[f,d]=U.useState(()=>p0(s,i)),[m,b]=U.useState(()=>p0(s)),x=l?Object.values(l):o,N=U.useCallback(A=>{let M=A;if(!M)return;A==="system"&&n&&(M=m0());let L=l?l[M]:M,W=t?QE():null,C=document.documentElement;if(a==="class"?(C.classList.remove(...x),L&&C.classList.add(L)):L?C.setAttribute(a,L):C.removeAttribute(a),r){let V=zc.includes(i)?i:null,K=zc.includes(M)?M:V;C.style.colorScheme=K}W==null||W()},[]),S=U.useCallback(A=>{let M=typeof A=="function"?A(A):A;d(M);try{localStorage.setItem(s,M)}catch{}},[e]),T=U.useCallback(A=>{let M=m0(A);b(M),f==="system"&&n&&!e&&N("system")},[f,e]);U.useEffect(()=>{let A=window.matchMedia(C2);return A.addListener(T),T(A),()=>A.removeListener(T)},[T]),U.useEffect(()=>{let A=M=>{if(M.key!==s)return;let L=M.newValue||i;S(L)};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[S]),U.useEffect(()=>{N(e??f)},[e,f]);let k=U.useMemo(()=>({theme:f,setTheme:S,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:n?[...o,"system"]:o,systemTheme:n?m:void 0}),[f,S,e,m,n,o]);return U.createElement(A2.Provider,{value:k},U.createElement(XE,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:o,defaultTheme:i,attribute:a,value:l,children:u,attrs:x,nonce:c}),u)},XE=U.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?zc.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(b,x=!1,N=!0)=>{let S=i?i[b]:b,T=x?b+"|| ''":`'${S}'`,k="";return s&&N&&!x&&zc.includes(b)&&(k+=`d.style.colorScheme = '${b}';`),n==="class"?x||S?k+=`c.add(${T})`:k+="null":S&&(k+=`d[s](n,${T})`),k},m=e?`!function(){${c}${d(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${C2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}${u?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return U.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),p0=(e,t)=>{if(WE)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},QE=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},m0=e=>(e||(e=window.matchMedia(C2)),e.matches?"dark":"light");(function(){var e;function t(p){var y=0;return function(){return y<p.length?{done:!1,value:p[y++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,y,w){return p==Array.prototype||p==Object.prototype||(p[y]=w.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mr=="object"&&mr];for(var y=0;y<p.length;++y){var w=p[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=r(this);function o(p,y){if(y)e:{var w=s;p=p.split(".");for(var D=0;D<p.length-1;D++){var H=p[D];if(!(H in w))break e;w=w[H]}p=p[p.length-1],D=w[p],y=y(D),y!=D&&y!=null&&n(w,p,{configurable:!0,writable:!0,value:y})}}o("Symbol",function(p){function y(J){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new w(D+(J||"")+"_"+H++,J)}function w(J,G){this.g=J,n(this,"description",{configurable:!0,writable:!0,value:G})}if(p)return p;w.prototype.toString=function(){return this.g};var D="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",H=0;return y}),o("Symbol.iterator",function(p){if(p)return p;p=Symbol("Symbol.iterator");for(var y="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),w=0;w<y.length;w++){var D=s[y[w]];typeof D=="function"&&typeof D.prototype[p]!="function"&&n(D.prototype,p,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return p});function i(p){return p={next:p},p[Symbol.iterator]=function(){return this},p}function a(p){var y=typeof Symbol<"u"&&Symbol.iterator&&p[Symbol.iterator];return y?y.call(p):{next:t(p)}}function l(p){if(!(p instanceof Array)){p=a(p);for(var y,w=[];!(y=p.next()).done;)w.push(y.value);p=w}return p}var u=typeof Object.create=="function"?Object.create:function(p){function y(){}return y.prototype=p,new y},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var f;e:{var d={a:!0},m={};try{m.__proto__=d,f=m.a;break e}catch{}f=!1}c=f?function(p,y){if(p.__proto__=y,p.__proto__!==y)throw new TypeError(p+" is not extensible");return p}:null}var b=c;function x(p,y){if(p.prototype=u(y.prototype),p.prototype.constructor=p,b)b(p,y);else for(var w in y)if(w!="prototype")if(Object.defineProperties){var D=Object.getOwnPropertyDescriptor(y,w);D&&Object.defineProperty(p,w,D)}else p[w]=y[w];p.ea=y.prototype}function N(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function S(p){if(p.l)throw new TypeError("Generator is already running");p.l=!0}N.prototype.o=function(p){this.h=p};function T(p,y){p.j={U:y,V:!0},p.g=p.m||p.s}N.prototype.return=function(p){this.j={return:p},this.g=this.s};function k(p,y,w){return p.g=w,{value:y}}function A(p){this.g=new N,this.h=p}function M(p,y){S(p.g);var w=p.g.i;return w?L(p,"return"in w?w.return:function(D){return{value:D,done:!0}},y,p.g.return):(p.g.return(y),W(p))}function L(p,y,w,D){try{var H=y.call(p.g.i,w);if(!(H instanceof Object))throw new TypeError("Iterator result "+H+" is not an object");if(!H.done)return p.g.l=!1,H;var J=H.value}catch(G){return p.g.i=null,T(p.g,G),W(p)}return p.g.i=null,D.call(p.g,J),W(p)}function W(p){for(;p.g.g;)try{var y=p.h(p.g);if(y)return p.g.l=!1,{value:y.value,done:!1}}catch(w){p.g.h=void 0,T(p.g,w)}if(p.g.l=!1,p.g.j){if(y=p.g.j,p.g.j=null,y.V)throw y.U;return{value:y.return,done:!0}}return{value:void 0,done:!0}}function C(p){this.next=function(y){return S(p.g),p.g.i?y=L(p,p.g.i.next,y,p.g.o):(p.g.o(y),y=W(p)),y},this.throw=function(y){return S(p.g),p.g.i?y=L(p,p.g.i.throw,y,p.g.o):(T(p.g,y),y=W(p)),y},this.return=function(y){return M(p,y)},this[Symbol.iterator]=function(){return this}}function V(p,y){return y=new C(new A(y)),b&&p.prototype&&b(y,p.prototype),y}function K(p,y){p instanceof String&&(p+="");var w=0,D=!1,H={next:function(){if(!D&&w<p.length){var J=w++;return{value:y(J,p[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}var X=typeof Object.assign=="function"?Object.assign:function(p,y){for(var w=1;w<arguments.length;w++){var D=arguments[w];if(D)for(var H in D)Object.prototype.hasOwnProperty.call(D,H)&&(p[H]=D[H])}return p};o("Object.assign",function(p){return p||X}),o("Promise",function(p){function y(G){this.h=0,this.i=void 0,this.g=[],this.o=!1;var ee=this.j();try{G(ee.resolve,ee.reject)}catch(ae){ee.reject(ae)}}function w(){this.g=null}function D(G){return G instanceof y?G:new y(function(ee){ee(G)})}if(p)return p;w.prototype.h=function(G){if(this.g==null){this.g=[];var ee=this;this.i(function(){ee.l()})}this.g.push(G)};var H=s.setTimeout;w.prototype.i=function(G){H(G,0)},w.prototype.l=function(){for(;this.g&&this.g.length;){var G=this.g;this.g=[];for(var ee=0;ee<G.length;++ee){var ae=G[ee];G[ee]=null;try{ae()}catch(me){this.j(me)}}}this.g=null},w.prototype.j=function(G){this.i(function(){throw G})},y.prototype.j=function(){function G(me){return function(Te){ae||(ae=!0,me.call(ee,Te))}}var ee=this,ae=!1;return{resolve:G(this.C),reject:G(this.l)}},y.prototype.C=function(G){if(G===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(G instanceof y)this.F(G);else{e:switch(typeof G){case"object":var ee=G!=null;break e;case"function":ee=!0;break e;default:ee=!1}ee?this.u(G):this.m(G)}},y.prototype.u=function(G){var ee=void 0;try{ee=G.then}catch(ae){this.l(ae);return}typeof ee=="function"?this.G(ee,G):this.m(G)},y.prototype.l=function(G){this.s(2,G)},y.prototype.m=function(G){this.s(1,G)},y.prototype.s=function(G,ee){if(this.h!=0)throw Error("Cannot settle("+G+", "+ee+"): Promise already settled in state"+this.h);this.h=G,this.i=ee,this.h===2&&this.D(),this.A()},y.prototype.D=function(){var G=this;H(function(){if(G.B()){var ee=s.console;typeof ee<"u"&&ee.error(G.i)}},1)},y.prototype.B=function(){if(this.o)return!1;var G=s.CustomEvent,ee=s.Event,ae=s.dispatchEvent;return typeof ae>"u"?!0:(typeof G=="function"?G=new G("unhandledrejection",{cancelable:!0}):typeof ee=="function"?G=new ee("unhandledrejection",{cancelable:!0}):(G=s.document.createEvent("CustomEvent"),G.initCustomEvent("unhandledrejection",!1,!0,G)),G.promise=this,G.reason=this.i,ae(G))},y.prototype.A=function(){if(this.g!=null){for(var G=0;G<this.g.length;++G)J.h(this.g[G]);this.g=null}};var J=new w;return y.prototype.F=function(G){var ee=this.j();G.J(ee.resolve,ee.reject)},y.prototype.G=function(G,ee){var ae=this.j();try{G.call(ee,ae.resolve,ae.reject)}catch(me){ae.reject(me)}},y.prototype.then=function(G,ee){function ae(Ae,ke){return typeof Ae=="function"?function(be){try{me(Ae(be))}catch(h){Te(h)}}:ke}var me,Te,Le=new y(function(Ae,ke){me=Ae,Te=ke});return this.J(ae(G,me),ae(ee,Te)),Le},y.prototype.catch=function(G){return this.then(void 0,G)},y.prototype.J=function(G,ee){function ae(){switch(me.h){case 1:G(me.i);break;case 2:ee(me.i);break;default:throw Error("Unexpected state: "+me.h)}}var me=this;this.g==null?J.h(ae):this.g.push(ae),this.o=!0},y.resolve=D,y.reject=function(G){return new y(function(ee,ae){ae(G)})},y.race=function(G){return new y(function(ee,ae){for(var me=a(G),Te=me.next();!Te.done;Te=me.next())D(Te.value).J(ee,ae)})},y.all=function(G){var ee=a(G),ae=ee.next();return ae.done?D([]):new y(function(me,Te){function Le(be){return function(h){Ae[be]=h,ke--,ke==0&&me(Ae)}}var Ae=[],ke=0;do Ae.push(void 0),ke++,D(ae.value).J(Le(Ae.length-1),Te),ae=ee.next();while(!ae.done)})},y}),o("Object.is",function(p){return p||function(y,w){return y===w?y!==0||1/y===1/w:y!==y&&w!==w}}),o("Array.prototype.includes",function(p){return p||function(y,w){var D=this;D instanceof String&&(D=String(D));var H=D.length;for(w=w||0,0>w&&(w=Math.max(w+H,0));w<H;w++){var J=D[w];if(J===y||Object.is(J,y))return!0}return!1}}),o("String.prototype.includes",function(p){return p||function(y,w){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(y instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(y,w||0)!==-1}}),o("Array.prototype.keys",function(p){return p||function(){return K(this,function(y){return y})}});var Q=this||self;function B(p,y){p=p.split(".");var w=Q;p[0]in w||typeof w.execScript>"u"||w.execScript("var "+p[0]);for(var D;p.length&&(D=p.shift());)p.length||y===void 0?w[D]&&w[D]!==Object.prototype[D]?w=w[D]:w=w[D]={}:w[D]=y}function Y(p,y){return y=String.fromCharCode.apply(null,y),p==null?y:p+y}var oe,de=typeof TextDecoder<"u",ve,re=typeof TextEncoder<"u";function ce(p){if(re)p=(ve||(ve=new TextEncoder)).encode(p);else{var y=void 0;y=y===void 0?!1:y;for(var w=0,D=new Uint8Array(3*p.length),H=0;H<p.length;H++){var J=p.charCodeAt(H);if(128>J)D[w++]=J;else{if(2048>J)D[w++]=J>>6|192;else{if(55296<=J&&57343>=J){if(56319>=J&&H<p.length){var G=p.charCodeAt(++H);if(56320<=G&&57343>=G){J=1024*(J-55296)+G-56320+65536,D[w++]=J>>18|240,D[w++]=J>>12&63|128,D[w++]=J>>6&63|128,D[w++]=J&63|128;continue}else H--}if(y)throw Error("Found an unpaired surrogate");J=65533}D[w++]=J>>12|224,D[w++]=J>>6&63|128}D[w++]=J&63|128}}p=D.subarray(0,w)}return p}var ge={},xe=null;function Ce(p,y){y===void 0&&(y=0),en(),y=ge[y];for(var w=Array(Math.floor(p.length/3)),D=y[64]||"",H=0,J=0;H<p.length-2;H+=3){var G=p[H],ee=p[H+1],ae=p[H+2],me=y[G>>2];G=y[(G&3)<<4|ee>>4],ee=y[(ee&15)<<2|ae>>6],ae=y[ae&63],w[J++]=me+G+ee+ae}switch(me=0,ae=D,p.length-H){case 2:me=p[H+1],ae=y[(me&15)<<2]||D;case 1:p=p[H],w[J]=y[p>>2]+y[(p&3)<<4|me>>4]+ae+D}return w.join("")}function Fe(p){var y=p.length,w=3*y/4;w%3?w=Math.floor(w):"=.".indexOf(p[y-1])!=-1&&(w="=.".indexOf(p[y-2])!=-1?w-2:w-1);var D=new Uint8Array(w),H=0;return xt(p,function(J){D[H++]=J}),D.subarray(0,H)}function xt(p,y){function w(ae){for(;D<p.length;){var me=p.charAt(D++),Te=xe[me];if(Te!=null)return Te;if(!/^[\s\xa0]*$/.test(me))throw Error("Unknown base64 encoding at char: "+me)}return ae}en();for(var D=0;;){var H=w(-1),J=w(0),G=w(64),ee=w(64);if(ee===64&&H===-1)break;y(H<<2|J>>4),G!=64&&(y(J<<4&240|G>>2),ee!=64&&y(G<<6&192|ee))}}function en(){if(!xe){xe={};for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),y=["+/=","+/","-_=","-_.","-_"],w=0;5>w;w++){var D=p.concat(y[w].split(""));ge[w]=D;for(var H=0;H<D.length;H++){var J=D[H];xe[J]===void 0&&(xe[J]=H)}}}}var rt=typeof Uint8Array.prototype.slice=="function",pn;function Jr(p,y,w){return y===w?pn||(pn=new Uint8Array(0)):rt?p.slice(y,w):new Uint8Array(p.subarray(y,w))}var Ut=0,Wt=0;function Xe(p,y){y=y===void 0?{}:y,y=y.v===void 0?!1:y.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=y,p&&Wn(this,p)}function Wn(p,y){y=y.constructor===Uint8Array?y:y.constructor===ArrayBuffer?new Uint8Array(y):y.constructor===Array?new Uint8Array(y):y.constructor===String?Fe(y):y instanceof Uint8Array?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):new Uint8Array(0),p.h=y,p.l=0,p.j=p.h.length,p.g=p.l}Xe.prototype.reset=function(){this.g=this.l};function Sr(p){for(var y=128,w=0,D=0,H=0;4>H&&128<=y;H++)y=p.h[p.g++],w|=(y&127)<<7*H;if(128<=y&&(y=p.h[p.g++],w|=(y&127)<<28,D|=(y&127)>>4),128<=y)for(H=0;5>H&&128<=y;H++)y=p.h[p.g++],D|=(y&127)<<7*H+3;if(128>y)return p=w>>>0,y=D>>>0,(D=y&2147483648)&&(p=~p+1>>>0,y=~y>>>0,p==0&&(y=y+1>>>0)),p=4294967296*y+(p>>>0),D?-p:p;p.m=!0}Xe.prototype.i=function(){var p=this.h,y=p[this.g],w=y&127;return 128>y?(this.g+=1,w):(y=p[this.g+1],w|=(y&127)<<7,128>y?(this.g+=2,w):(y=p[this.g+2],w|=(y&127)<<14,128>y?(this.g+=3,w):(y=p[this.g+3],w|=(y&127)<<21,128>y?(this.g+=4,w):(y=p[this.g+4],w|=(y&15)<<28,128>y?(this.g+=5,w>>>0):(this.g+=5,128<=p[this.g++]&&128<=p[this.g++]&&128<=p[this.g++]&&128<=p[this.g++]&&this.g++,w)))))},Xe.prototype.o=function(){var p=this.h[this.g],y=this.h[this.g+1],w=this.h[this.g+2],D=this.h[this.g+3];return this.g+=4,w=(p<<0|y<<8|w<<16|D<<24)>>>0,p=2*(w>>31)+1,y=w>>>23&255,w&=8388607,y==255?w?NaN:1/0*p:y==0?p*Math.pow(2,-149)*w:p*Math.pow(2,y-150)*(w+Math.pow(2,23))};var xr=[];function tn(){this.g=new Uint8Array(64),this.h=0}tn.prototype.push=function(p){if(!(this.h+1<this.g.length)){var y=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(y)}this.g[this.h++]=p},tn.prototype.length=function(){return this.h},tn.prototype.end=function(){var p=this.g,y=this.h;return this.h=0,Jr(p,0,y)};function mn(p,y){for(;127<y;)p.push(y&127|128),y>>>=7;p.push(y)}function or(p){var y={},w=y.N===void 0?!1:y.N;this.o={v:y.v===void 0?!1:y.v},this.N=w,y=this.o,xr.length?(w=xr.pop(),y&&(w.v=y.v),p&&Wn(w,p),p=w):p=new Xe(p,y),this.g=p,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}or.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function Mt(p){var y=p.g;if((y=y.g==y.j)||(y=p.j)||(y=p.g,y=y.m||0>y.g||y.g>y.j),y)return!1;p.m=p.g.g,y=p.g.i();var w=y&7;return w!=0&&w!=5&&w!=1&&w!=2&&w!=3&&w!=4?(p.j=!0,!1):(p.i=y,p.l=y>>>3,p.h=w,!0)}function mt(p){switch(p.h){case 0:if(p.h!=0)mt(p);else{for(p=p.g;p.h[p.g]&128;)p.g++;p.g++}break;case 1:p.h!=1?mt(p):(p=p.g,p.g+=8);break;case 2:if(p.h!=2)mt(p);else{var y=p.g.i();p=p.g,p.g+=y}break;case 5:p.h!=5?mt(p):(p=p.g,p.g+=4);break;case 3:y=p.l;do{if(!Mt(p)){p.j=!0;break}if(p.h==4){p.l!=y&&(p.j=!0);break}mt(p)}while(!0);break;default:p.j=!0}}function jo(p,y,w){var D=p.g.j,H=p.g.i(),J=p.g.g+H;if(p.g.j=J,w(y,p),w=J-p.g.g,w!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+H+" bytes, instead read "+(H-w)+" bytes, either the data ended unexpectedly or the message misreported its own length");return p.g.g=J,p.g.j=D,y}function gt(p){return p.g.o()}function js(p){var y=p.g.i();p=p.g;var w=p.g;p.g+=y,p=p.h;var D;if(de)(D=oe)||(D=oe=new TextDecoder("utf-8",{fatal:!1})),D=D.decode(p.subarray(w,w+y));else{y=w+y;for(var H=[],J=null,G,ee,ae;w<y;)G=p[w++],128>G?H.push(G):224>G?w>=y?H.push(65533):(ee=p[w++],194>G||(ee&192)!==128?(w--,H.push(65533)):H.push((G&31)<<6|ee&63)):240>G?w>=y-1?H.push(65533):(ee=p[w++],(ee&192)!==128||G===224&&160>ee||G===237&&160<=ee||((D=p[w++])&192)!==128?(w--,H.push(65533)):H.push((G&15)<<12|(ee&63)<<6|D&63)):244>=G?w>=y-2?H.push(65533):(ee=p[w++],(ee&192)!==128||(G<<28)+(ee-144)>>30||((D=p[w++])&192)!==128||((ae=p[w++])&192)!==128?(w--,H.push(65533)):(G=(G&7)<<18|(ee&63)<<12|(D&63)<<6|ae&63,G-=65536,H.push((G>>10&1023)+55296,(G&1023)+56320))):H.push(65533),8192<=H.length&&(J=Y(J,H),H.length=0);D=Y(J,H)}return D}function Xi(p,y,w){var D=p.g.i();for(D=p.g.g+D;p.g.g<D;)w.push(y.call(p.g))}function Qi(p,y){p.h==2?Xi(p,Xe.prototype.o,y):y.push(gt(p))}function Tr(){this.h=[],this.i=0,this.g=new tn}function In(p,y){y.length!==0&&(p.h.push(y),p.i+=y.length)}function Bs(p){var y=p.i+p.g.length();if(y===0)return new Uint8Array(0);y=new Uint8Array(y);for(var w=p.h,D=w.length,H=0,J=0;J<D;J++){var G=w[J];G.length!==0&&(y.set(G,H),H+=G.length)}return w=p.g,D=w.h,D!==0&&(y.set(w.g.subarray(0,D),H),w.h=0),p.h=[y],y}function nn(p,y,w){if(w!=null){mn(p.g,8*y+5),p=p.g;var D=w;D=(w=0>D?1:0)?-D:D,D===0?0<1/D?Ut=Wt=0:(Wt=0,Ut=2147483648):isNaN(D)?(Wt=0,Ut=2147483647):34028234663852886e22<D?(Wt=0,Ut=(w<<31|2139095040)>>>0):11754943508222875e-54>D?(D=Math.round(D/Math.pow(2,-149)),Wt=0,Ut=(w<<31|D)>>>0):(y=Math.floor(Math.log(D)/Math.LN2),D*=Math.pow(2,-y),D=Math.round(8388608*D),16777216<=D&&++y,Wt=0,Ut=(w<<31|y+127<<23|D&8388607)>>>0),w=Ut,p.push(w>>>0&255),p.push(w>>>8&255),p.push(w>>>16&255),p.push(w>>>24&255)}}var Vs=typeof Uint8Array=="function";function Ji(p,y,w){if(p!=null)return typeof p=="object"?Vs&&p instanceof Uint8Array?w(p):Zi(p,y,w):y(p)}function Zi(p,y,w){if(Array.isArray(p)){for(var D=Array(p.length),H=0;H<p.length;H++)D[H]=Ji(p[H],y,w);return Array.isArray(p)&&p.W&&Ct(D),D}D={};for(H in p)D[H]=Ji(p[H],y,w);return D}function Ll(p){return typeof p=="number"?isFinite(p)?p:String(p):p}var zl={W:{value:!0,configurable:!0}};function Ct(p){return Array.isArray(p)&&!Object.isFrozen(p)&&Object.defineProperties(p,zl),p}var ut;function ft(p,y,w){var D=ut;ut=null,p||(p=D),D=this.constructor.ca,p||(p=D?[D]:[]),this.j=D?0:-1,this.m=this.g=null,this.h=p;e:{if(D=this.h.length,p=D-1,D&&(D=this.h[p],!(D===null||typeof D!="object"||Array.isArray(D)||Vs&&D instanceof Uint8Array))){this.l=p-this.j,this.i=D;break e}y!==void 0&&-1<y?(this.l=Math.max(y,p+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(w)for(y=0;y<w.length;y++)p=w[y],p<this.l?(p+=this.j,(D=this.h[p])?Ct(D):this.h[p]=Ht):(Us(this),(D=this.i[p])?Ct(D):this.i[p]=Ht)}var Ht=Object.freeze(Ct([]));function Us(p){var y=p.l+p.j;p.h[y]||(p.i=p.h[y]={})}function He(p,y,w){return y===-1?null:w!==void 0&&w||y>=p.l?p.i?p.i[y]:void 0:p.h[y+p.j]}function Ws(p,y){var w=w===void 0?!1:w,D=He(p,y,w);return D==null&&(D=Ht),D===Ht&&(D=Ct([]),Pe(p,y,D,w)),D}function ea(p){var y=Ws(p,3);if(p.m||(p.m={}),!p.m[3]){for(var w=0;w<y.length;w++)y[w]=+y[w];p.m[3]=!0}return y}function ir(p,y,w){return p=He(p,y),p??w}function gn(p,y,w){return p=He(p,y),p=p==null?p:+p,p??(w===void 0?0:w)}function Pe(p,y,w,D){D!==void 0&&D||y>=p.l?(Us(p),p.i[y]=w):p.h[y+p.j]=w}function jl(p,y,w){if(w===-1)return null;if(p.g||(p.g={}),!p.g[w]){var D=He(p,w,!1);D&&(p.g[w]=new y(D))}return p.g[w]}function Bo(p,y){p.g||(p.g={});var w=p.g[1];if(!w){var D=Ws(p,1);w=[];for(var H=0;H<D.length;H++)w[H]=new y(D[H]);p.g[1]=w}return w}function Hs(p,y,w){var D=D===void 0?!1:D;p.g||(p.g={});var H=w&&ar(w);p.g[y]=w,Pe(p,y,H,D)}function Ks(p,y,w,D){var H=Bo(p,w);y=y||new w,p=Ws(p,1),D!=null?(H.splice(D,0,y),p.splice(D,0,ar(y))):(H.push(y),p.push(ar(y)))}ft.prototype.toJSON=function(){var p=ar(this);return Zi(p,Ll,Ce)};function ar(p,y){if(p.g)for(var w in p.g){var D=p.g[w];if(Array.isArray(D))for(var H=0;H<D.length;H++)D[H]&&ar(D[H]);else D&&ar(D)}return p.h}ft.prototype.toString=function(){return ar(this).toString()};function Vo(p,y){if(p=p.o){In(y,y.g.end());for(var w=0;w<p.length;w++)In(y,p[w])}}function yn(p,y){if(y.h==4)return!1;var w=y.m;return mt(y),y.N||(y=Jr(y.g.h,w,y.g.g),(w=p.o)?w.push(y):p.o=[y]),!0}function lr(p){ft.call(this,p,-1,Mf)}x(lr,ft),lr.prototype.getRows=function(){return He(this,1)},lr.prototype.getCols=function(){return He(this,2)},lr.prototype.getPackedDataList=function(){return ea(this)},lr.prototype.getLayout=function(){return ir(this,4,0)};function Bl(p,y){for(;Mt(y);)switch(y.i){case 8:var w=y.g.i();Pe(p,1,w);break;case 16:w=y.g.i(),Pe(p,2,w);break;case 29:case 26:Qi(y,p.getPackedDataList());break;case 32:w=Sr(y.g),Pe(p,4,w);break;default:if(!yn(p,y))return p}return p}var Mf=[3];function Tt(p,y){var w=void 0;return new(w||(w=Promise))(function(D,H){function J(ae){try{ee(y.next(ae))}catch(me){H(me)}}function G(ae){try{ee(y.throw(ae))}catch(me){H(me)}}function ee(ae){ae.done?D(ae.value):new w(function(me){me(ae.value)}).then(J,G)}ee((y=y.apply(p,void 0)).next())})}function ur(p){ft.call(this,p)}x(ur,ft);function Vl(p,y){for(;Mt(y);)switch(y.i){case 8:var w=y.g.i();Pe(p,1,w);break;case 21:w=gt(y),Pe(p,2,w);break;case 26:w=js(y),Pe(p,3,w);break;case 34:w=js(y),Pe(p,4,w);break;default:if(!yn(p,y))return p}return p}function Uo(p){ft.call(this,p,-1,Ul)}x(Uo,ft),Uo.prototype.addClassification=function(p,y){return Ks(this,p,ur,y),this};var Ul=[1];function Zr(p){ft.call(this,p)}x(Zr,ft);function Rf(p,y){for(;Mt(y);)switch(y.i){case 13:var w=gt(y);Pe(p,1,w);break;case 21:w=gt(y),Pe(p,2,w);break;case 29:w=gt(y),Pe(p,3,w);break;case 37:w=gt(y),Pe(p,4,w);break;case 45:w=gt(y),Pe(p,5,w);break;default:if(!yn(p,y))return p}return p}function Wl(p){ft.call(this,p,-1,Kl)}x(Wl,ft);function Hl(p){e:{var y=new Wl;for(p=new or(p);Mt(p);)switch(p.i){case 10:var w=jo(p,new Zr,Rf);Ks(y,w,Zr,void 0);break;default:if(!yn(y,p))break e}}return y}var Kl=[1];function Wo(p){ft.call(this,p)}x(Wo,ft);function Er(p){ft.call(this,p,-1,zf)}x(Er,ft),Er.prototype.getVertexType=function(){return ir(this,1,0)},Er.prototype.getPrimitiveType=function(){return ir(this,2,0)},Er.prototype.getVertexBufferList=function(){return ea(this)},Er.prototype.getIndexBufferList=function(){return Ws(this,4)};function Lf(p,y){for(;Mt(y);)switch(y.i){case 8:var w=Sr(y.g);Pe(p,1,w);break;case 16:w=Sr(y.g),Pe(p,2,w);break;case 29:case 26:Qi(y,p.getVertexBufferList());break;case 32:case 34:w=y;var D=p.getIndexBufferList();w.h==2?Xi(w,Xe.prototype.i,D):D.push(w.g.i());break;default:if(!yn(p,y))return p}return p}var zf=[3,4];function Ho(p){ft.call(this,p)}x(Ho,ft),Ho.prototype.getMesh=function(){return jl(this,Er,1)},Ho.prototype.getPoseTransformMatrix=function(){return jl(this,lr,2)};function Gl(p){e:{var y=new Ho;for(p=new or(p);Mt(p);)switch(p.i){case 10:var w=jo(p,new Er,Lf);Hs(y,1,w);break;case 18:w=jo(p,new lr,Bl),Hs(y,2,w);break;default:if(!yn(y,p))break e}}return y}function ta(p,y,w){if(w=p.createShader(w===0?p.VERTEX_SHADER:p.FRAGMENT_SHADER),p.shaderSource(w,y),p.compileShader(w),!p.getShaderParameter(w,p.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+p.getShaderInfoLog(w));return w}function na(p){return Bo(p,ur).map(function(y){return{index:ir(y,1,0),Y:gn(y,2),label:He(y,3)!=null?ir(y,3,""):void 0,displayName:He(y,4)!=null?ir(y,4,""):void 0}})}function ra(p){return{x:gn(p,1),y:gn(p,2),z:gn(p,3),visibility:He(p,4)!=null?gn(p,4):void 0}}function Gs(p,y){this.h=p,this.g=y,this.l=0}function es(p,y,w){return vn(p,y),typeof p.g.canvas.transferToImageBitmap=="function"?Promise.resolve(p.g.canvas.transferToImageBitmap()):w?Promise.resolve(p.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(p.g.canvas):(p.i===void 0&&(p.i=document.createElement("canvas")),new Promise(function(D){p.i.height=p.g.canvas.height,p.i.width=p.g.canvas.width,p.i.getContext("2d",{}).drawImage(p.g.canvas,0,0,p.g.canvas.width,p.g.canvas.height),D(p.i)}))}function vn(p,y){var w=p.g;if(p.m===void 0){var D=ta(w,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),H=ta(w,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),J=w.createProgram();if(w.attachShader(J,D),w.attachShader(J,H),w.linkProgram(J),!w.getProgramParameter(J,w.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+w.getProgramInfoLog(J));D=p.m=J,w.useProgram(D),H=w.getUniformLocation(D,"sampler0"),p.j={I:w.getAttribLocation(D,"aVertex"),H:w.getAttribLocation(D,"aTex"),da:H},p.s=w.createBuffer(),w.bindBuffer(w.ARRAY_BUFFER,p.s),w.enableVertexAttribArray(p.j.I),w.vertexAttribPointer(p.j.I,2,w.FLOAT,!1,0,0),w.bufferData(w.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),w.STATIC_DRAW),w.bindBuffer(w.ARRAY_BUFFER,null),p.o=w.createBuffer(),w.bindBuffer(w.ARRAY_BUFFER,p.o),w.enableVertexAttribArray(p.j.H),w.vertexAttribPointer(p.j.H,2,w.FLOAT,!1,0,0),w.bufferData(w.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),w.STATIC_DRAW),w.bindBuffer(w.ARRAY_BUFFER,null),w.uniform1i(H,0)}D=p.j,w.useProgram(p.m),w.canvas.width=y.width,w.canvas.height=y.height,w.viewport(0,0,y.width,y.height),w.activeTexture(w.TEXTURE0),p.h.bindTexture2d(y.glName),w.enableVertexAttribArray(D.I),w.bindBuffer(w.ARRAY_BUFFER,p.s),w.vertexAttribPointer(D.I,2,w.FLOAT,!1,0,0),w.enableVertexAttribArray(D.H),w.bindBuffer(w.ARRAY_BUFFER,p.o),w.vertexAttribPointer(D.H,2,w.FLOAT,!1,0,0),w.bindFramebuffer(w.DRAW_FRAMEBUFFER?w.DRAW_FRAMEBUFFER:w.FRAMEBUFFER,null),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.colorMask(!0,!0,!0,!0),w.drawArrays(w.TRIANGLE_FAN,0,4),w.disableVertexAttribArray(D.I),w.disableVertexAttribArray(D.H),w.bindBuffer(w.ARRAY_BUFFER,null),p.h.bindTexture2d(0)}function jf(p){this.g=p}var Bf=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ql(p,y){return y+p}function sa(p,y){window[p]=y}function rn(p){var y=document.createElement("script");return y.setAttribute("src",p),y.setAttribute("crossorigin","anonymous"),new Promise(function(w){y.addEventListener("load",function(){w()},!1),y.addEventListener("error",function(){w()},!1),document.body.appendChild(y)})}function Yl(){return Tt(this,function p(){return V(p,function(y){switch(y.g){case 1:return y.m=2,k(y,WebAssembly.instantiate(Bf),4);case 4:y.g=3,y.m=0;break;case 2:return y.m=0,y.j=null,y.return(!1);case 3:return y.return(!0)}})})}function kr(p){if(this.g=p,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=p&&p.locateFile||ql,typeof window=="object")var y=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")y=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=y,p.options){y=a(Object.keys(p.options));for(var w=y.next();!w.done;w=y.next()){w=w.value;var D=p.options[w].default;D!==void 0&&(this.j[w]=typeof D=="function"?D():D)}}}e=kr.prototype,e.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Xl(p,y){return p.g.files===void 0?[]:typeof p.g.files=="function"?p.g.files(y):p.g.files}function oa(p){return Tt(p,function y(){var w=this,D,H,J,G,ee,ae,me,Te,Le,Ae,ke;return V(y,function(be){switch(be.g){case 1:return D=w,w.R?(H=Xl(w,w.j),k(be,Yl(),2)):be.return();case 2:if(J=be.h,typeof window=="object")return sa("createMediapipeSolutionsWasm",{locateFile:w.locateFile}),sa("createMediapipeSolutionsPackedAssets",{locateFile:w.locateFile}),ae=H.filter(function(h){return h.data!==void 0}),me=H.filter(function(h){return h.data===void 0}),Te=Promise.all(ae.map(function(h){var v=ts(D,h.url);if(h.path!==void 0){var E=h.path;v=v.then(function($){return D.overrideFile(E,$),Promise.resolve($)})}return v})),Le=Promise.all(me.map(function(h){return h.simd===void 0||h.simd&&J||!h.simd&&!J?rn(D.locateFile(h.url,D.S)):Promise.resolve()})).then(function(){return Tt(D,function h(){var v,E,$=this;return V(h,function(O){if(O.g==1)return v=window.createMediapipeSolutionsWasm,E=window.createMediapipeSolutionsPackedAssets,k(O,v(E),2);$.h=O.h,O.g=0})})}),Ae=function(){return Tt(D,function h(){var v=this;return V(h,function(E){return v.g.graph&&v.g.graph.url?E=k(E,ts(v,v.g.graph.url),0):(E.g=0,E=void 0),E})})}(),k(be,Promise.all([Le,Te,Ae]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return G=H.filter(function(h){return h.simd===void 0||h.simd&&J||!h.simd&&!J}).map(function(h){return D.locateFile(h.url,D.S)}),importScripts.apply(null,l(G)),k(be,createMediapipeSolutionsWasm(Module),6);case 6:w.h=be.h,w.l=new OffscreenCanvas(1,1),w.h.canvas=w.l,ee=w.h.GL.createContext(w.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),w.h.GL.makeContextCurrent(ee),be.g=4;break;case 7:if(w.l=document.createElement("canvas"),ke=w.l.getContext("webgl2",{}),!ke&&(ke=w.l.getContext("webgl",{}),!ke))return alert("Failed to create WebGL canvas context when passing video frame."),be.return();w.D=ke,w.h.canvas=w.l,w.h.createContext(w.l,!0,!0,{});case 4:w.i=new w.h.SolutionWasm,w.R=!1,be.g=0}})})}function Vf(p){return Tt(p,function y(){var w=this,D,H,J,G,ee,ae,me,Te;return V(y,function(Le){if(Le.g==1){if(w.g.graph&&w.g.graph.url&&w.P===w.g.graph.url)return Le.return();if(w.o=!0,!w.g.graph||!w.g.graph.url){Le.g=2;return}return w.P=w.g.graph.url,k(Le,ts(w,w.g.graph.url),3)}for(Le.g!=2&&(D=Le.h,w.i.loadGraph(D)),H=a(Object.keys(w.B)),J=H.next();!J.done;J=H.next())G=J.value,w.i.overrideFile(G,w.B[G]);if(w.B={},w.g.listeners)for(ee=a(w.g.listeners),ae=ee.next();!ae.done;ae=ee.next())me=ae.value,Wf(w,me);Te=w.j,w.j={},w.setOptions(Te),Le.g=0})})}e.reset=function(){return Tt(this,function p(){var y=this;return V(p,function(w){y.i&&(y.i.reset(),y.m={},y.s={}),w.g=0})})},e.setOptions=function(p,y){var w=this;if(y=y||this.g.options){for(var D=[],H=[],J={},G=a(Object.keys(p)),ee=G.next();!ee.done;J={K:J.K,L:J.L},ee=G.next()){var ae=ee.value;ae in this.j&&this.j[ae]===p[ae]||(this.j[ae]=p[ae],ee=y[ae],ee!==void 0&&(ee.onChange&&(J.K=ee.onChange,J.L=p[ae],D.push(function(me){return function(){return Tt(w,function Te(){var Le,Ae=this;return V(Te,function(ke){if(ke.g==1)return k(ke,me.K(me.L),2);Le=ke.h,Le===!0&&(Ae.o=!0),ke.g=0})})}}(J))),ee.graphOptionXref&&(ae={valueNumber:ee.type===1?p[ae]:0,valueBoolean:ee.type===0?p[ae]:!1,valueString:ee.type===2?p[ae]:""},ee=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),ee.graphOptionXref),ae),H.push(ee))))}(D.length!==0||H.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(H),this.u=(this.u===void 0?[]:this.u).concat(D))}};function Uf(p){return Tt(p,function y(){var w=this,D,H,J,G,ee,ae,me;return V(y,function(Te){switch(Te.g){case 1:if(!w.o)return Te.return();if(!w.u){Te.g=2;break}D=a(w.u),H=D.next();case 3:if(H.done){Te.g=5;break}return J=H.value,k(Te,J(),4);case 4:H=D.next(),Te.g=3;break;case 5:w.u=void 0;case 2:if(w.A){for(G=new w.h.GraphOptionChangeRequestList,ee=a(w.A),ae=ee.next();!ae.done;ae=ee.next())me=ae.value,G.push_back(me);w.i.changeOptions(G),G.delete(),w.A=void 0}w.o=!1,Te.g=0}})})}e.initialize=function(){return Tt(this,function p(){var y=this;return V(p,function(w){return w.g==1?k(w,oa(y),2):w.g!=3?k(w,Vf(y),3):k(w,Uf(y),0)})})};function ts(p,y){return Tt(p,function w(){var D=this,H,J;return V(w,function(G){return y in D.F?G.return(D.F[y]):(H=D.locateFile(y,""),J=fetch(H).then(function(ee){return ee.arrayBuffer()}),D.F[y]=J,G.return(J))})})}e.overrideFile=function(p,y){this.i?this.i.overrideFile(p,y):this.B[p]=y},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(p,y){return Tt(this,function w(){var D=this,H,J,G,ee,ae,me,Te,Le,Ae;return V(w,function(ke){switch(ke.g){case 1:return D.g.inputs?(H=1e3*(y??performance.now()),k(ke,D.C,2)):ke.return();case 2:return k(ke,D.initialize(),3);case 3:for(J=new D.h.PacketDataList,G=a(Object.keys(p)),ee=G.next();!ee.done;ee=G.next())if(ae=ee.value,me=D.g.inputs[ae]){e:{var be=D,h=p[ae];switch(me.type){case"video":var v=be.m[me.stream];if(v||(v=new Gs(be.h,be.D),be.m[me.stream]=v),be=v,be.l===0&&(be.l=be.h.createTexture()),typeof HTMLVideoElement<"u"&&h instanceof HTMLVideoElement){var E=h.videoWidth;v=h.videoHeight}else typeof HTMLImageElement<"u"&&h instanceof HTMLImageElement?(E=h.naturalWidth,v=h.naturalHeight):(E=h.width,v=h.height);v={glName:be.l,width:E,height:v},E=be.g,E.canvas.width=v.width,E.canvas.height=v.height,E.activeTexture(E.TEXTURE0),be.h.bindTexture2d(be.l),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,h),be.h.bindTexture2d(0),be=v;break e;case"detections":for(v=be.m[me.stream],v||(v=new jf(be.h),be.m[me.stream]=v),be=v,be.data||(be.data=new be.g.DetectionListData),be.data.reset(h.length),v=0;v<h.length;++v){E=h[v];var $=be.data,O=$.setBoundingBox,I=v,F=E.T,z=new Wo;Pe(z,1,F.Z),Pe(z,2,F.$),Pe(z,3,F.height),Pe(z,4,F.width),Pe(z,5,F.rotation),Pe(z,6,F.X);var q=F=new Tr;nn(q,1,He(z,1)),nn(q,2,He(z,2)),nn(q,3,He(z,3)),nn(q,4,He(z,4)),nn(q,5,He(z,5));var Z=He(z,6);if(Z!=null&&Z!=null){mn(q.g,48);var ne=q.g,le=Z;Z=0>le,le=Math.abs(le);var fe=le>>>0;for(le=Math.floor((le-fe)/4294967296),le>>>=0,Z&&(le=~le>>>0,fe=(~fe>>>0)+1,4294967295<fe&&(fe=0,le++,4294967295<le&&(le=0))),Ut=fe,Wt=le,Z=Ut,fe=Wt;0<fe||127<Z;)ne.push(Z&127|128),Z=(Z>>>7|fe<<25)>>>0,fe>>>=7;ne.push(Z)}if(Vo(z,q),F=Bs(F),O.call($,I,F),E.O)for($=0;$<E.O.length;++$)z=E.O[$],q=!!z.visibility,O=be.data,I=O.addNormalizedLandmark,F=v,z=Object.assign(Object.assign({},z),{visibility:q?z.visibility:0}),q=new Zr,Pe(q,1,z.x),Pe(q,2,z.y),Pe(q,3,z.z),z.visibility&&Pe(q,4,z.visibility),ne=z=new Tr,nn(ne,1,He(q,1)),nn(ne,2,He(q,2)),nn(ne,3,He(q,3)),nn(ne,4,He(q,4)),nn(ne,5,He(q,5)),Vo(q,ne),z=Bs(z),I.call(O,F,z);if(E.M)for($=0;$<E.M.length;++$){if(O=be.data,I=O.addClassification,F=v,z=E.M[$],q=new ur,Pe(q,2,z.Y),z.index&&Pe(q,1,z.index),z.label&&Pe(q,3,z.label),z.displayName&&Pe(q,4,z.displayName),ne=z=new Tr,fe=He(q,1),fe!=null&&fe!=null)if(mn(ne.g,8),Z=ne.g,0<=fe)mn(Z,fe);else{for(le=0;9>le;le++)Z.push(fe&127|128),fe>>=7;Z.push(1)}nn(ne,2,He(q,2)),Z=He(q,3),Z!=null&&(Z=ce(Z),mn(ne.g,26),mn(ne.g,Z.length),In(ne,ne.g.end()),In(ne,Z)),Z=He(q,4),Z!=null&&(Z=ce(Z),mn(ne.g,34),mn(ne.g,Z.length),In(ne,ne.g.end()),In(ne,Z)),Vo(q,ne),z=Bs(z),I.call(O,F,z)}}be=be.data;break e;default:be={}}}switch(Te=be,Le=me.stream,me.type){case"video":J.pushTexture2d(Object.assign(Object.assign({},Te),{stream:Le,timestamp:H}));break;case"detections":Ae=Te,Ae.stream=Le,Ae.timestamp=H,J.pushDetectionList(Ae);break;default:throw Error("Unknown input config type: '"+me.type+"'")}}return D.i.send(J),k(ke,D.C,4);case 4:J.delete(),ke.g=0}})})};function Ql(p,y,w){return Tt(p,function D(){var H,J,G,ee,ae,me,Te=this,Le,Ae,ke,be,h,v,E,$;return V(D,function(O){switch(O.g){case 1:if(!w)return O.return(y);for(H={},J=0,G=a(Object.keys(w)),ee=G.next();!ee.done;ee=G.next())ae=ee.value,me=w[ae],typeof me!="string"&&me.type==="texture"&&y[me.stream]!==void 0&&++J;1<J&&(Te.G=!1),Le=a(Object.keys(w)),ee=Le.next();case 2:if(ee.done){O.g=4;break}if(Ae=ee.value,ke=w[Ae],typeof ke=="string")return E=H,$=Ae,k(O,Jl(Te,Ae,y[ke]),14);if(be=y[ke.stream],ke.type==="detection_list"){if(be){for(var I=be.getRectList(),F=be.getLandmarksList(),z=be.getClassificationsList(),q=[],Z=0;Z<I.size();++Z){var ne=I.get(Z);e:{var le=new Wo;for(ne=new or(ne);Mt(ne);)switch(ne.i){case 13:var fe=gt(ne);Pe(le,1,fe);break;case 21:fe=gt(ne),Pe(le,2,fe);break;case 29:fe=gt(ne),Pe(le,3,fe);break;case 37:fe=gt(ne),Pe(le,4,fe);break;case 45:fe=gt(ne),Pe(le,5,fe);break;case 48:fe=Sr(ne.g),Pe(le,6,fe);break;default:if(!yn(le,ne))break e}}le={Z:gn(le,1),$:gn(le,2),height:gn(le,3),width:gn(le,4),rotation:gn(le,5,0),X:ir(le,6,0)},ne=Bo(Hl(F.get(Z)),Zr).map(ra);var pe=z.get(Z);e:for(fe=new Uo,pe=new or(pe);Mt(pe);)switch(pe.i){case 10:fe.addClassification(jo(pe,new ur,Vl));break;default:if(!yn(fe,pe))break e}le={T:le,O:ne,M:na(fe)},q.push(le)}I=q}else I=[];H[Ae]=I,O.g=7;break}if(ke.type==="proto_list"){if(be){for(I=Array(be.size()),F=0;F<be.size();F++)I[F]=be.get(F);be.delete()}else I=[];H[Ae]=I,O.g=7;break}if(be===void 0){O.g=3;break}if(ke.type==="float_list"){H[Ae]=be,O.g=7;break}if(ke.type==="proto"){H[Ae]=be,O.g=7;break}if(ke.type!=="texture")throw Error("Unknown output config type: '"+ke.type+"'");return h=Te.s[Ae],h||(h=new Gs(Te.h,Te.D),Te.s[Ae]=h),k(O,es(h,be,Te.G),13);case 13:v=O.h,H[Ae]=v;case 7:ke.transform&&H[Ae]&&(H[Ae]=ke.transform(H[Ae])),O.g=3;break;case 14:E[$]=O.h;case 3:ee=Le.next(),O.g=2;break;case 4:return O.return(H)}})})}function Jl(p,y,w){return Tt(p,function D(){var H=this,J;return V(D,function(G){return typeof w=="number"||w instanceof Uint8Array||w instanceof H.h.Uint8BlobList?G.return(w):w instanceof H.h.Texture2dDataOut?(J=H.s[y],J||(J=new Gs(H.h,H.D),H.s[y]=J),G.return(es(J,w,H.G))):G.return(void 0)})})}function Wf(p,y){for(var w=y.name||"$",D=[].concat(l(y.wants)),H=new p.h.StringList,J=a(y.wants),G=J.next();!G.done;G=J.next())H.push_back(G.value);J=p.h.PacketListener.implement({onResults:function(ee){for(var ae={},me=0;me<y.wants.length;++me)ae[D[me]]=ee.get(me);var Te=p.listeners[w];Te&&(p.C=Ql(p,ae,y.outs).then(function(Le){Le=Te(Le);for(var Ae=0;Ae<y.wants.length;++Ae){var ke=ae[D[Ae]];typeof ke=="object"&&ke.hasOwnProperty&&ke.hasOwnProperty("delete")&&ke.delete()}Le&&(p.C=Le)}))}}),p.i.attachMultiListener(H,J),H.delete()}e.onResults=function(p,y){this.listeners[y||"$"]=p},B("Solution",kr),B("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Hf(p){p=Gl(p);var y=p.getMesh();if(!y)return p;var w=new Float32Array(y.getVertexBufferList());y.getVertexBufferList=function(){return w};var D=new Uint32Array(y.getIndexBufferList());return y.getIndexBufferList=function(){return D},p}var ia={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(p){return p.map(Hf)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(p){return p.map(function(y){return Bo(Hl(y),Zr).map(ra)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},aa=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],la=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ua=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ca=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],fa=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],da=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Zl=[].concat(l(aa),l(la),l(ua),l(ca),l(fa),l(da));function eu(p){p=p||{},p=Object.assign(Object.assign({},ia),p),this.g=new kr(p)}e=eu.prototype,e.close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(p){this.g.onResults(p)},e.initialize=function(){return Tt(this,function p(){var y=this;return V(p,function(w){return k(w,y.g.initialize(),0)})})},e.reset=function(){this.g.reset()},e.send=function(p){return Tt(this,function y(){var w=this;return V(y,function(D){return k(D,w.g.send(p),0)})})},e.setOptions=function(p){this.g.setOptions(p)},B("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),B("FaceMesh",eu),B("FACEMESH_LIPS",aa),B("FACEMESH_LEFT_EYE",la),B("FACEMESH_LEFT_EYEBROW",ua),B("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),B("FACEMESH_RIGHT_EYE",ca),B("FACEMESH_RIGHT_EYEBROW",fa),B("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),B("FACEMESH_FACE_OVAL",da),B("FACEMESH_CONTOURS",Zl),B("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),B("matrixDataToMatrix",function(p){for(var y=p.getCols(),w=p.getRows(),D=p.getPackedDataList(),H=[],J=0;J<w;J++)H.push(Array(y));for(J=0;J<w;J++)for(var G=0;G<y;G++){var ee=p.getLayout()===1?J*y+G:G*w+J;H[J][G]=D[ee]}return H}),B("VERSION","0.4.1633559619")}).call(mr);var JE=FaceMesh;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZE=1e-7,ek=1e-4;class tk{refCount(t){return on("refCount")}incRef(t){return on("incRef")}timerAvailable(){return!0}time(t){return on("time")}read(t){return on("read")}readSync(t){return on("readSync")}readToGPU(t,n){return on("readToGPU")}numDataIds(){return on("numDataIds")}disposeData(t,n){return on("disposeData")}write(t,n,r){return on("write")}move(t,n,r,s,o){return on("move")}createTensorFromGPUData(t,n,r){return on("createTensorFromGPUData")}memory(){return on("memory")}floatPrecision(){return on("floatPrecision")}epsilon(){return this.floatPrecision()===32?ZE:ek}dispose(){return on("dispose")}}function on(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Un(e,t,n=""){P(Vr(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function Gi(e){P(e!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ht(e){if(e.length===0)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function nk(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==null&&t[n]!==null&&e[n]!==t[n])return!1;return!0}function Vr(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function gl(e){return e%1===0}function Xu(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function $f(e,t){const n=t.length;return e=e==null?t.map((r,s)=>s):[].concat(e),P(e.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`),P(e.every(r=>gl(r)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(r=>r<0?n+r:r)}function rk(e,t){const n=[],r=[],s=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||s?null:$f(t,e).sort();let i=0;for(let a=0;a<e.length;++a){if(o!=null){if(o[i]===a&&e[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${e[a]}' is not 1`);(o[i]==null||o[i]>a)&&e[a]===1&&(n.push(e[a]),r.push(a)),o[i]<=a&&i++}e[a]!==1&&(n.push(e[a]),r.push(a))}return{newShape:n,keptDims:r}}function sk(e,t){return $5(e,t)}function $5(e,t){let n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else if(e==="string")n=new Array(t);else throw new Error(`Unknown data type ${e}`);return n}function ok(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function ik(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function wh(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error(`Unknown dtype ${e}`)}function ak(e){if(e==null)return 0;let t=0;return e.forEach(n=>t+=n.length),t}function I2(e){return typeof e=="string"||e instanceof String}function lk(e){return typeof e=="boolean"}function uk(e){return typeof e=="number"}function _f(e){return Array.isArray(e)?_f(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":uk(e)?"float32":I2(e)?"string":lk(e)?"bool":"float32"}function Sh(e){return!!(e&&e.constructor&&e.call&&e.apply)}function P2(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function _5(e,t,n,r=!1){const s=new Array;if(t.length===1){const o=t[0]*(r?2:1);for(let i=0;i<o;i++)s[i]=n[e+i]}else{const o=t[0],i=t.slice(1),a=i.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<o;l++)s[l]=_5(e+l*a,i,n,r)}return s}function xh(e,t,n=!1){if(e.length===0)return t[0];const r=e.reduce((s,o)=>s*o)*(n?2:1);if(r===0)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return _5(0,e,t,n)}function C5(e,t){const n=O2(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function O2(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function An(e){e.forEach(t=>{P(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function ko(e){return e&&e.then&&typeof e.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g0="tfjsflags";class ck{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=fk,this.populateURLFlags()}setPlatform(t,n){this.platform!=null&&(De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=n}registerFlag(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){const s=this.urlFlags[t];De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${s}.`),this.set(t,s)}}async getAsync(t){return t in this.flags?this.flags[t]:(this.flags[t]=await this.evaluateFlag(t),this.flags[t])}get(t){if(t in this.flags)return this.flags[t];const n=this.evaluateFlag(t);if(ko(n))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=n,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,n){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const t=this.getQueryParams(this.global.location.search);g0 in t&&t[g0].split(",").forEach(r=>{const[s,o]=r.split(":");this.urlFlags[s]=hk(s,o)})}}function fk(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(dk(t,r[0],r[1]),r.join("="))),t}function dk(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function hk(e,t){const n=t.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:t}function De(){return A5}let A5=null;function pk(e){A5=e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Dd;function I5(){if(Dd==null){let e;if(typeof window<"u")e=window;else if(typeof global<"u")e=global;else if(typeof process<"u")e=process;else if(typeof self<"u")e=self;else throw new Error("Could not find a global object");Dd=e}return Dd}function mk(){const e=I5();return e._tfGlobals==null&&(e._tfGlobals=new Map),e._tfGlobals}function D2(e,t){const n=mk();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const gk="Abs",yk="Acos",vk="Acosh",P5="Add",bk="AddN",wk="All",Sk="Any",xk="ArgMax",Tk="ArgMin",Ek="Asin",kk="Asinh",Nk="Atan",$k="Atanh",_k="Atan2",Ck="AvgPool",Ak="AvgPool3D",Ik="BatchMatMul",Pk="BatchToSpaceND",Ok="Bincount",Dk="BitwiseAnd",Fk="BroadcastArgs",O5="Cast",Mk="Ceil",Rk="ClipByValue",Lk="Complex",zk="ComplexAbs",jk="Concat",Bk="Conv2D",Vk="Conv2DBackpropFilter",Uk="Conv2DBackpropInput",Wk="Conv3D",Hk="Conv3DBackpropInputV2",Kk="Cos",Gk="Cosh",qk="Cumprod",Yk="Cumsum",Xk="CropAndResize",Qk="DenseBincount",Jk="DepthToSpace",Zk="DepthwiseConv2dNative",eN="DepthwiseConv2dNativeBackpropFilter",tN="DepthwiseConv2dNativeBackpropInput",nN="Diag",rN="Dilation2D",sN="RealDiv",oN="Einsum",iN="Elu",aN="Erf",lN="Equal",uN="Exp",cN="ExpandDims",fN="Expm1",dN="FFT",hN="Fill",pN="FlipLeftRight",mN="Floor",gN="FloorDiv",yN="FusedBatchNorm",vN="GatherV2",bN="GatherNd",wN="Greater",SN="GreaterEqual",D5="Identity",xN="IFFT",TN="Imag",EN="IsFinite",kN="IsInf",NN="IsNan",$N="LeakyRelu",_N="Less",CN="LessEqual",AN="LinSpace",IN="Log",PN="Log1p",ON="LogicalAnd",DN="LogicalNot",FN="LogicalOr",MN="LRN",RN="Max",LN="Maximum",zN="MaxPool",jN="MaxPool3D",BN="MaxPoolWithArgmax",VN="Mean",UN="Min",WN="Minimum",HN="MirrorPad",KN="Mod",GN="Multinomial",qN="Multiply",YN="Neg",XN="NotEqual",QN="NonMaxSuppressionV3",JN="NonMaxSuppressionV4",ZN="NonMaxSuppressionV5",e$="OnesLike",t$="OneHot",n$="Pack",r$="PadV2",s$="Pow",o$="Prelu",i$="Prod",a$="RaggedGather",l$="RaggedRange",u$="RaggedTensorToTensor",c$="Range",f$="Real",d$="Reciprocal",h$="Relu",p$="Reshape",m$="ResizeNearestNeighbor",g$="ResizeBilinear",y$="Relu6",v$="Reverse",b$="Round",w$="Rsqrt",S$="ScatterNd",x$="TensorScatterUpdate",T$="SearchSorted",E$="Select",k$="Selu",N$="Slice",$$="Sin",_$="Sinh",C$="Sign",A$="Sigmoid",I$="Softplus",P$="Sqrt",O$="Sum",D$="SpaceToBatchND",F$="SplitV",M$="Softmax",R$="SparseFillEmptyRows",L$="SparseReshape",z$="SparseSegmentMean",j$="SparseSegmentSum",B$="SparseToDense",V$="SquaredDifference",U$="StaticRegexReplace",W$="StridedSlice",H$="StringNGrams",K$="StringSplit",G$="StringToHashBucketFast",q$="Sub",Y$="Tan",X$="Tanh",F5="Tile",Q$="TopK",J$="Transform",Fd="Transpose",Z$="Unique",e_="Unpack",t_="UnsortedSegmentSum",n_="ZerosLike",r_="Step",y0="FromPixels",s_="RotateWithOffset",v0="_FusedMatMul",b0="FusedConv2D",w0="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ea(...e){De().getBool("IS_TEST")||De().getBool("PROD")||console.warn(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M5=D2("kernelRegistry",()=>new Map),o_=D2("gradRegistry",()=>new Map);function Th(e,t){const n=i_(e,t);return M5.get(n)}function S0(e){return o_.get(e)}function x0(e){const t=M5.entries(),n=[];for(;;){const{done:r,value:s}=t.next();if(r)break;const[o,i]=s,[a]=o.split("_");a===e&&n.push(i)}return n}function i_(e,t){return`${t}_${e}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R5(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a_(e,t){return e instanceof Float32Array&&t==="float32"||e instanceof Int32Array&&t==="int32"||e instanceof Uint8Array&&t==="bool"}function L5(e,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=yl(e)),De().getBool("DEBUG")&&ok(e,t),a_(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)Math.round(e[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${t}`)}function jc(){return De().platform.now()}function l_(e,t="utf-8"){return t=t||"utf-8",De().platform.encode(e,t)}function T0(e,t="utf-8"){return t=t||"utf-8",De().platform.decode(e,t)}function Vn(e){return De().platform.isTypedArray!=null?De().platform.isTypedArray(e):R5(e)}function yl(e,t=[],n=!1){if(t==null&&(t=[]),typeof e=="boolean"||typeof e=="number"||typeof e=="string"||ko(e)||e==null||Vn(e)&&n)t.push(e);else if(Array.isArray(e)||Vn(e))for(let r=0;r<e.length;++r)yl(e[r],t,n);else{let r=-1;for(const s of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)yl(e[s],t,n)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u_{constructor(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new f_)}profileKernel(t,n,r){let s;const o=()=>{s=r()};let i;const a=jc();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const u of s)u.dataSync();i=Promise.resolve({kernelMs:jc()-a})}if(De().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const c=s[u];c.data().then(f=>{c_(f,c.dtype,t)})}return{kernelName:t,outputs:s,inputs:n,timeMs:i.then(u=>u.kernelMs),extraInfo:i.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(t){const{kernelName:n,outputs:r,timeMs:s,inputs:o,extraInfo:i}=t;r.forEach(a=>{Promise.all([a.data(),s,i]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],o,l[2])})})}}function c_(e,t,n){if(t!=="float32")return!1;for(let r=0;r<e.length;r++){const s=e[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class f_{logKernelProfile(t,n,r,s,o,i){const a=typeof s=="number"?Xu(`${s}ms`,9):s.error,l=Xu(t,25),u=n.rank,c=n.size,f=Xu(n.shape.toString(),14);let d="";for(const m in o){const b=o[m];if(b!=null){const x=b.shape||n.shape,N=x.length;d+=`${m}: ${N}D ${N>0?x:""} `}}console.log(`%c${l}	%c${a}	%c${u}D ${f}	%c${c}	%c${d}	%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d_(e,t,n){const r={},s={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const u=e[l],c=u.inputs;for(const f in c){const d=c[f];let m=!1;for(let b=0;b<t.length;b++)if(r[d.id]){u.outputs.forEach(x=>r[x.id]=!0),m=!0,s[u.id]=!0;break}if(m)break}}const o={};o[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const u=e[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(o[u.outputs[f].id]){for(const d in c)o[c[d].id]=!0,i[u.id]=!0;break}}const a=[];for(let l=0;l<e.length;l++){const u=e[l];if(s[u.id]&&i[u.id]){const c={};for(const d in u.inputs){const m=u.inputs[d];r[m.id]&&(c[d]=m)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,a.push(f)}}return a}function h_(e,t,n,r){for(let s=t.length-1;s>=0;s--){const o=t[s],i=[];if(o.outputs.forEach(l=>{const u=e[l.id];u!=null?i.push(u):i.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const a=o.gradient(i);for(const l in o.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const u=n(()=>a[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!Vr(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(e[c.id]==null)e[c.id]=u;else{const f=e[c.id];e[c.id]=r(f,u),f.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E0=20,ka=3,Md=7;function p_(e,t,n,r){const s=P2(t),o=m_(e,t,n,s),i=t.length,a=Qu(e,t,n,s,o),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(a.map(u=>"    "+u).join(`
`)),l.join(`
`)}function m_(e,t,n,r){const s=ht(t),o=r[r.length-1],i=new Array(o).fill(0),a=t.length,l=n==="complex64"?Da(e):e;if(a>1)for(let u=0;u<s/o;u++){const c=u*o;for(let f=0;f<o;f++)i[f]=Math.max(i[f],Oa(l[c+f],0,n).length)}return i}function Oa(e,t,n){let r;return Array.isArray(e)?r=`${parseFloat(e[0].toFixed(Md))} + ${parseFloat(e[1].toFixed(Md))}j`:I2(e)?r=`'${e}'`:n==="bool"?r=z5(e):r=parseFloat(e.toFixed(Md)).toString(),Xu(r,t)}function z5(e){return e===0?"false":"true"}function Qu(e,t,n,r,s,o=!0){const i=n==="complex64"?2:1,a=t[0],l=t.length;if(l===0){if(n==="complex64"){const x=Da(e);return[Oa(x[0],0,n)]}return n==="bool"?[z5(e[0])]:[e[0].toString()]}if(l===1){if(a>E0){const N=ka*i;let S=Array.from(e.slice(0,N)),T=Array.from(e.slice((a-ka)*i,a*i));return n==="complex64"&&(S=Da(S),T=Da(T)),["["+S.map((k,A)=>Oa(k,s[A],n)).join(", ")+", ..., "+T.map((k,A)=>Oa(k,s[a-ka+A],n)).join(", ")+"]"]}return["["+(n==="complex64"?Da(e):Array.from(e)).map((N,S)=>Oa(N,s[S],n)).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*i,d=[];if(a>E0){for(let x=0;x<ka;x++){const N=x*f,S=N+f;d.push(...Qu(e.slice(N,S),u,n,c,s,!1))}d.push("...");for(let x=a-ka;x<a;x++){const N=x*f,S=N+f;d.push(...Qu(e.slice(N,S),u,n,c,s,x===a-1))}}else for(let x=0;x<a;x++){const N=x*f,S=N+f;d.push(...Qu(e.slice(N,S),u,n,c,s,x===a-1))}const m=l===2?",":"";d[0]="["+(a>0?d[0]+m:"");for(let x=1;x<d.length-1;x++)d[x]=" "+d[x]+m;let b=`,
`;for(let x=2;x<l;x++)b+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(o?"":b),d}function Da(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eh{constructor(t,n,r){if(this.dtype=n,this.shape=t.slice(),this.size=ht(t),r!=null){const s=r.length;P(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||$5(n,this.size),this.strides=P2(t)}set(t,...n){n.length===0&&(n=[0]),P(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=t}get(...t){t.length===0&&(t=[0]);let n=0;for(const s of t){if(s<0||s>=this.shape[n]){const o=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=this.strides[s]*t[s];return this.values[r]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n}get rank(){return this.shape.length}toTensor(){return Qn().makeTensor(this.values,this.shape,this.dtype)}}let Qn=null,Zo=null;function g_(e){Qn=e}function y_(e){Zo=e}class ot{constructor(t,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=ht(t),this.strides=P2(t),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const t=await this.data();return Zo.buffer(this.shape,this.dtype,t)}bufferSync(){return Zo.buffer(this.shape,this.dtype,this.dataSync())}async array(){const t=await this.data();return xh(this.shape,t,this.dtype==="complex64")}arraySync(){return xh(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const t=Qn().read(this.dataId);if(this.dtype==="string"){const n=await t;try{return n.map(r=>T0(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t}dataToGPU(t){return this.throwIfDisposed(),Qn().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();const t=Qn().readSync(this.dataId);if(this.dtype==="string")try{return t.map(n=>T0(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}async bytes(){this.throwIfDisposed();const t=await Qn().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Qn().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return Zo.print(this,t)}clone(){return this.throwIfDisposed(),Zo.clone(this)}toString(t=!1){const n=this.dataSync();return p_(n,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),Zo.cast(this,t)}variable(t=!0,n,r){return this.throwIfDisposed(),Qn().makeVariable(this,t,n,r)}}Object.defineProperty(ot,Symbol.hasInstance,{value:e=>!!e&&e.data!=null&&e.dataSync!=null&&e.throwIfDisposed!=null});function j5(){return D2("Tensor",()=>ot)}j5();class Bc extends ot{constructor(t,n,r,s){super(t.shape,t.dtype,t.dataId,s),this.trainable=n,this.name=r}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!Vr(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);Qn().disposeTensor(this),this.dataId=t.dataId,Qn().incRef(this,null)}dispose(){Qn().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Bc,Symbol.hasInstance,{value:e=>e instanceof ot&&e.assign!=null&&e.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var k0;(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(k0||(k0={}));var kh;(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(kh||(kh={}));var Nh;(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(Nh||(Nh={}));var $h;(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})($h||($h={}));var _h;(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(_h||(_h={}));const v_={float32:$h,int32:kh,bool:Nh,complex64:_h};function b_(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return v_[e][t]}function B5(e){return e!=null&&typeof e=="object"&&"texture"in e&&e.texture instanceof WebGLTexture}function V5(e){return typeof GPUBuffer<"u"&&e!=null&&typeof e=="object"&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lt(e,t){if(e.dtype===t.dtype)return[e,t];const n=b_(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function w_(e,t){P(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`)}function U5(e){const t=[];return W5(e,t,new Set),t}function W5(e,t,n){if(e==null)return;if(e instanceof ot){t.push(e);return}if(!S_(e))return;const r=e;for(const s in r){const o=r[s];n.has(o)||(n.add(o),W5(o,t,n))}}function S_(e){return Array.isArray(e)||typeof e=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rd(e){return e.kernelName!=null}class N0{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class Ri{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new N0}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:t,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry))if(t in this.registryFactory){const{asyncInit:n}=this.initializeBackend(t);if(n)return null}else return null;return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,n,r=1){return t in this.registryFactory?(Ea(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:n,priority:r},!0)}async setBackend(t){if(this.registryFactory[t]==null)throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,this.registry[t]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(t);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new u_(this.backendInstance),!0}setupRegisteredKernels(){x0(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(t){x0(t).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[t])})}initializeBackend(t){const n=this.registryFactory[t];if(n==null)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof tk)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,o=r.then(i=>s<this.pendingBackendInitId?!1:(this.registry[t]=i,this.pendingBackendInit=null,!0)).catch(i=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Ea(`Initialization of backend ${t} failed`),Ea(i.stack||i.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(r){return Ea(`Initialization of backend ${t} failed`),Ea(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((t,n)=>this.registryFactory[n].priority-this.registryFactory[t].priority)}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let n=0;n<t.length;n++){const r=t[n],{success:s,asyncInit:o}=this.initializeBackend(r);if(o||s)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,n){const r=this.state.tensorInfo.get(n),s=r.backend,o=this.readSync(n),i=s.refCount(n);s.disposeData(n,!0),r.backend=t,t.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,n){let r=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(t,n,r){t();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Ri.nextTensorId++}nextVariableId(){return Ri.nextVariableId++}clone(t){const n=j.runKernel(D5,{x:t}),r={x:t},s=i=>({x:()=>{const a="float32",l={x:i},u={dtype:a};return j.runKernel(O5,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,o,{}),n}runKernel(t,n,r){if(this.backendName==null&&this.backend,!(Th(t,this.backendName)!=null))throw new Error(`Kernel '${t}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:t,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,n,r){const s=this.backend.numDataIds();let o=0;r.forEach(l=>{o+=l.dtype==="complex64"?3:1});const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t){let n,r=[];const s=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const u=Rd(t)?t.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Rd(t)){const{kernelName:b,inputs:x,attrs:N}=t;this.backendName==null&&this.backend;const S=Th(b,this.backendName);P(S!=null,()=>`Cannot find registered kernel '${b}' for backend '${this.backendName}'`),a=()=>{const T=this.backend.numDataIds();l=S.kernelFunc({inputs:x,attrs:N,backend:this.backend});const k=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(b,T,k);const A=k.map(M=>M.rank!=null?M:this.makeTensorFromTensorInfo(M));if(s){const M=this.getTensorsForGradient(b,x,A);r=this.saveTensorsForBackwardMode(M)}return A}}else{const{forwardFunc:b}=t,x=N=>{s&&(r=N.map(S=>this.keep(this.clone(S))))};a=()=>{const N=this.backend.numDataIds();l=this.tidy(()=>b(this.backend,x));const S=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,N,S),S}}const{inputs:c,attrs:f}=t,d=Rd(t)?null:t.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(m=this.profiler.profileKernel(u,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),s&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(b=>c[b]!=null?c[b].shape:null),outputShapes:n.map(b=>b.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(t){return t.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(t,n,r){const s=S0(t);if(s!=null){const o=s.inputsToSave||[],i=s.outputsToSave||[];let a;s.saveAllInputs?(P(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(u=>n[u])):a=o.map(u=>n[u]);const l=r.filter((u,c)=>i[c]);return a.concat(l)}return[]}makeTensor(t,n,r,s){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let o=t;r==="string"&&I2(t[0])&&(o=t.map(l=>l_(l)));const i=s.write(o,n,r),a=new ot(n,r,i,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(i),u=ak(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return a}makeTensorFromDataId(t,n,r,s){r=r||"float32";const o={dataId:t,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,s)}makeTensorFromTensorInfo(t,n){const{dataId:r,shape:s,dtype:o}=t,i=new ot(s,o,r,this.nextTensorId());return this.trackTensor(i,n),i}makeVariable(t,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==t.dtype&&(t=t.cast(s));const o=new Bc(t,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(t,n){this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++;let r=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(r=t.size*wh(t.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(t.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:r})),t instanceof Bc||this.track(t)}incRef(t,n){this.trackTensor(t,n),this.backend.incRef(t.dataId)}removeDataId(t,n){this.state.tensorInfo.has(t)&&this.state.tensorInfo.get(t).backend===n&&(this.state.tensorInfo.delete(t),this.state.numDataBuffers--)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;const n=this.state.tensorInfo.get(t.dataId);if(this.state.numTensors--,t.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),t.dtype!=="complex64"&&t.dtype!=="string"){const r=t.size*wh(t.dtype);this.state.numBytes-=r}n.backend.disposeData(t.dataId)&&this.removeDataId(t.dataId,n.backend)}disposeVariables(){for(const t in this.state.registeredVariables){const n=this.state.registeredVariables[t];this.disposeVariable(n)}}disposeVariable(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(t,n,r,s,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:o},l=S0(t);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],m=O2(d.size,d.dtype);return this.makeTensor(m,d.shape,d.dtype)}return c}),s(u.length>1?u:u[0],o,i))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(t){const n=U5(t),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const i=this.state.activeScope.track[o];!i.kept&&!r.has(i.id)&&i.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===s.id&&this.track(o)})}gradients(t,n,r,s=!1){if(P(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",t));P(o instanceof ot,()=>"The result y returned by f() must be a tensor.");const i=d_(this.state.activeTape,n,o);if(!s&&i.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[o.id]=r??x_(o.shape),h_(a,i,u=>this.tidy(u),T_);const l=n.map(u=>a[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(t){return P(Sh(t),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{P(n.every(a=>a instanceof ot),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const o=(a,l)=>(r=t(...n,l),P(r.value instanceof ot,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),P(Sh(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),i=(a,l)=>{const u=r.gradFunc(a,l),c=Array.isArray(u)?u:[u];P(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),P(c.every(d=>d instanceof ot),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,m)=>{f[m]=()=>d}),f};return this.runKernelFunc({forwardFunc:o,backwardsFunc:i,inputs:s})}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}readToGPU(t,n){return this.state.tensorInfo.get(t).backend.readToGPU(t,n)}async time(t){const n=jc(),r=await this.backend.time(t);return r.wallMs=jc()-n,r}track(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new N0;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Ri.nextTensorId=0;Ri.nextVariableId=0;function x_(e){const t=C5(ht(e),"float32");return j.makeTensor(t,e,"float32")}function H5(){const e=I5();if(e._tfengine==null){const t=new ck(e);e._tfengine=new Ri(t)}return pk(e._tfengine.ENV),g_(()=>e._tfengine),e._tfengine}const j=H5();function T_(e,t){const n={a:e,b:t};return j.runKernel(P5,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E_(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qt=De();Qt.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Qt.registerFlag("IS_BROWSER",()=>E_());Qt.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Qt.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Qt.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Qt.registerFlag("PROD",()=>!1);Qt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Qt.getBool("DEBUG"));Qt.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Qt.registerFlag("IS_TEST",()=>!1);Qt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Qt.getBool("DEBUG"));Qt.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Qt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Qt.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rs(e,t){let n=e;if(Vn(e))return t==="string"?[]:[e.length];if(B5(e)){const s=e.channels||"RGBA";return[e.height,e.width*s.length]}else if(V5(e))return[e.buffer.size/(t==null?4:wh(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Vn(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&De().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&K5(e,r,[]),r}function K5(e,t,n){if(n=n||[],!Array.isArray(e)&&!Vn(e)){P(t.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}P(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`),P(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);const r=t.slice(1);for(let s=0;s<e.length;++s)K5(e[s],r,n.concat(s))}function $0(e,t,n,r){if(e!=="string_or_numeric"){if(e==null)throw new Error("Expected dtype cannot be null.");if(e!=="numeric"&&e!==t||e==="numeric"&&t==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function _(e,t,n,r="numeric"){if(e instanceof j5())return $0(r,e.dtype,t,n),e;let s=_f(e);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),$0(r,s,t,n),e==null||!Vn(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){const l=e==null?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=Rs(e,s);!Vn(e)&&!Array.isArray(e)&&(e=[e]);const a=s!=="string"?L5(e,s):yl(e,[],!0);return j.makeTensor(a,o,s)}function Vc(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((o,i)=>_(o,`${t}[${i}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G5="__op";function R(e){const t=Object.keys(e);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+G5;const s=(...o)=>{j.startScope(n);try{const i=r(...o);return ko(i)&&console.error("Cannot return a Promise inside of tidy."),j.endScope(i),i}catch(i){throw j.endScope(null),i}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_(e,t){const n=_(e,"real","complex"),r=_(t,"imag","complex");Un(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return j.runKernel(Lk,s)}const Is=R({complex_:k_});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ls(e,t,n,r){if(r==null)r=_f(e);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(V5(e)||B5(e)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return j.backend.createTensorFromGPUData(e,t||n,r)}if(!Vn(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){An(t);const s=ht(t),o=ht(n);P(s===o,()=>`Based on the provided shape, [${t}], the tensor should have ${s} values but has ${o}`);for(let i=0;i<n.length;++i){const a=n[i],l=i===n.length-1?a!==ht(t.slice(i)):!0;P(n[i]===t[i]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `)}}return!Vn(e)&&!Array.isArray(e)&&(e=[e]),t=t||n,e=r!=="string"?L5(e,r):yl(e,[],!0),j.makeTensor(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function br(e,t,n){const r=Rs(e,n);return Ls(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const No={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class rr{static join(t){return new rr(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(r=>Vn(r)?r.buffer:r),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let n=0;for(let r=0;r<t.length;r++){const s=t[r];r!==t.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+s.byteLength;this.shards.push({buffer:s,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,n=isNaN(Number(n))?0:n,t=Math.max(0,t),n=Math.min(this.byteLength,n),n<=t)return new ArrayBuffer(0);const r=this.findShardForByte(t);if(r===-1)throw new Error(`Could not find start shard for byte ${t}`);const s=n-t,o=new ArrayBuffer(s),i=new Uint8Array(o);let a=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=t+a-u.start,d=a,b=Math.min(n,u.end)-u.start,x=new Uint8Array(u.buffer,f,b-f);if(i.set(x,d),a+=x.length,n<u.end)break}return o}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function n(s){return t<s.start?-1:t>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=N_(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function N_(e,t){let n=0,r=e.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,o=t(e[s]);if(o===0)return s;o<0?r=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ie(e,t){return j.tidy(e,t)}function nt(e){U5(e).forEach(n=>n.dispose())}function pr(e){return j.keep(e)}function $_(){return j.backendName}function __(){return j.backend}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ps=4;async function C_(e,t){const n=[],r=[],s=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);for(let i=0;i<s.length;++i){const a=s[i],l=Array.isArray(e)?e[i].tensor:e[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),m=d.reduce((N,S)=>N+S.length,0)+Ps*d.length,b=new Uint8Array(m);let x=0;for(let N=0;N<d.length;N++){const S=d[N],T=new Uint8Array(new Uint32Array([S.length]).buffer);b.set(T,x),x+=Ps,b.set(S,x),x+=S.length}f(b)});r.push(c)}else r.push(l.data());t!=null&&(u.group=t),n.push(u)}const o=await Promise.all(r);return{data:P_(o),specs:n}}function q5(e,t){const n=new rr(e),r={};let s=0;for(const o of t){const i=A_(o,(a,l)=>n.slice(s+a,s+l));r[o.name]=Y5(o,n.slice(s,s+i)),s+=i}return r}function A_(e,t){const n=ht(e.shape);let r;if("quantization"in e){const s=e.quantization;r=No[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=Ps+new Uint32Array(t(s,s+Ps))[0];return s}else r=No[e.dtype];return n*r}async function I_(e,t){const n=ht(e.shape);let r;if("quantization"in e){const s=e.quantization;r=No[s.dtype]}else if(e.dtype==="string"){let s=0;for(let o=0;o<n;o++)s+=Ps+new Uint32Array(await t(s,s+Ps))[0];return s}else r=No[e.dtype];return n*r}function Y5(e,t){const n=e.name,r=e.dtype,s=e.shape,o=ht(s);let i,a=0;if("quantization"in e){const l=e.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${e.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${e.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${e.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=No[l.dtype],c=l.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){i=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=d*l.scale+l.min}}else if(l.dtype==="float16")i=z_()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);i=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];i[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*u}else if(r==="string"){const l=ht(e.shape);i=[];for(let u=0;u<l;u++){const c=new Uint32Array(t.slice(a,a+Ps))[0];a+=Ps;const f=new Uint8Array(t.slice(a,a+c));i.push(f),a+=c}}else{const l=No[r];if(r==="float32")i=new Float32Array(t);else if(r==="int32")i=new Int32Array(t);else if(r==="bool")i=new Uint8Array(t);else if(r==="complex64"){i=new Float32Array(t);const u=new Float32Array(i.length/2),c=new Float32Array(i.length/2);for(let b=0;b<u.length;b++)u[b]=i[b*2],c[b]=i[b*2+1];const f=br(u,s,"float32"),d=br(c,s,"float32"),m=Is(f,d);return f.dispose(),d.dispose(),m}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=o*l}return br(i,s,r)}async function _0(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:s,value:o}=await e.read();if(s&&o==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function X5(e,t){const n={},r=e.getReader();let s=new ArrayBuffer(0);for(const o of t){const i=await I_(o,async(u,c)=>(s=await _0(r,s,c),s.slice(u,c)));s=await _0(r,s,i);const a=s.slice(0,i);s=s.slice(i);const l=Y5(o,a);if(n[o.name]=l,$_()==="webgpu"){const u=__();"uploadToGPU"in u&&ht(l.shape)>=De().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function P_(e){if(e===null)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(o=>{if(t+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(t);let s=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),s),s+=o.byteLength}),r.buffer}const F2=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function C0(e){return F2?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function O_(e){if(F2)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,s=t.length;r<s;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function D_(e){if(F2){const r=Buffer.from(e,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function F_(e){return rr.join(e)}function A0(e){const t="/";for(e=e.trim();e.endsWith(t);)e=e.slice(0,e.length-1);const n=e.split(t);return n[n.length-1]}function Q5(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return e.signature!=null&&(n.signature=e.signature),e.userDefinedMetadata!=null&&(n.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(n.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(n.initializerSignature=e.initializerSignature),e.trainingConfig!=null&&(n.trainingConfig=e.trainingConfig),n}function J5(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(e.trainingConfig!=null&&(r.trainingConfig=e.trainingConfig),e.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return e.signature!=null&&(r.signature=e.signature),e.userDefinedMetadata!=null&&(r.userDefinedMetadata=e.userDefinedMetadata),e.modelInitializer!=null&&(r.modelInitializer=e.modelInitializer),e.initializerSignature!=null&&(r.initializerSignature=e.initializerSignature),r}async function M2(e,t){let n,r;return e.weightsManifest!=null&&([n,r]=await t(e.weightsManifest)),J5(e,n,r)}function Fl(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:C0(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:C0(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:new rr(e.weightData).byteLength}}function Ch(e){const t=[];for(const n of e)t.push(...n.weights);return t}function M_(){const e=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}function R_(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function L_(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function z_(){const e=M_(),t=R_(),n=L_();return r=>{const s=new ArrayBuffer(4*r.length),o=new Uint32Array(s);for(let i=0;i<r.length;i++){const a=r[i],l=e[n[a>>10]+(a&1023)]+t[a>>10];o[i]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class et{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return et.instance==null&&(et.instance=new et),et.instance}static registerSaveRouter(t){et.getInstance().saveRouters.push(t)}static registerLoadRouter(t){et.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return et.getHandlers(t,"save")}static getLoadHandlers(t,n){return et.getHandlers(t,"load",n)}static getHandlers(t,n,r){const s=[];return(n==="load"?et.getInstance().loadRouters:et.getInstance().saveRouters).forEach(i=>{const a=i(t,r);a!==null&&s.push(a)}),s}}const j_=e=>et.registerSaveRouter(e),B_=e=>et.registerLoadRouter(e),V_=e=>et.getSaveHandlers(e),U_=(e,t)=>et.getLoadHandlers(e,t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ah="tensorflowjs",Ih=1,co="models_store",ps="model_info_store";function Z5(){if(!De().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e=typeof window>"u"?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Ph(e){const t=e.result;t.createObjectStore(co,{keyPath:"modelPath"}),t.createObjectStore(ps,{keyPath:"modelPath"})}class $o{constructor(t){if(this.indexedDB=Z5(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,t)}async load(){return this.databaseAction(this.modelPath)}databaseAction(t,n){return new Promise((r,s)=>{const o=this.indexedDB.open(Ah,Ih);o.onupgradeneeded=()=>Ph(o),o.onsuccess=()=>{const i=o.result;if(n==null){const a=i.transaction(co,"readonly"),u=a.objectStore(co).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return i.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(i.close(),s(u.error)),a.oncomplete=()=>i.close()}else{n.weightData=rr.join(n.weightData);const a=Fl(n),l=i.transaction(ps,"readwrite");let u=l.objectStore(ps),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let f;c.onsuccess=()=>{f=i.transaction(co,"readwrite");const d=f.objectStore(co);let m;try{m=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(b){return s(b)}m.onsuccess=()=>r({modelArtifactsInfo:a}),m.onerror=b=>{u=l.objectStore(ps);const x=u.delete(this.modelPath);x.onsuccess=()=>(i.close(),s(m.error)),x.onerror=N=>(i.close(),s(m.error))}},c.onerror=d=>(i.close(),s(c.error)),l.oncomplete=()=>{f==null?i.close():f.oncomplete=()=>i.close()}}},o.onerror=i=>s(o.error)})}}$o.URL_SCHEME="indexeddb://";const ev=e=>De().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith($o.URL_SCHEME)?W_(e.slice($o.URL_SCHEME.length)):null;et.registerSaveRouter(ev);et.registerLoadRouter(ev);function W_(e){return new $o(e)}function H_(e){return e.startsWith($o.URL_SCHEME)?e.slice($o.URL_SCHEME.length):e}class K_{constructor(){this.indexedDB=Z5()}async listModels(){return new Promise((t,n)=>{const r=this.indexedDB.open(Ah,Ih);r.onupgradeneeded=()=>Ph(r),r.onsuccess=()=>{const s=r.result,o=s.transaction(ps,"readonly"),a=o.objectStore(ps).getAll();a.onsuccess=()=>{const l={};for(const u of a.result)l[u.modelPath]=u.modelArtifactsInfo;t(l)},a.onerror=l=>(s.close(),n(a.error)),o.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(t){return t=H_(t),new Promise((n,r)=>{const s=this.indexedDB.open(Ah,Ih);s.onupgradeneeded=()=>Ph(s),s.onsuccess=()=>{const o=s.result,i=o.transaction(ps,"readwrite"),a=i.objectStore(ps),l=a.get(t);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),r(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{const c=a.delete(t),f=()=>{u=o.transaction(co,"readwrite");const m=u.objectStore(co).delete(t);m.onsuccess=()=>n(l.result.modelArtifactsInfo),m.onerror=b=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),o.close(),r(l.error))}},l.onerror=c=>(o.close(),r(l.error)),i.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},s.onerror=o=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ir="/",ei="tensorflowjs_models",tv="info",G_="model_topology",q_="weight_specs",Y_="weight_data",X_="model_metadata";function nv(e){return{info:[ei,e,tv].join(Ir),topology:[ei,e,G_].join(Ir),weightSpecs:[ei,e,q_].join(Ir),weightData:[ei,e,Y_].join(Ir),modelMetadata:[ei,e,X_].join(Ir)}}function rv(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function Q_(e){const t=e.split(Ir);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(Ir)}function J_(e){return e.startsWith(_o.URL_SCHEME)?e.slice(_o.URL_SCHEME.length):e}class _o{constructor(t){if(!De().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=nv(this.modelPath)}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),s=Fl(t),o=rr.join(t.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,O_(o));const i={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:t.signature!=null?t.signature:void 0,userDefinedMetadata:t.userDefinedMetadata!=null?t.userDefinedMetadata:void 0,modelInitializer:t.modelInitializer!=null?t.modelInitializer:void 0,initializerSignature:t.initializerSignature!=null?t.initializerSignature:void 0,trainingConfig:t.trainingConfig!=null?t.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw rv(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const t=JSON.parse(this.LS.getItem(this.keys.info));if(t==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const a=JSON.parse(o);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(i==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=D_(i),n}}_o.URL_SCHEME="localstorage://";const sv=e=>De().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(_o.URL_SCHEME)?Z_(e.slice(_o.URL_SCHEME.length)):null;et.registerSaveRouter(sv);et.registerLoadRouter(sv);function Z_(e){return new _o(e)}class eC{constructor(){P(De().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),P(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const t={},n=ei+Ir,r=Ir+tv;for(let s=0;s<this.LS.length;++s){const o=this.LS.key(s);if(o.startsWith(n)&&o.endsWith(r)){const i=Q_(o);t[i]=JSON.parse(this.LS.getItem(o))}}return t}async removeModel(t){t=J_(t);const n=nv(t);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${t}'`);const r=JSON.parse(this.LS.getItem(n.info));return rv(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ei="://";class jt{constructor(){this.managers={}}static getInstance(){return jt.instance==null&&(jt.instance=new jt),jt.instance}static registerManager(t,n){P(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(Ei)&&(t=t.slice(0,t.indexOf(Ei))),P(t.length>0,()=>"scheme must not be an empty string.");const r=jt.getInstance();P(r.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),r.managers[t]=n}static getManager(t){const n=jt.getInstance().managers[t];if(n==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}static getSchemes(){return Object.keys(jt.getInstance().managers)}}function Ju(e){if(e.indexOf(Ei)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${jt.getSchemes().join(",")}`);return{scheme:e.split(Ei)[0],path:e.split(Ei)[1]}}async function ov(e,t,n=!1){P(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=et.getLoadHandlers(e);P(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),P(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`);const s=r[0],o=et.getSaveHandlers(t);P(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),P(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`);const i=o[0],a=Ju(e).scheme,l=Ju(e).path,u=a===Ju(e).scheme,c=await s.load();n&&u&&await jt.getManager(a).removeModel(l);const f=await i.save(c);return n&&!u&&await jt.getManager(a).removeModel(l),f.modelArtifactsInfo}async function tC(){const e=jt.getSchemes(),t={};for(const n of e){const r=await jt.getManager(n).listModels();for(const s in r){const o=n+Ei+s;t[o]=r[s]}}return t}async function nC(e){const t=Ju(e);return jt.getManager(t.scheme).removeModel(t.path)}async function rC(e,t){return ov(e,t,!1)}async function sC(e,t){return ov(e,t,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oC{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,n){return fetch(t,n)}now(){return performance.now()}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,n){return new TextDecoder(n).decode(t)}setTimeoutCustom(t,n){if(typeof window>"u"||!De().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,n);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return R5(t)}}if(De().get("IS_BROWSER")){De().setPlatform("browser",new oC);try{jt.registerManager(_o.URL_SCHEME,new eC)}catch{}try{jt.registerManager($o.URL_SCHEME,new K_)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iC={importFetch:()=>require("node-fetch")};let Ld;class aC{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(t,n){return De().global.fetch!=null?De().global.fetch(t,n):(Ld==null&&(Ld=iC.importFetch()),Ld(t,n))}now(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(t)}decode(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}}De().get("IS_NODE")&&!De().get("IS_BROWSER")&&De().setPlatform("node",new aC);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ur(e,t="float32",n){return t=t||"float32",An(e),new Eh(e,t,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lC(e,t){const n=_(e,"x","cast");if(!ik(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:t};return j.runKernel(O5,r,s)}const Ye=R({cast_:lC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uC(e){const n={x:_(e,"x","clone","string_or_numeric")};return j.runKernel(D5,n)}const Ns=R({clone_:uC});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iv(e,t=!1){console.log(e.toString(t))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */H5();const cC={buffer:Ur,cast:Ye,clone:Ns,print:iv};y_(cC);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fC(e,t){let n=_(e,"a","add"),r=_(t,"b","add");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(P5,s)}const we=R({add_:fC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dC(e,t){let n=_(e,"a","floorDiv"),r=_(t,"b","floorDiv");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(gN,s)}const av=R({floorDiv_:dC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hC(e,t){let n=_(e,"a","div"),r=_(t,"b","div");if([n,r]=lt(n,r),n.dtype==="int32"&&r.dtype==="int32")return av(n,r);const s={a:n,b:r},o={};return j.runKernel(sN,s,o)}const Oe=R({div_:hC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pC(e,t){let n=_(e,"a","mul"),r=_(t,"b","mul");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(qN,s)}const ue=R({mul_:pC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mC(e){const t=_(e,"x","abs");if(t.dtype==="complex64"){const n={x:t};return j.runKernel(zk,n)}else{const n={x:t};return j.runKernel(gk,n)}}const xn=R({abs_:mC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gC(e){const n={x:_(e,"x","acos")};return j.runKernel(yk,n)}const yC=R({acos_:gC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vC(e){const n={x:_(e,"x","acosh")};return j.runKernel(vk,n)}const bC=R({acosh_:vC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wC(e){P(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),P(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);const t=e.map((s,o)=>_(s,`tensors${o}`,"addN")),n=t[0];t.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(s=>{if(!Vr(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=t;return j.runKernel(bk,r)}const SC=R({addN_:wC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xC(e,t=null,n=!1){const s={x:_(e,"x","all","bool")},o={axis:t,keepDims:n};return j.runKernel(wk,s,o)}const TC=R({all_:xC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EC(e,t=null,n=!1){const s={x:_(e,"x","any","bool")},o={axis:t,keepDims:n};return j.runKernel(Sk,s,o)}const kC=R({any_:EC});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NC(e,t=0){const r={x:_(e,"x","argMax")},s={axis:t};return j.runKernel(xk,r,s)}const $C=R({argMax_:NC});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _C(e,t=0){const r={x:_(e,"x","argMin")},s={axis:t};return j.runKernel(Tk,r,s)}const CC=R({argMin_:_C});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AC(e){const n={x:_(e,"x","asin")};return j.runKernel(Ek,n)}const IC=R({asin_:AC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PC(e){const n={x:_(e,"x","asinh")};return j.runKernel(kk,n)}const OC=R({asinh_:PC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DC(e){const n={x:_(e,"x","atan")};return j.runKernel(Nk,n)}const FC=R({atan_:DC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MC(e,t){let n=_(e,"a","atan2"),r=_(t,"b","atan2");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(_k,s)}const RC=R({atan2_:MC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LC(e){const n={x:_(e,"x","atanh")};return j.runKernel($k,n)}const zC=R({atanh_:LC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jC(e,t,n,r,s,o,i="channelsLast"){const[a,l]=vl(t);let u;if(i==="channelsLast")u=[a,l,e[3],e[3]];else if(i==="channelsFirst")u=[a,l,e[1],e[1]];else throw new Error(`Unknown dataFormat ${i}`);return R2(e,u,n,r,s,o,!1,i)}function R2(e,t,n,r,s,o,i=!1,a="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,f]=e;else if(a==="channelsFirst")[l,f,u,c]=e;else throw new Error(`Unknown dataFormat ${a}`);const[d,m,,b]=t,[x,N]=vl(n),[S,T]=vl(r),k=Oh(d,S),A=Oh(m,T),{padInfo:M,outHeight:L,outWidth:W}=UC(s,u,c,x,N,k,A,o,a),C=i?b*f:b;let V;return a==="channelsFirst"?V=[l,C,L,W]:a==="channelsLast"&&(V=[l,L,W,C]),{batchSize:l,dataFormat:a,inHeight:u,inWidth:c,inChannels:f,outHeight:L,outWidth:W,outChannels:C,padInfo:M,strideHeight:x,strideWidth:N,filterHeight:d,filterWidth:m,effectiveFilterHeight:k,effectiveFilterWidth:A,dilationHeight:S,dilationWidth:T,inShape:e,outShape:V,filterShape:t}}function BC(e,t,n,r,s){r==null&&(r=VC(e,t,n));const o=e[0],i=e[1],a=Uc((o-t+2*r)/n+1,s),l=Uc((i-t+2*r)/n+1,s);return[a,l]}function VC(e,t,n,r=1){const s=Oh(t,r);return Math.floor((e[0]*(n-1)-n+s)/2)}function vl(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function Oh(e,t){return t<=1?e:e+(e-1)*(t-1)}function UC(e,t,n,r,s,o,i,a,l){let u,c,f;if(typeof e=="number"){u={top:e,bottom:e,left:e,right:e,type:e===0?"VALID":"NUMBER"};const m=BC([t,n],o,r,e,a);c=m[0],f=m[1]}else if(e==="same"){c=Math.ceil(t/r),f=Math.ceil(n/s);const d=Math.max(0,(c-1)*r+o-t),m=Math.max(0,(f-1)*s+i-n),b=Math.floor(d/2),x=d-b,N=Math.floor(m/2),S=m-N;u={top:b,bottom:x,left:N,right:S,type:"SAME"}}else if(e==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),f=Math.ceil((n-i+1)/s);else if(typeof e=="object"){const d=l==="channelsLast"?e[1][0]:e[2][0],m=l==="channelsLast"?e[1][1]:e[2][1],b=l==="channelsLast"?e[2][0]:e[3][0],x=l==="channelsLast"?e[2][1]:e[3][1];u={top:d,bottom:m,left:b,right:x,type:d===0&&m===0&&b===0&&x===0?"VALID":"EXPLICIT"},c=Uc((t-o+d+m)/r+1,a),f=Uc((n-i+b+x)/s+1,a)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:f}}function Uc(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function Wc(e){const[t,n,r]=vl(e);return t===1&&n===1&&r===1}function zs(e,t){return Wc(e)||Wc(t)}function Li(e){return vl(e).every(t=>t>0)}function sr(e,t,n){if(n!=null){if(typeof t=="string")throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if(typeof t=="number")P(gl(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);else if(typeof t=="object")t.forEach(r=>{r.forEach(s=>{P(gl(s),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WC(e,t){const r={x:_(e,"x","reshape","string_or_numeric")},s={shape:t};return j.runKernel(p$,r,s)}const te=R({reshape_:WC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HC(e,t,n,r,s){const o=_(e,"x","avgPool","float32"),i=1;P(zs(n,i),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);let a=o,l=!1;o.rank===3&&(l=!0,a=te(o,[1,o.shape[0],o.shape[1],o.shape[2]])),P(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),sr("avgPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s};let f=j.runKernel(Ck,u,c);return f=Ye(f,o.dtype),l?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const lv=R({avgPool_:HC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KC(e,t,n,r,s,o="NDHWC"){const i=_(e,"x","avgPool3d","float32");let a=i,l=!1;i.rank===4&&(l=!0,a=te(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),P(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),P(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),P(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),sr("avgPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o};let f=j.runKernel(Ak,u,c);return f=Ye(f,a.dtype),l?te(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const GC=R({avgPool3d_:KC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qC(e,t=0){P(e.length>=1,()=>"Pass at least one tensor to concat");const n=Vc(e,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return Ns(n[0]);const r=n,s={axis:t};return j.runKernel(jk,r,s)}const $t=R({concat_:qC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YC(e,t,n=!1,r=!1){let s=_(e,"a","matMul"),o=_(t,"b","matMul");[s,o]=lt(s,o);const i={a:s,b:o},a={transposeA:n,transposeB:r};return j.runKernel(Ik,i,a)}const Ve=R({matMul_:YC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XC(e){const n={x:_(e,"x","sigmoid","float32")};return j.runKernel(A$,n)}const yo=R({sigmoid_:XC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QC(e,t,n){const r=_(e,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},o={begin:t,size:n};return j.runKernel(N$,s,o)}const $e=R({slice_:QC});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JC(e){const n={x:_(e,"x","tanh","float32")};return j.runKernel(X$,n)}const Dh=R({tanh_:JC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZC(e,t,n,r,s,o){const i=_(e,"forgetBias","basicLSTMCell"),a=_(t,"lstmKernel","basicLSTMCell"),l=_(n,"lstmBias","basicLSTMCell"),u=_(r,"data","basicLSTMCell"),c=_(s,"c","basicLSTMCell"),f=_(o,"h","basicLSTMCell"),d=$t([u,f],1),m=Ve(d,a),b=we(m,l),x=b.shape[0],N=b.shape[1]/4,S=[x,N],T=$e(b,[0,0],S),k=$e(b,[0,N],S),A=$e(b,[0,N*2],S),M=$e(b,[0,N*3],S),L=we(ue(yo(T),Dh(k)),ue(c,yo(we(i,A)))),W=ue(Dh(L),yo(M));return[L,W]}const eA=R({basicLSTMCell_:ZC});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tA(e,t,n){const r=_(e,"x","batchToSpaceND"),s=t.reduce((a,l)=>a*l);P(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),P(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),P(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${s}`);const o={x:r},i={blockShape:t,crops:n};return j.runKernel(Pk,o,i)}const uv=R({batchToSpaceND_:tA});function nA(e){let t;return e.rank===0||e.rank===1?t=te(e,[1,1,1,e.size]):e.rank===2?t=te(e,[1,1,e.shape[0],e.shape[1]]):e.rank===3?t=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]):t=e,t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rA(e,t,n,r,s,o){o==null&&(o=.001);const i=_(e,"x","batchNorm"),a=_(t,"mean","batchNorm"),l=_(n,"variance","batchNorm");let u;s!=null&&(u=_(s,"scale","batchNorm"));let c;r!=null&&(c=_(r,"offset","batchNorm")),P(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),P(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),P(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:nA(i),scale:u,offset:c,mean:a,variance:l},m={varianceEpsilon:o},b=j.runKernel(yN,d,m);return te(b,i.shape)}const Cf=R({batchNorm_:rA});function sA(e,t,n,r,s,o){const i=_(e,"x","batchNorm"),a=_(t,"mean","batchNorm"),l=_(n,"variance","batchNorm");let u;s!=null&&(u=_(s,"scale","batchNorm"));let c;return r!=null&&(c=_(r,"offset","batchNorm")),P(i.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`),P(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),P(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&P(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&P(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Cf(i,a,l,c,u,o)}const oA=R({batchNorm2d_:sA});function iA(e,t,n,r,s,o){const i=_(e,"x","batchNorm"),a=_(t,"mean","batchNorm"),l=_(n,"variance","batchNorm");let u;s!=null&&(u=_(s,"scale","batchNorm"));let c;return r!=null&&(c=_(r,"offset","batchNorm")),P(i.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`),P(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),P(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&P(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&P(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Cf(i,a,l,c,u,o)}const aA=R({batchNorm3d_:iA});function lA(e,t,n,r,s,o){const i=_(e,"x","batchNorm"),a=_(t,"mean","batchNorm"),l=_(n,"variance","batchNorm");let u;s!=null&&(u=_(s,"scale","batchNorm"));let c;return r!=null&&(c=_(r,"offset","batchNorm")),P(i.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`),P(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),P(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&P(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&P(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Cf(i,a,l,c,u,o)}const uA=R({batchNorm4d_:lA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cA(e,t,n){const r=_(e,"x","bincount"),s=_(t,"weights","bincount");P(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),P(n>=0,()=>`size must be non-negative, but got ${n}.`),P(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const o={x:r,weights:s},i={size:n};return j.runKernel(Ok,o,i)}const cv=R({bincount_:cA});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fA(e,t){const n=_(e,"x","bitwiseAnd"),r=_(t,"y","bitwiseAnd");if(!Vr(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return j.runKernel(Dk,s)}const dA=R({bitwiseAnd_:fA});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hA(e,t){const n=_(e,"s0","broadcastArgs","int32"),r=_(t,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return j.runKernel(Fk,s)}const pA=R({broadcastArgs_:hA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mA(e,t){let n=_(e,"broadcastTo","x");const r=n.shape;if(An(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const u=n.shape.slice();for(;u.length<t.length;)u.unshift(1);n=te(n,u)}const s=n.shape,o=Array.from(t);for(let u=t.length-1;u>=0;u--)if(s[u]===t[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Ns(n);const a={x:n},l={reps:o};return j.runKernel(F5,a,l)}const Zu=R({broadcastTo_:mA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gA(e){const n={x:_(e,"x","ceil","float32")};return j.runKernel(Mk,n)}const yA=R({ceil_:gA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ml(e,t,n){An(e),n=n||_f(t);const r={shape:e,value:t,dtype:n};return j.runKernel(hN,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vA(e,t,n){const r=_(e,"x","clipByValue");if(P(t<=n,()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`),t===n)return Ml(r.shape,t,r.dtype);const s={x:r},o={clipValueMin:t,clipValueMax:n};return j.runKernel(Rk,s,o)}const fv=R({clipByValue_:vA});function bA(e){return $t(e,0)}const wA=R({concat1d_:bA});function SA(e,t){return $t(e,t)}const xA=R({concat2d_:SA});function TA(e,t){return $t(e,t)}const EA=R({concat3d_:TA});function kA(e,t){return $t(e,t)}const NA=R({concat4d_:kA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $A(e,t,n,r,s="NHWC",o=[1,1],i){const a=_(e,"x","conv2d","float32"),l=_(t,"filter","conv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),P(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),sr("conv2d",r,i);const f=s==="NHWC"?u.shape[3]:u.shape[1];P(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),P(zs(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),P(Li(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),P(Li(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},m={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},b=j.runKernel(Bk,d,m);return c?te(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const Af=R({conv2d_:$A});function _A(e,t,n,r,s="NWC",o=1,i){const a=_(e,"x","conv1d"),l=_(t,"filter","conv1d");let u=a,c=!1;a.rank===2&&(c=!0,u=te(a,[1,a.shape[0],a.shape[1]])),P(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),P(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),sr("conv1d",r,i),P(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),P(zs(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),P(Li(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),P(Li(n),()=>"Error in conv1D: Stride should be larger than 0."),P(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=te(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=te(u,[u.shape[0],1,u.shape[1],u.shape[2]]),N=Af(d,f,[1,n],r,"NHWC",[1,o],i);return c?te(N,[N.shape[2],N.shape[3]]):te(N,[N.shape[0],N.shape[2],N.shape[3]])}const CA=R({conv1d_:_A});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AA(e,t,n,r,s,o="NHWC",i){P(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let a=e,l=t,u=!1;t.rank===3&&(u=!0,l=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]),a=[1,e[0],e[1],e[2]]),P(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),P(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),P(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?a[3]:a[1],f=o==="NHWC"?l.shape[3]:l.shape[1];P(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),P(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),sr("conv2dDerInput",s,i);const d={dy:l,filter:n},m={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,inputShape:a},b=j.runKernel(Uk,d,m);return u?te(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const dv=R({conv2DBackpropInput_:AA});function IA(e,t,n,r,s,o){const i=_(e,"x","conv2dTranspose"),a=_(t,"filter","conv2dTranspose");return dv(n,i,a,r,s,"NHWC",o)}const PA=R({conv2dTranspose_:IA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OA(e,t,n,r,s="NDHWC",o=[1,1,1]){const i=_(e,"x","conv3d"),a=_(t,"filter","conv3d");let l=i,u=!1;i.rank===4&&(u=!0,l=te(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),P(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),P(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),P(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),P(zs(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),P(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),P(Li(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),P(Li(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:a},f={strides:n,pad:r,dataFormat:s,dilations:o},d=j.runKernel(Wk,c,f);return u?te(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const DA=R({conv3d_:OA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FA(e,t,n,r,s){P(e.length===t.rank,()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`);let o=e,i=t,a=!1;t.rank===4&&(a=!0,i=te(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=i.shape[4];P(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),P(i.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`),P(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),P(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),P(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:i,filter:n},f={pad:s,strides:r,inputShape:o},d=j.runKernel(Hk,c,f);return a?te(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const MA=R({conv3DBackpropInput_:FA});function RA(e,t,n,r,s){const o=_(e,"x","conv3dTranspose"),i=_(t,"filter","conv3dTranspose");return MA(n,o,i,r,s)}const LA=R({conv3dTranspose_:RA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zA(e){const n={x:_(e,"x","cos","float32")};return j.runKernel(Kk,n)}const jA=R({cos_:zA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BA(e){const n={x:_(e,"x","cosh","float32")};return j.runKernel(Gk,n)}const VA=R({cosh_:BA});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UA(e,t=0,n=!1,r=!1){const o={x:_(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return j.runKernel(qk,o,i)}const WA=R({cumprod_:UA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HA(e,t=0,n=!1,r=!1){const o={x:_(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return j.runKernel(Yk,o,i)}const KA=R({cumsum_:HA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GA(e,t,n,r=!1){const s=_(e,"x","denseBincount"),o=_(t,"weights","denseBincount");P(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),P(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),P(n>=0,()=>`size must be non-negative, but got ${n}.`),P(o.size===s.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${o.shape}.`);const i={x:s,weights:o},a={size:n,binaryOutput:r};return j.runKernel(Qk,i,a)}const qA=R({denseBincount_:GA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YA(e,t,n="NHWC"){const r=_(e,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];P(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),P(s*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${t}  for depthToSpace with input shape
    ${r.shape}`),P(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${t} for depthToSpace with input shape
        ${r.shape}`),P(i%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:t,dataFormat:n};return j.runKernel(Jk,a,l)}const XA=R({depthToSpace_:YA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QA(e,t,n,r,s="NHWC",o=[1,1],i){const a=_(e,"x","depthwiseConv2d","float32"),l=_(t,"filter","depthwiseConv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),P(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];P(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),sr("depthwiseConv2d",r,i);const d={x:u,filter:l},m={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i},b=j.runKernel(Zk,d,m);return c?te(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const L2=R({depthwiseConv2d_:QA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JA(e){const n={x:_(e,"x","diag")};return j.runKernel(nN,n)}const ZA=R({diag_:JA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eI(e,t,n,r,s=[1,1],o="NHWC"){const i=_(e,"x","dilation2d"),a=_(t,"filter","dilation2d");P(i.rank===3||i.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`),P(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),P(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=i,u=!1;i.rank===3&&(l=te(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),P(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const c={x:l,filter:a},f={strides:n,pad:r,dilations:s},d=j.runKernel(rN,c,f);return u?te(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const tI=R({dilation2d_:eI});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nI(e,t){const n=[];for(let r=0;r<t.length;r++){const s=e[e.length-r-1],o=t.length-r-1,i=t[o];(s==null||s===1&&i>1)&&n.unshift(o)}return n}function St(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let s=0;s<n;s++){let o=e[e.length-s-1];o==null&&(o=1);let i=t[t.length-s-1];if(i==null&&(i=1),o===1)r[n-s-1]=i;else if(i===1)r[n-s-1]=o;else if(o!==i){const a=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(a)}else r[n-s-1]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rI(e,t){let n=_(e,"a","equal","string_or_numeric"),r=_(t,"b","equal","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(lN,s)}const hv=R({equal_:rI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sI(e,t,n){const r=_(t,"a","where"),s=_(n,"b","where"),o=_(e,"condition","where","bool"),i=St(St(o.shape,r.shape),s.shape),a=Zu(o,i),l=Zu(r,i),u=Zu(s,i),c={condition:a,t:l,e:u};return j.runKernel(E$,c)}const $s=R({where_:sI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oI(e){const n={x:_(e,"x","zerosLike")};return j.runKernel(n_,n)}const Nn=R({zerosLike_:oI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iI(e,t){let n=_(e,"a","div"),r=_(t,"b","div");[n,r]=lt(n,r);const s=Oe(n,r),o=Nn(s),i=hv(r,o);return $s(i,o,s)}const aI=R({divNoNan_:iI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lI(e,t){const n=_(e,"t1","dot"),r=_(t,"t2","dot");P((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(P(s===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${o}.`),n.rank===1&&r.rank===1){const i=te(n,[1,-1]),a=te(r,[-1,1]),l=Ve(i,a);return te(l,[])}else if(n.rank===1&&r.rank===2){const i=te(n,[1,-1]),a=te(r,[r.shape[0],r.shape[1]]),l=Ve(i,a);return te(l,[l.size])}else if(n.rank===2&&r.rank===1){const i=te(r,[-1,1]),a=Ve(n,i);return te(a,[a.size])}else{const i=te(r,[r.shape[0],r.shape[1]]);return Ve(n,i)}}const uI=R({dot_:lI});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cI(e,...t){const n=t.map((s,o)=>_(s,`tensors${o}`,"einsum")),r={equation:e};return j.runKernel(oN,n,r)}const ti=R({einsum_:cI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fI(e){const n={x:_(e,"x","elu","float32")};return j.runKernel(iN,n)}const pv=R({elu_:fI});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dI(e,t){const n=_(e,"x","ensureShape","string_or_numeric");if(!nk(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}const hI=R({ensureShape_:dI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pI(e){let t=_(e,"x","erf");P(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=Ye(t,"float32"));const n={x:t};return j.runKernel(aN,n)}const mI=R({erf_:pI});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gI(e,t,n){const r=e.length+t.length,s=[];let o=0,i=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(e[o++]):s.push(t[i++]);return s}function If(e,t){const n=t.map(r=>1);return gI(e,n,t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yI(e,t=null,n=!1){const s={x:_(e,"x","max")},o={reductionIndices:t,keepDims:n};return j.runKernel(RN,s,o)}const ki=R({max_:yI});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vI(e,t=null,n=!1){const s={x:_(e,"x","min")},o={axis:t,keepDims:n};return j.runKernel(UN,s,o)}const Fh=R({min_:vI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bI(e,t){let n=_(e,"base","pow"),r=_(t,"exp","pow");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(s$,s)}const bl=R({pow_:bI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ze(e,t){if((Vn(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Vn(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ls(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wI(e){const n={x:_(e,"x","sqrt","float32")};return j.runKernel(P$,n)}const Wr=R({sqrt_:wI});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SI(e){const t=_(e,"x","square"),n={};return j.runKernel("Square",{x:t},n)}const er=R({square_:SI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xI(e,t=null,n=!1){let r=_(e,"x","sum");r.dtype==="bool"&&(r=Ye(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return j.runKernel(O$,s,o)}const Ge=R({sum_:xI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TI(e,t="euclidean",n=null,r=!1){e=_(e,"x","norm");const s=mv(e,t,n);let o=s.shape;if(r){const i=$f(n,e.shape);o=If(s.shape,i)}return te(s,o)}function mv(e,t,n=null){if(e.rank===0)return xn(e);if(e.rank!==1&&n===null)return mv(te(e,[-1]),t,n);if(e.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(t===1)return Ge(xn(e),n);if(t===1/0)return ki(xn(e),n);if(t===-1/0)return Fh(xn(e),n);if(t==="euclidean"||t===2)return Wr(Ge(bl(xn(e),ze(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&n.length===2){if(t===1)return ki(Ge(xn(e),n[0]),n[1]-1);if(t===1/0)return ki(Ge(xn(e),n[1]),n[0]);if(t===-1/0)return Fh(Ge(xn(e),n[1]),n[0]);if(t==="fro"||t==="euclidean")return Wr(Ge(er(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Pf=R({norm_:TI});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EI(e,t=null,n=!1){return Pf(e,"euclidean",t,n)}const kI=R({euclideanNorm_:EI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NI(e){const n={x:_(e,"x","exp")};return j.runKernel(uN,n)}const Hr=R({exp_:NI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $I(e,t=0){const n=_(e,"x","expandDims","string_or_numeric");P(t<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:t};return j.runKernel(cN,r,s)}const Rn=R({expandDims_:$I});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _I(e){const n={x:_(e,"x","expm1")};return j.runKernel(fN,n)}const CI=R({expm1_:_I});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AI(e,t){const n=_(e,"x","tile","string_or_numeric");P(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`);const r={x:n},s={reps:t};return j.runKernel(F5,r,s)}const Ga=R({tile_:AI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function II(e,t,n,r="float32"){t==null&&(t=e);const s=Ur([e,t],r),o=e<=t?e:t;for(let a=0;a<o;++a)s.set(1,a,a);const i=te(s.toTensor(),[e,t]);if(n==null)return i;if(n.length===1)return Ga(Rn(i,0),[n[0],1,1]);if(n.length===2)return Ga(Rn(Rn(i,0),0),[n[0],n[1],1,1]);if(n.length===3)return Ga(Rn(Rn(Rn(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const gv=R({eye_:II});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PI(e){const n={x:_(e,"x","floor","float32")};return j.runKernel(mN,n)}const yv=R({floor_:PI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OI(e,t,n=0,r=0){const s=_(e,"x","gather"),o=_(t,"indices","gather","int32"),i={x:s,indices:o},a={axis:n,batchDims:r};return j.runKernel(vN,i,a)}const vv=R({gather_:OI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DI(e,t){let n=_(e,"a","greater","string_or_numeric"),r=_(t,"b","greater","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(wN,s)}const Of=R({greater_:DI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FI(e,t){let n=_(e,"a","greaterEqual","string_or_numeric"),r=_(t,"b","greaterEqual","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(SN,s)}const bv=R({greaterEqual_:FI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MI(e){const n={input:_(e,"input","imag")};return j.runKernel(TN,n)}const Df=R({imag_:MI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RI(e){const n={x:_(e,"x","isFinite")};return j.runKernel(EN,n)}const LI=R({isFinite_:RI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zI(e){const n={x:_(e,"x","isInf")};return j.runKernel(kN,n)}const jI=R({isInf_:zI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BI(e){const n={x:_(e,"x","isNaN")};return j.runKernel(NN,n)}const VI=R({isNaN_:BI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UI(e,t=.2){const r={x:_(e,"x","leakyRelu")},s={alpha:t};return j.runKernel($N,r,s)}const wv=R({leakyRelu_:UI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WI(e,t){let n=_(e,"a","less","string_or_numeric"),r=_(t,"b","less","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(_N,s)}const Mh=R({less_:WI});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HI(e,t){let n=_(e,"a","lessEqual","string_or_numeric"),r=_(t,"b","lessEqual","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(CN,s)}const z2=R({lessEqual_:HI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KI(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return j.runKernel(AN,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GI(e,t=5,n=1,r=1,s=.5){const o=_(e,"x","localResponseNormalization");P(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),P(gl(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let i=o,a=!1;o.rank===3&&(a=!0,i=te(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:s},c=j.runKernel(MN,l,u);return a?te(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const qI=R({localResponseNormalization_:GI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YI(e){const n={x:_(e,"x","log","float32")};return j.runKernel(IN,n)}const wl=R({log_:YI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XI(e){const n={x:_(e,"x","log1p")};return j.runKernel(PN,n)}const Sv=R({log1p_:XI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QI(e,t){P(Sh(e),()=>"The f passed in variableGrads(f) must be a function"),P(t==null||Array.isArray(t)&&t.every(u=>u instanceof Bc),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=t!=null;if(!n){t=[];for(const u in j.registeredVariables)t.push(j.registeredVariables[u])}const r=n?t.filter(u=>!u.trainable):null,s=t.length;t=t.filter(u=>u.trainable),P(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const o=!0,{value:i,grads:a}=j.gradients(e,t,null,o);P(a.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),P(i.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`);const l={};return t.forEach((u,c)=>{a[c]!=null&&(l[u.name]=a[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:i,grads:l}}function Kr(e){return j.customGrad(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JI(e){const n={x:_(e,"x","neg")};return j.runKernel(YN,n)}const wr=R({neg_:JI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZI(e){const n={x:_(e,"x","softplus")};return j.runKernel(I$,n)}const xv=R({softplus_:ZI});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eP(e){const t=_(e,"x","logSigmoid");return Kr(r=>({value:wr(xv(wr(r))),gradFunc:i=>ue(i,yo(wr(r)))}))(t)}const tP=R({logSigmoid_:eP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nP(e,t){let n=_(e,"a","sub"),r=_(t,"b","sub");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(q$,s)}const _e=R({sub_:nP});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rP(e,t=-1){const n=_(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return Kr((s,o)=>{const a=ki(s,t,!0),l=_e(s,a),u=_e(Ye(l,"float32"),wl(Ge(Hr(l),t,!0)));return o([u]),{value:u,gradFunc:(f,d)=>{const[m]=d,b=!0,x=Hr(m);return _e(f,ue(Ge(f,t,b),x))}}})(n)}const sP=R({logSoftmax_:rP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oP(e,t=null,n=!1){const r=_(e,"x","logSumExp"),s=$f(t,r.shape),o=ki(r,s,!0),i=_e(r,o),a=Hr(i),l=Ge(a,s),u=wl(l),c=we(te(o,u.shape),u);if(n){const f=If(c.shape,s);return te(c,f)}return c}const Tv=R({logSumExp_:oP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iP(e,t){const n=_(e,"a","logicalAnd","bool"),r=_(t,"b","logicalAnd","bool");St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(ON,s)}const Hc=R({logicalAnd_:iP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aP(e){const n={x:_(e,"x","logicalNot","bool")};return j.runKernel(DN,n)}const Ev=R({logicalNot_:aP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lP(e,t){const n=_(e,"a","logicalOr","bool"),r=_(t,"b","logicalOr","bool");St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(FN,s)}const kv=R({logicalOr_:lP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uP(e,t){const n=_(e,"a","logicalXor","bool"),r=_(t,"b","logicalXor","bool");return St(n.shape,r.shape),Hc(kv(e,t),Ev(Hc(e,t)))}const cP=R({logicalXor_:uP});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Au=2147483648;function fP(e,t,n="left"){const r=_(e,"sortedSequence","searchSorted"),s=_(t,"values","searchSorted"),o=r.shape[r.shape.length-1],i=s.shape[s.shape.length-1],a=te(r,[-1,o]),l=te(s,[-1,i]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ht(l.shape)>=Au)throw new Error(`values tensor size must less than ${Au}`);if(a.shape[1]>=Au)throw new Error(`trailing dim_size must less than ${Au} for int32 output type, was ${a.shape[1]}`);const u={sortedSequence:a,values:l},c={side:n};return j.runKernel(T$,u,c)}const j2=R({searchSorted_:fP});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dP(e,t){return j2(e,t,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hP(e,t,n,r,s){const o=_(e,"x","maxPool"),i=1;let a=o,l=!1;o.rank===3&&(l=!0,a=te(o,[1,o.shape[0],o.shape[1],o.shape[2]])),P(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),P(zs(n,i),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),sr("maxPool",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s},f=j.runKernel(zN,u,c);return l?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const Nv=R({maxPool_:hP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pP(e,t=[1,1,1],n,r,s,o="NDHWC"){const i=_(e,"x","maxPool3d");let a=i,l=!1;i.rank===4&&(l=!0,a=te(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),P(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),P(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),sr("maxPool3d",r,s);const u={x:a},c={filterSize:t,strides:n,pad:r,dimRoundingMode:s,dataFormat:o},f=j.runKernel(jN,u,c);return l?te(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const mP=R({maxPool3d_:pP});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gP(e,t,n,r,s=!1){const i={x:_(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:s},l=j.runKernel(BN,i,a);return{result:l[0],indexes:l[1]}}const yP=R({maxPoolWithArgmax_:gP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vP(e,t){let n=_(e,"a","maximum"),r=_(t,"b","maximum");[n,r]=lt(n,r),n.dtype==="bool"&&(n=Ye(n,"int32"),r=Ye(r,"int32")),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(LN,s)}const $v=R({maximum_:vP});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bP(e,t=null,n=!1){const s={x:_(e,"x","mean")},o={axis:t,keepDims:n};return j.runKernel(VN,s,o)}const Kc=R({mean_:bP});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zi(e,t="float32"){if(An(e),t==="complex64"){const r=zi(e,"float32"),s=zi(e,"float32");return Is(r,s)}const n=O2(ht(e),t);return j.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fo(e,t="float32"){if(An(e),t==="complex64"){const r=fo(e,"float32"),s=zi(e,"float32");return Is(r,s)}const n=C5(ht(e),t);return j.makeTensor(n,e,t)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wP(e,t,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(e===void 0)return[];let r=_(e,"x","meshgrid",e instanceof ot?e.dtype:"float32");if(t===void 0)return[r];let s=_(t,"y","meshgrid",t instanceof ot?t.dtype:"float32");const o=ht(r.shape),i=ht(s.shape);return n==="xy"?(r=te(r,[1,-1]),s=te(s,[-1,1]),[Ve(fo([i,1],r.dtype),r),Ve(s,fo([1,o],s.dtype))]):(r=te(r,[-1,1]),s=te(s,[1,-1]),[Ve(r,fo([1,i],r.dtype)),Ve(fo([o,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SP(e,t){let n=_(e,"a","minimum"),r=_(t,"b","minimum");[n,r]=lt(n,r),n.dtype==="bool"&&(n=Ye(n,"int32"),r=Ye(r,"int32")),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(WN,s)}const Gc=R({minimum_:SP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xP(e,t,n){P(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=_(e,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");P(t.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)P(t[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),P(t[a][0]>=0&&t[a][0]<=r.shape[a]-s&&t[a][1]>=0&&t[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const o={paddings:t,mode:n},i={x:r};return j.runKernel(HN,i,o)}const TP=R({mirrorPad_:xP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EP(e,t){let n=_(e,"a","mod"),r=_(t,"b","mod");[n,r]=lt(n,r);const s={a:n,b:r};return j.runKernel(KN,s)}const kP=R({mod_:EP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NP(e,t=null,n=!1){e=_(e,"x","moments");const r=$f(t,e.shape),s=Kc(e,r,n);let o=s.shape;n||(o=If(s.shape,r));const i=er(_e(Ye(e,"float32"),te(s,o))),a=Kc(i,r,n);return{mean:s,variance:a}}const $P=R({moments_:NP});function _P(e,t,n,r){const s=_(t,"data","multiRNNCell"),o=Vc(n,"c","multiRNNCell"),i=Vc(r,"h","multiRNNCell");let a=s;const l=[];for(let f=0;f<e.length;f++){const d=e[f](a,o[f],i[f]);l.push(d[0]),l.push(d[1]),a=d[1]}const u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}const CP=R({multiRNNCell_:_P});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AP(e,t,n,r=!1){const s=_(e,"logits","multinomial"),o=s.size,i=s.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const l={logits:i===1?te(s,[1,-1]):s},u={numSamples:t,seed:n,normalized:r},c=j.runKernel(GN,l,u);return i===1?te(c,[c.size]):c}const IP=R({multinomial_:AP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PP(e,t){let n=_(e,"a","notEqual","string_or_numeric"),r=_(t,"b","notEqual","string_or_numeric");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(XN,s)}const _v=R({notEqual_:PP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OP(e,t,n=1,r=0,s="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:_(e,"indices","oneHot","int32")},a={dtype:s,depth:t,onValue:n,offValue:r};return j.runKernel(t$,i,a)}const DP=R({oneHot_:OP});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FP(e){const n={x:_(e,"x","onesLike")};return j.runKernel(e$,n)}const MP=R({onesLike_:FP});function RP(e,t){const n=_(e,"v1","outerProduct"),r=_(t,"v2","outerProduct");P(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=te(n,[-1,1]),o=te(r,[1,-1]);return Ve(s,o)}const LP=R({outerProduct_:RP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zP(e,t,n=0){const r=_(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},o={x:r};return j.runKernel(r$,o,s)}const Rl=R({pad_:zP});function jP(e,t,n=0){return P(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),Rl(e,[t],n)}const BP=R({pad1d_:jP});function VP(e,t,n=0){return P(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Rl(e,t,n)}const UP=R({pad2d_:VP});function WP(e,t,n=0){return P(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Rl(e,t,n)}const HP=R({pad3d_:WP});function KP(e,t,n=0){return P(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Rl(e,t,n)}const GP=R({pad4d_:KP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qP(e,t,n){const r=_(e,"x","spaceToBatchND");P(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),P(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),P(r.shape.reduce((i,a,l)=>l>0&&l<=t.length?i&&(a+n[l-1][0]+n[l-1][1])%t[l-1]===0:i,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const s={x:r},o={blockShape:t,paddings:n};return j.runKernel(D$,s,o)}const Cv=R({spaceToBatchND_:qP});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YP(e,t,n,r,s,o,i){s==null&&(s=[1,1]),o==null&&(o=1),r===0&&(r="valid");const a=_(e,"x","maxPool");let l=a,u=!1;a.rank===3&&(u=!0,l=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),P(zs(o,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${s}'`);const c=jC(l.shape,t,o,s,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=QP([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const m=f[0]===1&&f[1]===1,[b,x]=XP([c.inHeight,c.inWidth],f,d),N=m?r:"valid",S=m?l:Cv(l,f,b),k=(n==="avg"?()=>lv(S,t,o,N,i):()=>Nv(S,t,o,N,i))(),A=m?k:uv(k,f,x);return u?te(A,[A.shape[1],A.shape[2],A.shape[3]]):A}function XP(e,t,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),o=e.concat(r,s),i=t.map((c,f)=>(c-o[f]%c)%c),a=s.map((c,f)=>c+i[f]),l=t.map((c,f)=>[r[f],a[f]]),u=t.map((c,f)=>[0,i[f]]);return[l,u]}function QP(e,t){const r=e.map((i,a)=>i+(i-1)*(t[a]-1)).map(i=>i-1),s=r.map(i=>Math.floor(i/2)),o=r.map((i,a)=>i-s[a]);return r.map((i,a)=>[s[a],o[a]])}const JP=R({pool_:YP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZP(e,t){const n=_(e,"x","prelu"),r=_(t,"alpha","prelu"),s={x:n,alpha:r};return j.runKernel(o$,s)}const Av=R({prelu_:ZP});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eO(e,t=null,n=!1){let r=_(e,"x","prod");r.dtype==="bool"&&(r=Ye(r,"int32"));const s={x:r},o={axis:t,keepDims:n};return j.runKernel(i$,s,o)}const tO=R({prod_:eO});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nO(e,t,n,r){const s=e.map((c,f)=>_(c,`tensors${f}`,"raggedGather","int32")),o=_(t,"paramsDenseValues","raggedGather"),i=_(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:o,indices:i},l={outputRaggedRank:r},u=j.runKernel(a$,a,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const rO=R({raggedGather_:nO});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sO(e,t,n){const r=_(e,"starts","raggedRange"),s=_(t,"limits","raggedRange",r.dtype),o=_(n,"deltas","raggedRange",r.dtype),i={starts:r,limits:s,deltas:o},a=j.runKernel(l$,i);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const oO=R({raggedRange_:sO});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iO(e,t,n,r,s){const o=_(e,"shape","raggedTensorToTensor","int32"),i=_(t,"values","raggedTensorToTensor"),a=_(n,"defaultValue","raggedTensorToTensor",i.dtype),l=r.map((f,d)=>_(f,`tensors${d}`,"raggedTensorToTensor","int32")),u={shape:o,values:i,defaultValue:a,rowPartitionTensors:l},c={rowPartitionTypes:s};return j.runKernel(u$,u,c)}const aO=R({raggedTensorToTensor_:iO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lO(e,t,n){An(e);const r=ht(e);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)s[o]=t();return j.makeTensor(s,e,n)}const uO=R({rand_:lO});var B2={exports:{}};B2.exports;(function(e){(function(t,n,r){function s(l){var u=this,c=a();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function i(l,u){var c=new s(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,c),d.state=function(){return o(c,{})}),d}function a(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=i:this.alea=i})(mr,e)})(B2);var cO=B2.exports,V2={exports:{}};V2.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(d+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor128=i})(mr,e)})(V2);var fO=V2.exports,U2={exports:{}};U2.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(d+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorwow=i})(mr,e)})(U2);var dO=U2.exports,W2={exports:{}};W2.exports;(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.x,f=l.i,d,m;return d=c[f],d^=d>>>7,m=d^d<<24,d=c[f+1&7],m^=d^d>>>10,d=c[f+3&7],m^=d^d>>>3,d=c[f+4&7],m^=d^d<<7,d=c[f+7&7],d=d^d<<13,m^=d^d<<9,c[f]=m,l.i=f+1&7,m};function u(c,f){var d,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,d=0;d<f.length;++d)m[d&7]=m[d&7]<<15^f.charCodeAt(d)+m[d+1&7]<<13;for(;m.length<8;)m.push(0);for(d=0;d<8&&m[d]===0;++d);for(d==8?m[7]=-1:m[d],c.x=m,c.i=0,d=256;d>0;--d)c.next()}u(l,a)}function o(a,l){return l.x=a.x.slice(),l.i=a.i,l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(d+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,c&&(c.x&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xorshift7=i})(mr,e)})(W2);var hO=W2.exports,H2={exports:{}};H2.exports;(function(e){(function(t,n,r){function s(a){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,m,b;return l.w=c=c+1640531527|0,b=f[d+34&127],m=f[d=d+1&127],b^=b<<13,m^=m<<17,b^=b>>>15,m^=m>>>12,b=f[d]=b^m,l.i=d,b+(c^c>>>16)|0};function u(c,f){var d,m,b,x,N,S=[],T=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,T=Math.max(T,f.length)),b=0,x=-32;x<T;++x)f&&(m^=f.charCodeAt((x+32)%f.length)),x===0&&(N=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,x>=0&&(N=N+1640531527|0,d=S[x&127]^=m+N,b=d==0?b+1:0);for(b>=128&&(S[(f&&f.length||0)&127]=-1),b=127,x=4*128;x>0;--x)m=S[b+34&127],d=S[b=b+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,S[b]=m^d;c.w=N,c.X=S,c.i=b}u(l,a)}function o(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function i(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(d+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,c&&(c.X&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.xor4096=i})(mr,e)})(H2);var pO=H2.exports,K2={exports:{}};K2.exports;(function(e){(function(t,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.b,d=l.c,m=l.d,b=l.a;return f=f<<25^f>>>7^d,d=d-m|0,m=m<<24^m>>>8^b,b=b-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-m|0,l.d=m<<16^d>>>16^b,l.a=b-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function i(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,b=(d+m)/(1<<21);while(b===0);return b},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=i:this.tychei=i})(mr,e)})(K2);var mO=K2.exports,Iv={exports:{}};const gO={},yO=Object.freeze(Object.defineProperty({__proto__:null,default:gO},Symbol.toStringTag,{value:"Module"})),vO=d7(yO);(function(e){(function(t,n,r){var s=256,o=6,i=52,a="random",l=r.pow(s,o),u=r.pow(2,i),c=u*2,f=s-1,d;function m(A,M,L){var W=[];M=M==!0?{entropy:!0}:M||{};var C=S(N(M.entropy?[A,k(n)]:A??T(),3),W),V=new b(W),K=function(){for(var X=V.g(o),Q=l,B=0;X<u;)X=(X+B)*s,Q*=s,B=V.g(1);for(;X>=c;)X/=2,Q/=2,B>>>=1;return(X+B)/Q};return K.int32=function(){return V.g(4)|0},K.quick=function(){return V.g(4)/4294967296},K.double=K,S(k(V.S),n),(M.pass||L||function(X,Q,B,Y){return Y&&(Y.S&&x(Y,V),X.state=function(){return x(V,{})}),B?(r[a]=X,Q):X})(K,C,"global"in M?M.global:this==r,M.state)}function b(A){var M,L=A.length,W=this,C=0,V=W.i=W.j=0,K=W.S=[];for(L||(A=[L++]);C<s;)K[C]=C++;for(C=0;C<s;C++)K[C]=K[V=f&V+A[C%L]+(M=K[C])],K[V]=M;(W.g=function(X){for(var Q,B=0,Y=W.i,oe=W.j,de=W.S;X--;)Q=de[Y=f&Y+1],B=B*s+de[f&(de[Y]=de[oe=f&oe+Q])+(de[oe]=Q)];return W.i=Y,W.j=oe,B})(s)}function x(A,M){return M.i=A.i,M.j=A.j,M.S=A.S.slice(),M}function N(A,M){var L=[],W=typeof A,C;if(M&&W=="object")for(C in A)try{L.push(N(A[C],M-1))}catch{}return L.length?L:W=="string"?A:A+"\0"}function S(A,M){for(var L=A+"",W,C=0;C<L.length;)M[f&C]=f&(W^=M[f&C]*19)+L.charCodeAt(C++);return k(M)}function T(){try{var A;return d&&(A=d.randomBytes)?A=A(s):(A=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(A)),k(A)}catch{var M=t.navigator,L=M&&M.plugins;return[+new Date,t,L,t.screen,k(n)]}}function k(A){return String.fromCharCode.apply(0,A)}if(S(r.random(),n),e.exports){e.exports=m;try{d=vO}catch{}}else r["seed"+a]=m})(typeof self<"u"?self:mr,[],Math)})(Iv);var bO=Iv.exports,wO=cO,SO=fO,xO=dO,TO=hO,EO=pO,kO=mO,Ro=bO;Ro.alea=wO;Ro.xor128=SO;Ro.xorwow=xO;Ro.xorshift7=TO;Ro.xor4096=EO;Ro.tychei=kO;var G2=Ro;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q2{constructor(t,n,r,s,o){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const i=o||Math.random();this.random=G2.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let t,n,r=!1;for(;!r;){let s,o,i;do s=2*this.random()-1,o=2*this.random()-1,i=s*s+o*o;while(i>=1||i===0);const a=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(t))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}}class NO{constructor(t,n,r,s){this.alpha=t,this.beta=1/n,this.dtype=r;const o=s||Math.random();this.randu=G2.alea(o.toString()),this.randn=new q2(0,1,r,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,n,r,s,o,i;for(;;){do s=this.randn.nextValue(),i=1+this.c*s;while(i<=0);if(i*=i*i,t=s*s,n=1-.331*t*t,r=.5*t+this.d*(1-i+Math.log(i)),o=this.randu(),o<n||Math.log(o)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(t){return this.dtype==="float32"?t:Math.round(t)}}class $O{constructor(t=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=n-t,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${n} <= 1 and dtype is not float`);this.random=G2.alea(s)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _O(e,t,n=1,r="float32",s){if(An(e),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new NO(t,n,r,s),i=Ur(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const CO=R({randomGamma_:_O});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AO(e,t=0,n=1,r,s){if(An(e),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new q2(t,n,r,!1,s),i=Ur(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const Pv=R({randomNormal_:AO});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IO(e,t,n){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return Pv(e,0,1,t,n)}const PO=R({randomStandardNormal_:IO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OO(e,t=0,n=1,r="float32",s){An(e);const o=Ur(e,r),i=new $O(t,n,null,s);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const Y2=R({randomUniform_:OO});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DO(e,t,n,r){return Y2(e,t,n,"int32",r)}const FO=R({randomUniformInt_:DO});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sl(e,t,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return j.runKernel(c$,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MO(e){const n={input:_(e,"input","real")};return j.runKernel(f$,n)}const xl=R({real_:MO});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RO(e){const n={x:_(e,"x","reciprocal")};return j.runKernel(d$,n)}const LO=R({reciprocal_:RO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zO(e){const n={x:_(e,"x","relu")};return j.runKernel(h$,n)}const Ff=R({relu_:zO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jO(e){const n={x:_(e,"x","relu6")};return j.runKernel(y$,n)}const Ov=R({relu6_:jO});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BO(e,t){const r={x:_(e,"x","reverse")},s={dims:t};return j.runKernel(v$,r,s)}const Co=R({reverse_:BO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VO(e){const t=_(e,"x","reverse");return P(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Co(t,0)}const UO=R({reverse1d_:VO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WO(e,t){const n=_(e,"x","reverse");return P(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Co(n,t)}const HO=R({reverse2d_:WO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KO(e,t){const n=_(e,"x","reverse");return P(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Co(n,t)}const GO=R({reverse3d_:KO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qO(e,t){const n=_(e,"x","reverse");return P(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Co(n,t)}const YO=R({reverse4d_:qO});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XO(e){const n={x:_(e,"x","round")};return j.runKernel(b$,n)}const Dv=R({round_:XO});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QO(e){const n={x:_(e,"x","rsqrt","float32")};return j.runKernel(w$,n)}const JO=R({rsqrt_:QO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZO(e){const n={x:_(e,"x","selu")};return j.runKernel(k$,n)}const eD=R({selu_:ZO});function tD(e,t,n,r,s,o=[1,1],i="NHWC"){const a=_(e,"x","separableConv2d"),l=_(t,"depthwiseFilter","separableConv2d"),u=_(n,"pointwiseFilter","separableConv2d");let c=a,f=!1;if(a.rank===3&&(f=!0,c=te(a,[1,a.shape[0],a.shape[1],a.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");P(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),P(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),P(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),P(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),P(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],m=l.shape[3];P(u.shape[2]===d*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*m}, but got ${u.shape[2]}.`);const b=L2(c,l,r,s,i,o),N=Af(b,u,1,"valid",i);return f?te(N,[N.shape[1],N.shape[2],N.shape[3]]):N}const nD=R({separableConv2d_:tD});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function rD(e,t){const n=_(e,"x","setdiff1d"),r=_(t,"y","setdiff1d");P(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),P(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),P(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),o=await r.data(),i=new Set(o);let a=0;for(let c=0;c<s.length;c++)i.has(s[c])||a++;const l=new Eh([a],n.dtype),u=new Eh([a],"int32");for(let c=0,f=0;c<s.length;c++)i.has(s[c])||(l.values[f]=s[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]}const sD=rD;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oD(e){const n={x:_(e,"x","sign")};return j.runKernel(C$,n)}const iD=R({sign_:oD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aD(e){const n={x:_(e,"x","sin","float32")};return j.runKernel($$,n)}const lD=R({sin_:aD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uD(e){const n={x:_(e,"x","sinh")};return j.runKernel(_$,n)}const cD=R({sinh_:uD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fD(e,t,n){const r=_(e,"x","slice1d");return P(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),$e(r,[t],[n])}const dD=R({slice1d_:fD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hD(e,t,n){const r=_(e,"x","slice2d");return P(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),$e(r,t,n)}const pD=R({slice2d_:hD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mD(e,t,n){const r=_(e,"x","slice3d");return P(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),$e(r,t,n)}const gD=R({slice3d_:mD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yD(e,t,n){const r=_(e,"x","slice4d");return P(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),$e(r,t,n)}const vD=R({slice4d_:yD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bD(e,t=-1){const n=_(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},s={dim:t};return j.runKernel(M$,r,s)}const wD=R({softmax_:bD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SD(e){P(e.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`);const t={input:e};return j.runKernel(dN,t)}const X2=R({fft_:SD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xD(e){P(e.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`);const t={input:e};return j.runKernel(xN,t)}const qc=R({ifft_:xD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TD(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const s=te(e,[n,t]);r=qc(s)}else{const s=[n,2*(t-1)],o=te(xl(e),[n,t]),i=te(Df(e),[n,t]),a=Co($e(o,[0,1],[n,t-2]),1),l=ue(Co($e(i,[0,1],[n,t-2]),1),ze(-1)),u=$t([o,a],1),c=$t([i,l],1),f=te(Is(u,c),[s[0],s[1]]);r=qc(f)}if(r=xl(r),e.rank===3&&e.shape[0]!==0){const s=r,o=e.shape[0];r=te(r,[o,r.shape[0]/o,r.shape[1]]),s.dispose()}return r}const Fv=R({irfft_:TD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ED(e,t,n=0){const s={x:_(e,"x","split")},o={numOrSizeSplits:t,axis:n};return j.runKernel(F$,s,o)}const Tl=R({split_:ED});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kD(e,t){P(e.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let s;if(t!=null&&t<n){const b=e.shape.map(N=>0),x=e.shape.map(N=>N);x[e.shape.length-1]=t,s=$e(e,b,x),n=t}else if(t!=null&&t>n){const b=e.shape.map(x=>x);b[e.shape.length-1]=t-n,s=$t([e,zi(b)],e.shape.length-1),n=t}else s=e;const o=Nn(s),i=te(Is(s,o),[r,n]),a=X2(i),l=Math.floor(n/2)+1,u=xl(a),c=Df(a),f=Tl(u,[l,n-l],u.shape.length-1),d=Tl(c,[l,n-l],c.shape.length-1),m=s.shape.slice();return m[s.shape.length-1]=l,te(Is(f[0],d[0]),m)}const Q2=R({rfft_:kD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ND(e,t){let n=_(e,"a","squaredDifference"),r=_(t,"b","squaredDifference");[n,r]=lt(n,r),St(n.shape,r.shape);const s={a:n,b:r},o={};return j.runKernel(V$,s,o)}const Mv=R({squaredDifference_:ND});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $D(e,t){const n=_(e,"x","squeeze","string_or_numeric");return te(n,rk(n.shape,t).newShape)}const yt=R({squeeze_:$D});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _D(e,t=0){const n=Vc(e,"tensors","stack","string_or_numeric");P(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&P(t<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:t};return j.runKernel(n$,r,s)}const Gr=R({stack_:_D});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CD(e,t=0){const r={x:_(e,"x","step")},s={alpha:t};return j.runKernel(r_,r,s)}const Rv=R({step_:CD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AD(e,t,n,r,s=0,o=0,i=0,a=0,l=0){const c={x:_(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:r,beginMask:s,endMask:o,ellipsisMask:i,newAxisMask:a,shrinkAxisMask:l};return j.runKernel(W$,c,f)}const ID=R({stridedSlice_:AD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PD(e){const n={x:_(e,"x","tan","float32")};return j.runKernel(Y$,n)}const OD=R({tan_:PD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(e,t){Gi(e);const n=Rs(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ls(e,null,n,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _s(e,t,n){if(Gi(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Rs(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ls(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lv(e,t,n){if(Gi(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Rs(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ls(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DD(e,t,n){if(Gi(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Rs(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ls(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FD(e,t,n){if(Gi(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Rs(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ls(e,t,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MD(e,t,n){if(Gi(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Rs(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,Ls(e,t,r,n)}function RD(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,s=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(o+` update.rank < ${s}. `);if(e.length<r+(n.rank-s))throw new Error(o+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+e.length-r)throw new Error(o+` update.rank != ${s+e.length-r}`);for(let i=0;i<s;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-s;++i)if(n.shape[i+s]!==e[i+r])throw new Error(o+` updates.shape[${i+s}] (${n.shape[i+s]}) != shape[${i+s}] (${e[i+s]})`)}function zv(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(e.size===0)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}RD(n,t,e)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LD(e,t,n){const r=_(e,"tensor","tensorScatterupdate"),s=_(t,"indices","tensorScatterupdate","int32"),o=_(n,"updates","tensorScatterupdate");if(zv(o,s,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const i={tensor:r,indices:s,updates:o},a={};return j.runKernel(x$,i,a)}const zD=R({tensorScatterUpdate_:LD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jD(e,t=1,n=!0){const r=_(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const o={x:r},i={k:t,sorted:n},[a,l]=j.runKernel(Q$,o,i);return{values:a,indices:l}}const BD=R({topk_:jD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VD(e,t=0,n=1,r,s){if(An(e),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new q2(t,n,r,!0,s),i=Ur(e,r);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const UD=R({truncatedNormal_:VD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WD(e,t=0){const n=_(e,"x","unique","string_or_numeric");P(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:t},[o,i]=j.runKernel(Z$,r,s);return{values:o,indices:i}}const HD=R({unique_:WD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KD(e,t,n){const r=_(e,"x","unsortedSegmentSum"),s=_(t,"segmentIds","unsortedSegmentSum","int32");P(gl(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:s},i={numSegments:n};return j.runKernel(t_,o,i)}const GD=R({unsortedSegmentSum_:KD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qD(e,t=0){const n=_(e,"x","unstack","string_or_numeric");P(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:t};return j.runKernel(e_,r,s)}const Lo=R({unstack_:qD});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YD(e,t){return j2(e,t,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XD(e,t=!0,n,r){return j.makeVariable(e,t,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QD(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const r=Ur(e,"int32"),s=Ur([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const i=r.indexToLoc(n[o]),a=o*e.length;s.values.set(i,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function JD(e){const t=_(e,"condition","whereAsync","bool"),n=await t.data(),r=QD(t.shape,n);return e!==t&&t.dispose(),r}const jv=JD;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function ZD(e,t,n){const r=_(e,"tensor","boolMask"),s=_(t,"mask","boolMask","bool"),o=n??0,i=s.rank,a=r.shape;P(i>0,()=>"mask cannot be scalar"),Un(a.slice(o,o+i),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let x=o;x<o+i;x++)l*=a[x];const u=a.slice(0,o).concat([l],a.slice(o+i)),c=te(r,u),f=te(s,[-1]),d=await jv(f),m=yt(d,[1]),b=vv(c,m,o);return e!==r&&r.dispose(),t!==s&&s.dispose(),m.dispose(),c.dispose(),f.dispose(),d.dispose(),b}const eF=ZD;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tF(e,t,n){const r=_(e,"x","transpose");if(t==null&&(t=r.shape.map((i,a)=>a).reverse()),P(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`),t.forEach(i=>{P(i>=0&&i<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${t}`)}),r.rank<=1)return r.clone();const s={x:r},o={perm:t};return r.dtype==="complex64"?Ie(()=>{let i=xl(r),a=Df(r);return i=j.runKernel(Fd,{x:i},o),a=j.runKernel(Fd,{x:a},o),n&&(a=wr(a)),Is(i,a)}):j.runKernel(Fd,s,o)}const Rh=R({transpose_:tF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nF(e,t,n,r,s=!0){const o=_(e,"v","movingAverage"),i=_(t,"x","movingAverage"),a=_(n,"decay","movingAverage");w_(o,i),P(Vr(o.shape,i.shape),()=>"Shape mismatch in v and x");const l=ze(1),u=_e(l,a);let c=ue(_e(i,o),u);if(s){P(r!=null,()=>"When using zeroDebias: true, step is required.");const f=_(r,"step","movingAverage");c=Oe(c,_e(l,bl(a,f)))}return we(o,c)}const rF=R({movingAverage_:nF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sF(e,t,n){An(n);const r=_(e,"indices","scatterND","int32"),s=_(t,"updates","scatterND");zv(s,r,n);const o={indices:r,updates:s},i={shape:n};return j.runKernel(S$,o,i)}const oF=R({scatterND_:sF});function iF(e,t,n,r){if(e.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const s=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const i=t.size;if(!(t.rank===0||t.rank===1&&i===s))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${s}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aF(e,t,n,r=0){An(n);const s=_(e,"sparseIndices","sparseToDense","int32"),o=_(t,"sparseValues","sparseToDense","string_or_numeric"),i=_(r,"defaultValue","sparseToDense",o.dtype);iF(s,o,n,i);const a={sparseIndices:s,sparseValues:o,defaultValue:i},l={outputShape:n};return j.runKernel(B$,a,l)}const lF=R({sparseToDense_:aF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uF(e,t){const n=_(t,"indices","gatherND","int32"),s={params:_(e,"x","gatherND","string_or_numeric"),indices:n};return j.runKernel(bN,s)}const cF=R({gatherND_:uF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fF(e,t){if(t==null)return e.shape.slice();if(Vr(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)t[r]==null&&e.shape[r]!=null?n.push(e.shape[r]):n.push(t[r]);return n}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dF(e,t,n,r){const s=_(e,"x","dropout");if(P(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),P(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return e instanceof ot?s.clone():s;const o=fF(s,n),i=1-t,a=Oe(yv(we(Y2(o,0,1,"float32",r),i)),i);return ue(s,a)}const hF=R({dropout_:dF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bv(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function J2(e,t,n){const r=1-e%2,s=new Float32Array(e);for(let o=0;o<e;++o){const i=2*Math.PI*o/(e+r-1);s[o]=t-n*Math.cos(i)}return Ot(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function pF(e,t,n=1){const r=_(e,"predictions","inTopK"),s=_(t,"targets","inTopK");P(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),P(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),Un(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];P(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const i=await r.data(),a=await s.data(),[l,u]=[i.length/o,o],c=sk("bool",l);for(let f=0;f<l;f++){const d=f*u,m=i.subarray(d,d+u),b=[];for(let x=0;x<m.length;x++)b.push({value:m[x],index:x});b.sort((x,N)=>N.value-x.value),c[f]=0;for(let x=0;x<n;x++)if(b[x].index===a[f]){c[f]=1;break}}return e!==r&&r.dispose(),t!==s&&s.dispose(),br(c,s.shape,"bool")}const mF=pF;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gF(e,t,n,r,s,o="NHWC",i){let a=e;e.rank===3&&(a=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=te(t,[1,t.shape[0],t.shape[1],t.shape[2]])),P(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),P(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),P(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?a.shape[3]:a.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];P(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),P(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),sr("conv2dDerFilter",s,i);const f={x:a,dy:l},d={strides:r,pad:s,dataFormat:o,dimRoundingMode:i,filterShape:n};return j.runKernel(Vk,f,d)}const yF=R({conv2DBackpropFilter_:gF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z2(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return ue(e,Rv(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function e3(e,t){let n=t;const r=nI(e.shape,t.shape);return r.length>0&&(n=Ge(n,r)),te(n,e.shape)}function t3(e,t,n,r){if(t==="linear")return e;if(t==="relu")return Ff(e);if(t==="elu")return pv(e);if(t==="relu6")return Ov(e);if(t==="prelu")return Av(e,n);if(t==="leakyrelu")return wv(e,r);if(t==="sigmoid")return yo(e);throw new Error(`Unknown fused activation ${t}.`)}const n3=(e,t)=>!(e>0)||t==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vF({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",n3(j.state.gradientDepth,l)===!1){P(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let L=Af(e,t,n,r,s,o,i);return a!=null&&(L=we(L,a)),t3(L,l,u,c)}const f=_(e,"x","conv2d","float32"),d=_(t,"filter","conv2d","float32");let m=f,b=!1;f.rank===3&&(b=!0,m=te(f,[1,f.shape[0],f.shape[1],f.shape[2]])),P(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),P(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),sr("fused conv2d",r,i);const x=s==="NHWC"?m.shape[3]:m.shape[1];P(d.shape[2]===x,()=>`Error in conv2d: depth of input (${x}) must match input depth for filter ${d.shape[2]}.`),P(zs(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const N=R2(m.shape,d.shape,n,o,r,i);let S;a!=null&&(S=_(a,"bias","fused conv2d"),[S]=lt(S,f),s==="NHWC"?St(N.outShape,S.shape):(P(S.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${S.shape.length}.`),P(S.shape.length===0||S.shape[0]===N.outChannels||S.shape[0]===1,()=>`Error in fused conv2d: bias shape (${S.shape}) is not compatible with the number of output channels (${N.outChannels})`)));let T;if(u!=null){const L=u.shape;if(P(L.length<=1||L.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${L.length}.`),L.length===1)P(L[0]===1||L[0]===N.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${L}) is not compatible with the number of output channels (${N.outChannels}).`);else if(L.length===3)try{St(L,N.outShape)}catch{const C=`Error in fused conv2d: PReLU activation weights (${L}) is not compatible with the output shape of the conv2d (${N.outShape}).`;throw Error(C)}T=_(u,"prelu weights","fused conv2d")}const k=(L,W)=>{P(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[C,V,K,X]=W,Q=Z2(L,K,l);P(Wc(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const B=dv(V.shape,Q,C,n,r),Y=yF(V,Q,C.shape,n,r),oe=[B,Y];if(X!=null){const de=e3(X,Q);oe.push(de)}return oe},A={x:m,filter:d,bias:S,preluActivationWeights:T},M={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?Kr((W,C,V)=>{let K=j.runKernel(b0,A,M);return V([C,W,K]),b&&(K=te(K,[K.shape[1],K.shape[2],K.shape[3]])),{value:K,gradFunc:k}})(m,d):Kr((W,C,V,K)=>{let X=j.runKernel(b0,A,M);return K([C,W,X,V]),b&&(X=te(X,[X.shape[1],X.shape[2],X.shape[3]])),{value:X,gradFunc:k}})(m,d,S)}const bF=R({fusedConv2d_:vF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wF(e,t,n,r,s,o=[1,1],i){let a=e;e.rank===3&&(a=te(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;l.rank===3&&(l=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:a,dy:l},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,filterShape:n};return j.runKernel(eN,u,c)}const SF=R({depthwiseConv2dNativeBackpropFilter_:wF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xF(e,t,n,r,s,o=[1,1],i){let a=t,l=!1;t.rank===3&&(l=!0,a=te(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:i,dilations:o,inputShape:e},f=j.runKernel(tN,u,c);return l?te(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const TF=R({depthwiseConv2dNativeBackpropInput_:xF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EF({x:e,filter:t,strides:n,pad:r,dataFormat:s="NHWC",dilations:o=[1,1],dimRoundingMode:i,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(n3(j.state.gradientDepth,l)===!1){let M=L2(e,t,n,r,s,o,i);return a!=null&&(M=we(M,a)),t3(M,l,u,c)}const f=_(e,"x","depthwiseConv2d","float32"),d=_(t,"filter","depthwiseConv2d","float32");let m=f,b=!1;f.rank===3&&(b=!0,m=te(f,[1,f.shape[0],f.shape[1],f.shape[2]])),P(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),P(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),P(m.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),o==null&&(o=[1,1]),P(zs(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),sr("fused depthwiseConv2d",r,i);const x=R2(m.shape,d.shape,n,o,r,i,!0);let N;a!=null&&(N=_(a,"bias","fused conv2d"),[N]=lt(N,f),St(x.outShape,N.shape));let S;u!=null&&(S=_(u,"prelu weights","fused depthwiseConv2d"));const T=(M,L)=>{P(Wc(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[W,C,V,K]=L,X=Z2(M,V,l),Q=TF(C.shape,X,W,n,r,o,i),B=SF(C,X,W.shape,n,r,o,i);if(K!=null){const Y=e3(N,X);return[Q,B,Y]}return[Q,B]},k={x:m,filter:d,bias:N,preluActivationWeights:S},A={strides:n,pad:r,dataFormat:s,dilations:o,dimRoundingMode:i,activation:l,leakyreluAlpha:c};return a==null?Kr((L,W,C)=>{let V=j.runKernel(w0,k,A);return C([W,L,V]),b&&(V=te(V,[V.shape[1],V.shape[2],V.shape[3]])),{value:V,gradFunc:T}})(m,d):Kr((L,W,C,V)=>{let K=j.runKernel(w0,k,A);return V([W,L,K,C]),b&&(K=te(K,[K.shape[1],K.shape[2],K.shape[3]])),{value:K,gradFunc:T}})(m,d,N)}const kF=R({fusedDepthwiseConv2d_:EF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NF({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:s,activation:o="linear",preluActivationWeights:i,leakyreluAlpha:a=.2}){if(n3(j.state.gradientDepth,o)===!1){let X=Ve(e,t,n,r);return s!=null&&(X=we(X,s)),t3(X,o,i,a)}let l=_(e,"a","fused matMul"),u=_(t,"b","fused matMul");[l,u]=lt(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],m=r?u.shape[u.rank-2]:u.shape[u.rank-1],b=l.shape.slice(0,-2),x=u.shape.slice(0,-2),N=ht(b),S=ht(x);P(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const k=St(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,m]),A=n?te(l,[N,c,d]):te(l,[N,d,c]),M=r?te(u,[S,m,f]):te(u,[S,f,m]);let L;s!=null&&(L=_(s,"bias","fused matMul"),[L]=lt(L,l),St(k,L.shape));let W;i!=null&&(W=_(i,"prelu weights","fused matMul"));const C=(X,Q)=>{const[B,Y,oe,de]=Q,ve=Z2(te(X,oe.shape),oe,o);let re,ce;if(!n&&!r?(re=Ve(ve,Y,!1,!0),ce=Ve(B,ve,!0,!1)):!n&&r?(re=Ve(ve,Y,!1,!1),ce=Ve(ve,B,!0,!1)):n&&!r?(re=Ve(Y,ve,!1,!0),ce=Ve(B,ve,!1,!1)):(re=Ve(Y,ve,!0,!0),ce=Ve(ve,B,!0,!0)),s!=null){const ge=e3(de,ve);return[re,ce,ge]}else return[re,ce]},V={a:A,b:M,bias:L,preluActivationWeights:W},K={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:a};return s==null?Kr((Q,B,Y)=>{const oe=j.runKernel(v0,V,K);return Y([Q,B,oe]),{value:te(oe,k),gradFunc:C}})(A,M):Kr((Q,B,Y,oe)=>{const de=j.runKernel(v0,V,K);return oe([Q,B,de,Y]),{value:te(de,k),gradFunc:C}})(A,M,L)}const $F=R({fusedMatMul_:NF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _F=Object.freeze(Object.defineProperty({__proto__:null,conv2d:bF,depthwiseConv2d:kF,matMul:$F},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CF(e){return J2(e,.54,.46)}const AF=R({hammingWindow_:CF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IF(e){return J2(e,.5,.5)}const Vv=R({hannWindow_:IF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PF(e,t,n,r=!1,s=0){let o=0;const i=[];for(;o+t<=e.size;)i.push($e(e,o,t)),o+=n;if(r)for(;o<e.size;){const a=o+t-e.size,l=$t([$e(e,o,t-a),Ml([a],s)]);i.push(l),o+=n}return i.length===0?_s([],[0,t]):te($t(i),[i.length,t])}const Uv=R({frame_:PF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OF(e,t,n,r,s=Vv){r==null&&(r=Bv(t));const o=Uv(e,t,n),i=ue(o,s(t));return Q2(i,r)}const DF=R({stft_:OF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FF(e,t,n,r,s="bilinear",o=0){const i=_(e,"image","cropAndResize"),a=_(t,"boxes","cropAndResize","float32"),l=_(n,"boxInd","cropAndResize","int32"),u=a.shape[0];P(i.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`),P(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${a.shape}.`),P(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${a.shape}.`),P(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),P(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),P(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:i,boxes:a,boxInd:l},f={method:s,extrapolationValue:o,cropSize:r};return j.runKernel(Xk,c,f)}const MF=R({cropAndResize_:FF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RF(e){const t=_(e,"image","flipLeftRight","float32");P(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);const n={image:t};return j.runKernel(pN,n,{})}const LF=R({flipLeftRight_:RF});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zF(e){const t=_(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];P(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),P(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(t.rank);return s.fill(1,0,n),s[n]=3,Ga(t,s)}const jF=R({grayscaleToRGB_:zF});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BF(e){const t=_(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];P(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),P(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=t.dtype,o=Ye(t,"float32"),i=Ot([.2989,.587,.114]);let a;switch(t.rank){case 2:a=ti("ij,j->i",o,i);break;case 3:a=ti("ijk,k->ij",o,i);break;case 4:a=ti("ijkl,l->ijk",o,i);break;case 5:a=ti("ijklm,m->ijkl",o,i);break;case 6:a=ti("ijklmn,n->ijklm",o,i);break;default:throw new Error("Not a valid tensor rank.")}return a=Rn(a,-1),Ye(a,s)}const VF=R({rgbToGrayscale_:BF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UF(e,t,n=0,r=.5){const s=_(e,"image","rotateWithOffset","float32");P(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const o={image:s},i={radians:t,fillValue:n,center:r};return j.runKernel(s_,o,i)}const WF=R({rotateWithOffset_:UF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qi(e,t,n,r,s,o){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),o==null&&(o=0);const i=e.shape[0];return n=Math.min(n,i),P(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),P(e.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),P(e.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),P(t.rank===1,()=>"scores must be a 1D tensor"),P(t.shape[0]===i,()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`),P(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HF(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=_(e,"boxes","nonMaxSuppression","float32"),i=_(t,"scores","nonMaxSuppression","float32"),a=qi(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return j.runKernel(QN,{boxes:o,scores:i},l)}const KF=R({nonMaxSuppression_:HF});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GF(e,t,n){const r=qF(e,t,n),s=r<0?-(r+1):r;e.splice(s,0,t)}function qF(e,t,n){return XF(e,t,n||YF)}function YF(e,t){return e>t?1:e<t?-1:0}function XF(e,t,n){let r=0,s=e.length,o=0,i=!1;for(;r<s;){o=r+(s-r>>>1);const a=n(t,e[o]);a>0?r=o+1:(s=o,i=!a)}return i?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QF(e,t,n,r,s){return r3(e,t,n,r,s,0)}function JF(e,t,n,r,s,o){return r3(e,t,n,r,s,0,!1,o,!0)}function ZF(e,t,n,r,s,o){return r3(e,t,n,r,s,o,!0)}function r3(e,t,n,r,s,o,i=!1,a=!1,l=!1){const u=[];for(let N=0;N<t.length;N++)t[N]>s&&u.push({score:t[N],boxIndex:N,suppressBeginIndex:0});u.sort(I0);const c=o>0?-.5/o:0,f=[],d=[];for(;f.length<n&&u.length>0;){const N=u.pop(),{score:S,boxIndex:T,suppressBeginIndex:k}=N;if(S<s)break;let A=!1;for(let M=f.length-1;M>=k;--M){const L=eM(e,T,f[M]);if(L>=r){A=!0;break}if(N.score=N.score*tM(r,c,L),N.score<=s)break}N.suppressBeginIndex=f.length,A||(N.score===S?(f.push(T),d.push(N.score)):N.score>s&&GF(u,N,I0))}const m=f.length,b=n-m;a&&b>0&&(f.push(...new Array(b).fill(0)),d.push(...new Array(b).fill(0)));const x={selectedIndices:f};return i&&(x.selectedScores=d),l&&(x.validOutputs=m),x}function eM(e,t,n){const r=e.subarray(t*4,t*4+4),s=e.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),m=(a-o)*(l-i),b=(f-u)*(d-c);if(m<=0||b<=0)return 0;const x=Math.max(o,u),N=Math.max(i,c),S=Math.min(a,f),T=Math.min(l,d),k=Math.max(S-x,0)*Math.max(T-N,0);return k/(m+b-k)}function tM(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function I0(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function nM(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY){const o=_(e,"boxes","nonMaxSuppressionAsync"),i=_(t,"scores","nonMaxSuppressionAsync"),a=qi(o,i,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([o.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:f}=QF(u,c,n,r,s);return o!==e&&o.dispose(),i!==t&&i.dispose(),Ot(f,"int32")}const rM=nM;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sM(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=_(e,"boxes","nonMaxSuppression"),a=_(t,"scores","nonMaxSuppression"),l=qi(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:i,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:o},f=j.runKernel(ZN,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const oM=R({nonMaxSuppressionWithScore_:sM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iM(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=0){const i=_(e,"boxes","nonMaxSuppressionAsync"),a=_(t,"scores","nonMaxSuppressionAsync"),l=qi(i,a,n,r,s,o);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([i.data(),a.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:m}=ZF(c,f,n,r,s,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:Ot(d,"int32"),selectedScores:Ot(m)}}const aM=iM;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lM(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=_(e,"boxes","nonMaxSuppression"),a=_(t,"scores","nonMaxSuppression"),l=qi(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:i,scores:a},m={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:o},b=j.runKernel(JN,d,m);return{selectedIndices:b[0],validOutputs:b[1]}}const uM=R({nonMaxSuppressionPadded_:lM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function cM(e,t,n,r=.5,s=Number.NEGATIVE_INFINITY,o=!1){const i=_(e,"boxes","nonMaxSuppressionAsync"),a=_(t,"scores","nonMaxSuppressionAsync"),l=qi(i,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,m]=await Promise.all([i.data(),a.data()]),{selectedIndices:b,validOutputs:x}=JF(d,m,u,c,f,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),{selectedIndices:Ot(b,"int32"),validOutputs:ze(x,"int32")}}const fM=cM;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dM(e,t,n=!1,r=!1){const s=_(e,"images","resizeBilinear");P(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),P(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),P(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=te(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=j.runKernel(g$,a,l);return i?te(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const hM=R({resizeBilinear_:dM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pM(e,t,n=!1,r=!1){const s=_(e,"images","resizeNearestNeighbor");P(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),P(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),P(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),P(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=s,i=!1;s.rank===3&&(i=!0,o=te(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},u=j.runKernel(m$,a,l);return i?te(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const mM=R({resizeNearestNeighbor_:pM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gM(e,t="binary",n=!1,r=.5){const s=_(e,"image","threshold"),o=.2989,i=.587,a=.114,l=s.shape[0]*s.shape[1];let u=ue(Ot([r]),255),c,f,d,m;if(P(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),P(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),P(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),P(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),s.shape[2]===3){[c,f,d]=Tl(s,[1,1,1],-1);const N=ue(c,o),S=ue(f,i),T=ue(d,a);m=we(we(N,S),T)}else m=e;if(t==="otsu"){const N=cv(Ye(Dv(m),"int32"),br([]),256);u=yM(N,l)}const b=n?z2(m,u):Of(m,u);return Ye(ue(b,255),"int32")}function yM(e,t){let n=Ot([-1]),r=Ot([0]),s=Ot([0]),o,i,a,l,u,c;for(let f=0;f<e.size-1;f++){o=$e(e,0,f+1),i=$e(e,f+1),u=Oe(Ge(o),t),c=Oe(Ge(i),t);const d=Ge(ue(o,Sl(0,o.size)));a=Oe(d,Ge(o));const m=Ml(i.shape,o.size),b=we(Sl(0,i.size),m),x=ue(i,b);l=Oe(Ge(x),Ge(i));const N=_e(a,l),S=_e(a,l),T=ue(u,c);s=ue(ue(T,N),S);const k=Of(s,r);r=$s(k,s,r),n=$s(k,Ot([f]),n)}return n}const vM=R({threshold_:gM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bM(e,t,n="nearest",r="constant",s=0,o){const i=_(e,"image","transform","float32"),a=_(t,"transforms","transform","float32");P(i.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`),P(a.rank===2&&(a.shape[0]===i.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),P(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:i,transforms:a},u={interpolation:n,fillMode:r,fillValue:s,outputShape:o};return j.runKernel(J$,l,u)}const wM=R({transform_:bM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SM(e,t,n){const r=_(e,"a","bandPart");P(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[o,i]=r.shape.slice(-2);let a,l;typeof t=="number"?(P(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),P(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),a=_(t<0?o:t,"numLower","bandPart")):(P(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=$s(Mh(t,0),o,Gc(t,o))),typeof n=="number"?(P(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),P(n<=i,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`),l=_(n<0?i:n,"numUpper","bandPart")):(P(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=$s(Mh(n,0),i,Gc(n,i)));const u=te(Sl(0,o,1,"int32"),[-1,1]),c=Sl(0,i,1,"int32"),f=_e(u,c),d=Hc(z2(f,a),bv(f,wr(l))),m=zi([o,i],r.dtype);return te(Gr(Lo(te(r,[-1,o,i])).map(b=>$s(d,b,m))),s)}const xM=R({bandPart_:SM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TM(e){let t;if(Array.isArray(e)){t=!1,P(e!=null&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=e[0].shape[0];for(let o=1;o<e.length;++o)P(e[o].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[o].shape[0]} vs. ${s})`)}else t=!0,e=Tl(e,e.shape[0],0).map(s=>yt(s,[0]));P(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let s=0;s<e.length;++s)n.push(j.tidy(()=>{let o=r[s];if(s>0)for(let i=0;i<s;++i){const a=ue(Ge(ue(n[i],o)),n[i]);o=_e(o,a)}return Oe(o,Pf(o,"euclidean"))}));return t?Gr(n,0):n}const EM=R({gramSchmidt_:TM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kM(e,t=!1){if(P(e.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`),e.rank===2)return P0(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((l,u)=>l*u),r=Lo(te(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),s=[],o=[];r.forEach(l=>{const[u,c]=P0(l,t);s.push(u),o.push(c)});const i=te(Gr(s,0),e.shape),a=te(Gr(o,0),e.shape);return[i,a]}}function P0(e,t=!1){return j.tidy(()=>{P(e.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let s=gv(n),o=Ns(e);const i=_s([[1]],[1,1]);let a=Ns(i);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=o,f=a,d=s;[a,o,s]=j.tidy(()=>{const m=$e(o,[u,u],[n-u,1]),b=Pf(m),x=$e(o,[u,u],[1,1]),N=$s(Of(x,0),_s([[-1]]),_s([[1]])),S=_e(x,ue(N,b)),T=Oe(m,S);T.shape[0]===1?a=Ns(i):a=$t([i,$e(T,[1,0],[T.shape[0]-1,T.shape[1]])],0);const k=wr(Oe(Ve(N,S),b)),A=$e(o,[u,0],[n-u,r]),M=ue(k,a),L=Rh(a);if(u===0)o=_e(A,Ve(M,Ve(L,A)));else{const V=_e(A,Ve(M,Ve(L,A)));o=$t([$e(o,[0,0],[u,r]),V],0)}const W=Rh(M),C=$e(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=_e(C,Ve(Ve(C,a),W));else{const V=_e(C,Ve(Ve(C,a),W));s=$t([$e(s,[0,0],[n,u]),V],1)}return[a,o,s]}),nt([c,f,d])}return!t&&n>r&&(s=$e(s,[0,0],[n,r]),o=$e(o,[0,0],[r,r])),[s,o]})}const NM=R({qr_:kM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var qt;(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(qt||(qt={}));function $M(e,t,n=qt.SUM_BY_NONZERO_WEIGHTS){const r=_(e,"losses","computeWeightedLoss");let s=null;t!=null&&(s=_(t,"weights","computeWeightedLoss"));const o=s==null?r:ue(r,s);if(n===qt.NONE)return o;if(n===qt.SUM)return Ge(o);if(n===qt.MEAN){if(s==null)return Kc(o);{const i=r.size/s.size,a=Oe(Ge(o),Ge(s));return i>1?Oe(a,ze(i)):a}}if(n===qt.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Oe(Ge(o),ze(r.size));{const i=ue(s,fo(r.shape)),a=Ye(Ge(_v(i,ze(0))),"float32");return Oe(Ge(o),a)}}throw Error(`Unknown reduction: ${n}`)}const Qr=R({computeWeightedLoss_:$M});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _M(e,t,n,r=qt.SUM_BY_NONZERO_WEIGHTS){const s=_(e,"labels","absoluteDifference"),o=_(t,"predictions","absoluteDifference");let i=null;n!=null&&(i=_(n,"weights","absoluteDifference")),Un(s.shape,o.shape,"Error in absoluteDifference: ");const a=xn(_e(s,o));return Qr(a,i,r)}const CM=R({absoluteDifference_:_M});function AM(e,t,n,r,s=qt.SUM_BY_NONZERO_WEIGHTS){const o=_(e,"labels","cosineDistance"),i=_(t,"predictions","cosineDistance");let a=null;r!=null&&(a=_(r,"weights","cosineDistance")),Un(o.shape,i.shape,"Error in cosineDistance: ");const l=ze(1),u=_e(l,Ge(ue(o,i),n,!0));return Qr(u,a,s)}const IM=R({cosineDistance_:AM});function PM(e,t,n,r=qt.SUM_BY_NONZERO_WEIGHTS){let s=_(e,"labels","hingeLoss");const o=_(t,"predictions","hingeLoss");let i=null;n!=null&&(i=_(n,"weights","hingeLoss")),Un(s.shape,o.shape,"Error in hingeLoss: ");const a=ze(1);s=_e(ue(ze(2),s),a);const l=Ff(_e(a,ue(s,o)));return Qr(l,i,r)}const OM=R({hingeLoss_:PM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DM(e,t,n,r=1,s=qt.SUM_BY_NONZERO_WEIGHTS){const o=_(e,"labels","huberLoss"),i=_(t,"predictions","huberLoss");let a=null;n!=null&&(a=_(n,"weights","huberLoss")),Un(o.shape,i.shape,"Error in huberLoss: ");const l=ze(r),u=xn(_e(i,o)),c=Gc(u,l),f=_e(u,c),d=we(ue(ze(.5),er(c)),ue(l,f));return Qr(d,a,s)}const FM=R({huberLoss_:DM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MM(e,t,n,r=1e-7,s=qt.SUM_BY_NONZERO_WEIGHTS){const o=_(e,"labels","logLoss"),i=_(t,"predictions","logLoss");let a=null;n!=null&&(a=_(n,"weights","logLoss")),Un(o.shape,i.shape,"Error in logLoss: ");const l=ze(1),u=ze(r),c=wr(ue(o,wl(we(i,u)))),f=ue(_e(l,o),wl(we(_e(l,i),u))),d=_e(c,f);return Qr(d,a,s)}const RM=R({logLoss_:MM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LM(e,t,n,r=qt.SUM_BY_NONZERO_WEIGHTS){const s=_(e,"labels","meanSquaredError"),o=_(t,"predictions","meanSquaredError");let i=null;n!=null&&(i=_(n,"weights","meanSquaredError")),Un(s.shape,o.shape,"Error in meanSquaredError: ");const a=Mv(s,o);return Qr(a,i,r)}const zM=R({meanSquaredError_:LM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jM(e,t){const n=_(e,"labels","sigmoidCrossEntropyWithLogits"),r=_(t,"logits","sigmoidCrossEntropyWithLogits");Un(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Ff(r),o=ue(r,n),i=Sv(Hr(wr(xn(r))));return we(_e(s,o),i)}function BM(e,t,n,r=0,s=qt.SUM_BY_NONZERO_WEIGHTS){let o=_(e,"multiClassLabels","sigmoidCrossEntropy");const i=_(t,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=_(n,"weights","sigmoidCrossEntropy")),Un(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=ze(r),c=ze(1),f=ze(.5);o=we(ue(o,_e(c,u)),ue(f,u))}const l=jM(o,i);return Qr(l,a,s)}const VM=R({sigmoidCrossEntropy_:BM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UM(e,t,n=-1){if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);return Kr((s,o,i)=>{const l=Tv(o,[n],!0),u=_e(Ye(o,"float32"),l);i([s,u]);const c=wr(ue(u,s));return{value:Ge(c,[n]),gradFunc:(m,b)=>{const[x,N]=b,S=If(m.shape,[n]);return[ue(te(m,S),_e(Ye(x,"float32"),Hr(N))),ue(te(m,S),_e(Hr(N),Ye(x,"float32")))]}}})(e,t)}function WM(e,t,n,r=0,s=qt.SUM_BY_NONZERO_WEIGHTS){let o=_(e,"onehotLabels","softmaxCrossEntropy");const i=_(t,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=_(n,"weights","softmaxCrossEntropy")),Un(o.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const u=ze(r),c=ze(1),f=ze(o.shape[1]);o=we(ue(o,_e(c,u)),Oe(u,f))}const l=UM(o,i);return Qr(l,a,s)}const HM=R({softmaxCrossEntropy_:WM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KM(e,t,n,r){const s=_(e,"indices","sparseFillEmptyRows","int32"),o=_(t,"values","sparseFillEmptyRows"),i=_(n,"denseShape","sparseFillEmptyRows","int32"),a=_(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(i.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:o,denseShape:i,defaultValue:a},u=j.runKernel(R$,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const GM=R({sparseFillEmptyRows_:KM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qM(e,t,n){const r=_(e,"inputIndices","sparseReshape","int32"),s=_(t,"inputShape","sparseReshape","int32"),o=_(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const i={inputIndices:r,inputShape:s,newShape:o},a=j.runKernel(L$,i);return{outputIndices:a[0],outputShape:a[1]}}const YM=R({sparseReshape_:qM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XM(e,t,n){const r=_(e,"data","sparseSegmentMean"),s=_(t,"indices","sparseSegmentMean","int32"),o=_(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return j.runKernel(z$,i)}const QM=R({sparseSegmentMean_:XM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JM(e,t,n){const r=_(e,"data","sparseSegmentSum"),s=_(t,"indices","sparseSegmentSum","int32"),o=_(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const i={data:r,indices:s,segmentIds:o};return j.runKernel(j$,i)}const ZM=R({sparseSegmentSum_:JM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eR(e,t,n,r,s,o,i,a){const l=_(e,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=_(t,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:o,padWidth:i,preserveShortSequences:a},f={data:l,dataSplits:u},d=j.runKernel(H$,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}const tR=R({stringNGrams_:eR});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nR(e,t,n=!0){const r=_(e,"input","stringSplit","string"),s=_(t,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const o={skipEmpty:n},i={input:r,delimiter:s},a=j.runKernel(K$,i,o);return{indices:a[0],values:a[1],shape:a[2]}}const rR=R({stringSplit_:nR});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sR(e,t){const n=_(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return j.runKernel(G$,s,r)}const oR=R({stringToHashBucketFast_:sR});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iR(e,t,n,r=!0){const s=_(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:r};return j.runKernel(U$,{x:s},o)}const aR=R({staticRegexReplace_:iR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lR={fft:X2,ifft:qc,rfft:Q2,irfft:Fv},uR={hammingWindow:AF,hannWindow:Vv,frame:Uv,stft:DF},Yi={flipLeftRight:LF,grayscaleToRGB:jF,resizeNearestNeighbor:mM,resizeBilinear:hM,rgbToGrayscale:VF,rotateWithOffset:WF,cropAndResize:MF,nonMaxSuppression:KF,nonMaxSuppressionAsync:rM,nonMaxSuppressionWithScore:oM,nonMaxSuppressionWithScoreAsync:aM,nonMaxSuppressionPadded:uM,nonMaxSuppressionPaddedAsync:fM,threshold:vM,transform:wM},cR={bandPart:xM,gramSchmidt:EM,qr:NM},fR={absoluteDifference:CM,computeWeightedLoss:Qr,cosineDistance:IM,hingeLoss:OM,huberLoss:FM,logLoss:RM,meanSquaredError:zM,sigmoidCrossEntropy:VM,softmaxCrossEntropy:HM},dR={sparseFillEmptyRows:GM,sparseReshape:YM,sparseSegmentMean:QM,sparseSegmentSum:ZM},hR={stringNGrams:tR,stringSplit:rR,stringToHashBucketFast:oR,staticRegexReplace:aR};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pR=new Map,mR=new Map;class gR{getClassName(){return this.constructor.className}static fromConfig(t,n){return new t(n)}}class to{constructor(){this.classNameMap={}}static getMap(){return to.instance==null&&(to.instance=new to),to.instance}static register(t){to.getMap().classNameMap[t.className]=[t,t.fromConfig]}}function yR(e,t,n){P(e.className!=null,()=>"Class being registered does not have the static className property defined."),P(typeof e.className=="string",()=>"className is required to be a string, but got type "+typeof e.className),P(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof n>"u"&&(n=e.className);const r=n,s=t+">"+r;return to.register(e),pR.set(s,e),mR.set(e,s),e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zo extends gR{minimize(t,n=!1,r){const{value:s,grads:o}=this.computeGradients(t,r);if(r!=null){const i=r.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(i)}else this.applyGradients(o);return nt(o),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,n){return QI(t,n)}dispose(){this.iterations_!=null&&nt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ze(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(t){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(t){return this.iterations_=(await t[0].tensor.data())[0],t.slice(1)}}Object.defineProperty(zo,Symbol.hasInstance,{value:e=>e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vR extends zo{static get className(){return"Adadelta"}constructor(t,n,r=null){super(),this.learningRate=t,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=j.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=j.registeredVariables[r],i=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:Ie(()=>Nn(o).variable(i))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:Ie(()=>Nn(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;Ie(()=>{const c=we(ue(l,this.rho),ue(er(a),1-this.rho)),f=ue(Oe(Wr(we(u,this.epsilon)),Wr(we(l,this.epsilon))),a),d=we(ue(u,this.rho),ue(er(f),1-this.rho));l.assign(c),u.assign(d);const m=we(ue(f,-this.learningRate),o);o.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(nt(this.accumulatedGrads.map(t=>t.variable)),nt(this.accumulatedUpdates.map(t=>t.variable)))}async getWeights(){const t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=t.length/2,r=!1;this.accumulatedGrads=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bR extends zo{static get className(){return"Adagrad"}constructor(t,n=.1){super(),this.learningRate=t,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=j.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:Ie(()=>Ml(o.shape,this.initialAccumulatorValue).variable(!1))});const i=Array.isArray(t)?t[s].tensor:t[r];if(i==null)return;const a=this.accumulatedGrads[s].variable;Ie(()=>{const l=we(a,er(i));a.assign(l);const u=we(ue(Oe(i,Wr(we(l,j.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&nt(this.accumulatedGrads.map(t=>t.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulatedGrads=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,n){return new t(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wR extends zo{static get className(){return"Adam"}constructor(t,n,r,s=null){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ie(()=>{this.accBeta1=ze(n).variable(),this.accBeta2=ze(r).variable()}),s==null&&(this.epsilon=j.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Ie(()=>{const r=_e(1,this.accBeta1),s=_e(1,this.accBeta2);n.forEach((o,i)=>{const a=j.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Ie(()=>Nn(a).variable(l))}),this.accumulatedSecondMoment[i]==null&&(this.accumulatedSecondMoment[i]={originalName:`${o}/v`,variable:Ie(()=>Nn(a).variable(l))});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedSecondMoment[i].variable,d=we(ue(c,this.beta1),ue(u,1-this.beta1)),m=we(ue(f,this.beta2),ue(er(u),1-this.beta2)),b=Oe(d,r),x=Oe(m,s);c.assign(d),f.assign(m);const N=we(ue(Oe(b,we(Wr(x),this.epsilon)),-this.learningRate),a);a.assign(N)}),this.accBeta1.assign(ue(this.accBeta1,this.beta1)),this.accBeta2.assign(ue(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&nt(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&nt(this.accumulatedSecondMoment.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t),Ie(()=>{this.accBeta1.assign(bl(this.beta1,this.iterations_+1)),this.accBeta2.assign(bl(this.beta2,this.iterations_+1))});const n=t.length/2,r=!1;this.accumulatedFirstMoment=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SR extends zo{static get className(){return"Adamax"}constructor(t,n,r,s=null,o=0){super(),this.learningRate=t,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ie(()=>{this.iteration=ze(0).variable(),this.accBeta1=ze(n).variable()}),s==null&&(this.epsilon=j.backend.epsilon())}applyGradients(t){const n=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);Ie(()=>{const r=_e(1,this.accBeta1),s=Oe(-this.learningRate,we(ue(this.iteration,this.decay),1));n.forEach((o,i)=>{const a=j.registeredVariables[o],l=!1;this.accumulatedFirstMoment[i]==null&&(this.accumulatedFirstMoment[i]={originalName:`${o}/m`,variable:Nn(a).variable(l)}),this.accumulatedWeightedInfNorm[i]==null&&(this.accumulatedWeightedInfNorm[i]={originalName:`${o}/v`,variable:Nn(a).variable(l)});const u=Array.isArray(t)?t[i].tensor:t[o];if(u==null)return;const c=this.accumulatedFirstMoment[i].variable,f=this.accumulatedWeightedInfNorm[i].variable,d=we(ue(c,this.beta1),ue(u,1-this.beta1)),m=ue(f,this.beta2),b=xn(u),x=$v(m,b);c.assign(d),f.assign(x);const N=we(ue(Oe(s,r),Oe(d,we(x,this.epsilon))),a);a.assign(N)}),this.iteration.assign(we(this.iteration,1)),this.accBeta1.assign(ue(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&nt(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&nt(this.accumulatedWeightedInfNorm.map(t=>t.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(t){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wv extends zo{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=Array.isArray(t)?t[s].tensor:t[r];if(o==null)return;const i=j.registeredVariables[r];Ie(()=>{const a=we(ue(this.c,o),i);i.assign(a)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=pr(ze(-t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(t){if(t=await this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,n){return new t(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xR extends Wv{static get className(){return"Momentum"}constructor(t,n,r=!1){super(t),this.learningRate=t,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=ze(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=j.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:Ie(()=>Nn(o).variable(!1))});const i=this.accumulations[s].variable,a=Array.isArray(t)?t[s].tensor:t[r];a!=null&&Ie(()=>{let l;const u=we(ue(this.m,i),a);this.useNesterov?l=we(ue(this.c,we(a,ue(u,this.m))),o):l=we(ue(this.c,u),o),i.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&nt(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=!1;this.accumulations=t.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TR extends zo{static get className(){return"RMSProp"}constructor(t,n=.9,r=0,s=null,o=!1){if(super(),this.learningRate=t,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,s==null&&(this.epsilon=j.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(r=>r.name):Object.keys(t)).forEach((r,s)=>{const o=j.registeredVariables[r],i=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:Ie(()=>Nn(o).variable(i))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:Ie(()=>Nn(o).variable(i))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:Ie(()=>Nn(o).variable(i))});const a=Array.isArray(t)?t[s].tensor:t[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;Ie(()=>{const c=we(ue(l,this.decay),ue(er(a),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,d=we(ue(f,this.decay),ue(a,1-this.decay)),m=Oe(ue(a,this.learningRate),Wr(_e(c,we(er(d),this.epsilon)))),b=we(ue(u,this.momentum),m);l.assign(c),f.assign(d),u.assign(b);const x=_e(o,b);o.assign(x)}else{const f=we(ue(l,this.decay),ue(er(a),1-this.decay)),d=we(ue(u,this.momentum),Oe(ue(a,this.learningRate),Wr(we(f,this.epsilon))));l.assign(f),u.assign(d);const m=_e(o,d);o.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&nt(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&nt(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&nt(this.accumulatedMoments.map(t=>t.variable))}async getWeights(){const t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(t.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(t){t=await this.extractIterations(t);const n=this.centered?t.length/3:t.length/2,r=!1;this.accumulatedMeanSquares=t.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=t.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=t.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ER=[vR,bR,wR,SR,xR,TR,Wv];function kR(){for(const e of ER)yR(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NR="model",$R=".json",_R=".weights.bin";function O0(e){return new Promise(t=>setTimeout(t)).then(e)}class Ao{constructor(t){if(!De().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(Ao.URL_SCHEME)&&(t=t.slice(Ao.URL_SCHEME.length)),(t==null||t.length===0)&&(t=NR),this.modelJsonFileName=t+$R,this.weightDataFileName=t+_R}async save(t){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=rr.join(t.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o=Q5(t,s),i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=i,await O0(()=>a.dispatchEvent(new MouseEvent("click"))),t.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await O0(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Fl(t)}}}}Ao.URL_SCHEME="downloads://";class CR{constructor(t){if(t==null||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}async load(){return new Promise((t,n)=>{const r=new FileReader;r.onload=s=>{const o=JSON.parse(s.target.result),i=o.modelTopology;if(i==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){t({modelTopology:i});return}const l=M2(o,u=>this.loadWeights(u));t(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(t){const n=[],r=[];for(const i of t)n.push(...i.weights),r.push(...i.paths);const s=this.checkManifestAndWeightFiles(t),o=r.map(i=>this.loadWeightsFile(i,s[i]));return Promise.all(o).then(i=>[n,i])}loadWeightsFile(t,n){return new Promise((r,s)=>{const o=new FileReader;o.onload=i=>{const a=i.target.result;r(a)},o.onerror=i=>s(`Failed to weights data from file of path '${t}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(t){const n=[],r=this.weightsFiles.map(o=>A0(o.name)),s={};for(const o of t)o.paths.forEach(i=>{const a=A0(i);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[i]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const AR=e=>De().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ao.URL_SCHEME)?IR(e.slice(Ao.URL_SCHEME.length)):null;et.registerSaveRouter(AR);function IR(e="model"){return new Ao(e)}function PR(e){return new CR(e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D0(e,t,n,r){i(e),n=n??0,r=r??1,a(n,r);let s=0;const o=l=>(l.then(u=>{const c=n+ ++s/e.length*(r-n);return t(c),u}),l);function i(l){P(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,u){P(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),P(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),P(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(e.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Hv(e,t){t==null&&(t={});const n=t.fetchFunc==null?De().platform.fetch:t.fetchFunc,r=e.map(f=>n(f,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?await Promise.all(r):await D0(r,t.onProgress,0,.5)).map(f=>f.arrayBuffer());return t.onProgress==null?await Promise.all(a):await D0(a,t.onProgress,.5,1)}function OR(e,t){var n;const r=t.fetchFunc==null?De().platform.fetch:t.fetchFunc;let s=0,o;return(n=t.onProgress)===null||n===void 0||n.call(t,0),new ReadableStream({pull:async i=>{for(var a;s<e.length;){o||(o=(await r(e[s],t.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await o.read();if(l){s++,o=void 0,(a=t.onProgress)===null||a===void 0||a.call(t,s/e.length);continue}i.enqueue(u);return}i.close()}})}async function DR(e,t="",n,r){return Kv(i=>Hv(i,{requestInit:r}))(e,t,n)}function Kv(e){return async(t,n="",r)=>{const s=t.map(()=>!1),o={},i=r!=null?r.map(()=>!1):[],a=[];if(t.forEach((m,b)=>{let x=0;m.weights.forEach(N=>{const S="quantization"in N?N.quantization.dtype:N.dtype,T=No[S]*ht(N.shape),k=()=>{s[b]=!0,o[b]==null&&(o[b]=[]),o[b].push({manifestEntry:N,groupOffset:x,sizeBytes:T})};r!=null?r.forEach((A,M)=>{A===N.name&&(k(),i[M]=!0)}):k(),a.push(N.name),x+=T})}),!i.every(m=>m)){const m=r.filter((b,x)=>!i[x]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((m,b,x)=>(b&&m.push(x),m),[]),u=[];l.forEach(m=>{t[m].paths.forEach(b=>{const x=n+(n.endsWith("/")?"":"/")+b;u.push(x)})});const c=await e(u),f={};let d=0;return l.forEach(m=>{const b=t[m].paths.length,x=new rr(c.slice(d,d+b));o[m].forEach(S=>{const T=x.slice(S.groupOffset,S.groupOffset+S.sizeBytes),k=q5(T,[S.manifestEntry]);for(const A in k)f[A]=k[A]}),d+=b}),f}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FR="application/octet-stream",MR="application/json";class s3{constructor(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(P(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=De().platform.fetch,P(t!=null&&t.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(t)&&P(t.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${t.length}).`),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],s=Q5(t,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:MR}),"model.json"),t.weightData!=null){const i=rr.join(t.weightData);n.body.append("model.weights.bin",new Blob([i],{type:FR}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Fl(t),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async loadModelJSON(){const t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw new Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await t.json()}catch{let i=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?i+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":i+=" Please make sure the server is serving valid JSON for this request.",new Error(i)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const t=await this.loadModelJSON();return M2(t,n=>this.loadWeights(n))}async loadStream(){const t=await this.loadModelJSON(),n=await this.getWeightUrls(t.weightsManifest),r=Ch(t.weightsManifest),s=()=>OR(n,this.loadOptions);return Object.assign(Object.assign({},t),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(t){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=RR(n),o=this.weightPathPrefix||r,i=[],a=[];for(const l of t)for(const u of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(u)):i.push(o+u+s);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(t){const n=await this.getWeightUrls(t),r=Ch(t),s=await Hv(n,this.loadOptions);return[r,s]}}s3.URL_SCHEME_REGEX=/^https?:\/\//;function RR(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),s=n>t?e.substring(n):"";return[r+"/",s]}function Lh(e){return e.match(s3.URL_SCHEME_REGEX)!=null}const Gv=(e,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let n=!0;if(Array.isArray(e)?n=e.every(r=>Lh(r)):n=Lh(e),n)return o3(e,t)}return null};et.registerSaveRouter(Gv);et.registerLoadRouter(Gv);function o3(e,t){return new s3(e,t)}function LR(e,t){return o3(e,t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zd{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}}class qv{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}}class zR{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=n=>Promise.resolve(t.save(n)))}}function jR(e,t,n,r){const s=arguments;return new zR(Yv(...s))}function Yv(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new zd(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new zd({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new zd({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function BR(e){return new qv(e)}function VR(e){return new qv(e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xv=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:rr,browserFiles:PR,browserHTTPRequest:LR,concatenateArrayBuffers:F_,copyModel:rC,decodeWeights:q5,decodeWeightsStream:X5,encodeWeights:C_,fromMemory:jR,fromMemorySync:Yv,getLoadHandlers:U_,getModelArtifactsForJSON:M2,getModelArtifactsForJSONSync:J5,getModelArtifactsInfoForJSON:Fl,getSaveHandlers:V_,getWeightSpecs:Ch,http:o3,isHTTPScheme:Lh,listModels:tC,loadWeights:DR,moveModel:sC,registerLoadRouter:B_,registerSaveRouter:j_,removeModel:nC,weightsLoaderFactory:Kv,withSaveHandler:BR,withSaveHandlerSync:VR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Xs;function UR(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)o=!0;else if(e.getContext!=null)i=!0;else if(typeof ImageBitmap<"u"&&e instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);if(Th(y0,j.backendName)!=null){const b={pixels:e},x={numChannels:t};return j.runKernel(y0,b,x)}const[u,c]=s?[e.videoWidth,e.videoHeight]:[e.width,e.height];let f;if(i)f=e.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)f=e.data;else if(o||s||a){if(Xs==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Xs=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Xs=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Xs.canvas.width=u,Xs.canvas.height=c,Xs.drawImage(e,0,0,u,c),f=Xs.getImageData(0,0,u,c).data}let d;if(t===4)d=new Int32Array(f);else{const b=u*c;d=new Int32Array(b*t);for(let x=0;x<b;x++)for(let N=0;N<t;++N)d[x*t+N]=f[x*4+N]}return Lv(d,[c,u,t],"int32")}function WR(e){if(e.rank!==2&&e.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=e.rank===2?1:e.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(e.dtype!=="float32"&&e.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function Qv(e,t){let n=_(e,"img","toPixels");if(!(e instanceof ot)){const u=n;n=Ye(u,"int32"),u.dispose()}WR(n);const[r,s]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],i=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const c=[0,0,0,255];for(let d=0;d<o;d++){const m=i[u*o+d];if(n.dtype==="float32"){if(m<0||m>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${m}.`)}else if(n.dtype==="int32"&&(m<0||m>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${m}.`);o===1?(c[0]=m*a,c[1]=m*a,c[2]=m*a):c[d]=m*a}const f=u*4;l[f+0]=Math.round(c[0]),l[f+1]=Math.round(c[1]),l[f+2]=Math.round(c[2]),l[f+3]=Math.round(c[3])}return n!==e&&n.dispose(),l}const Jv=R({fromPixels_:UR});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */kR();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HR=De();HR.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var an;(function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"})(an||(an={}));var F0;(function(e){(function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"})(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))})(F0||(F0={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KR={};function Zv(e){return KR[e]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g(e,t,n,r,s){const o=t.inputParams[e];if(o&&o.inputIndexStart!==void 0){const a=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?a+1:o.inputIndexEnd,u=a<0?t.inputNames.length+a:a;if(o.type==="tensor")return kt(t.inputNames[u],n,r,s);if(o.type==="tensors"){const d=t.inputs.slice(a,l);return t.inputNames.slice(a,l).filter((b,x)=>{var N;return((N=d[x])===null||N===void 0?void 0:N.op)!=="NoOp"}).map(b=>kt(b,n,r,s))}const c=kt(t.inputNames[u],n,r,s),f=c.dataSync();return o.type==="number"?f[0]:xh(c.shape,f)}const i=t.attrParams[e];return i&&i.value}function kt(e,t,n,r){const[s,o]=ln(e,n);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const i=n.currentContextIds.find(a=>!!t[Yc(s,a)]);return i!==void 0?t[Yc(s,i)][o]:void 0}function M0(e,t,n){return t[Yc(e,n.currentContextId)]}function Cr(e,t){const[n,r,s]=ln(e,t);return[Yc(n,t&&t.currentContextId),r,s]}function Yc(e,t){return t?`${e}-${t}`:e}function ln(e,t){if(e==="")return["",0,void 0];const n=t!=null&&t.parseNodeNameCache!=null;if(n){const o=t.parseNodeNameCache.get(e);if(o!=null)return o}const r=e.split(":");let s;if(r.length===1)s=[e,0,void 0];else{const o=r[0],i=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);s=[o,a,i]}return n&&t.parseNodeNameCache.set(e,s),s}function ec(e,t,n){let r=g("pad",e,t,n);if(r==="explicit"){r=g("explicitPaddings",e,t,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)s[o][0]=r[o*2],s[o][1]=r[o*2+1];return s}return r}function Ar(e){return e.kept?e:Ns(e)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GR=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],qR=Object.freeze(Object.defineProperty({__proto__:null,json:GR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YR=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],XR=Object.freeze(Object.defineProperty({__proto__:null,json:YR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QR=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],JR=Object.freeze(Object.defineProperty({__proto__:null,json:QR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZR=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],eL=Object.freeze(Object.defineProperty({__proto__:null,json:ZR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tL=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],nL=Object.freeze(Object.defineProperty({__proto__:null,json:tL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rL=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],sL=Object.freeze(Object.defineProperty({__proto__:null,json:rL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oL=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],iL=Object.freeze(Object.defineProperty({__proto__:null,json:oL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aL=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],lL=Object.freeze(Object.defineProperty({__proto__:null,json:aL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uL=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],cL=Object.freeze(Object.defineProperty({__proto__:null,json:uL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fL=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],dL=Object.freeze(Object.defineProperty({__proto__:null,json:fL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hL=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],pL=Object.freeze(Object.defineProperty({__proto__:null,json:hL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mL=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],gL=Object.freeze(Object.defineProperty({__proto__:null,json:mL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yL=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],vL=Object.freeze(Object.defineProperty({__proto__:null,json:yL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bL=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],wL=Object.freeze(Object.defineProperty({__proto__:null,json:bL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SL=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],xL=Object.freeze(Object.defineProperty({__proto__:null,json:SL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TL=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],EL=Object.freeze(Object.defineProperty({__proto__:null,json:TL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kL=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],NL=Object.freeze(Object.defineProperty({__proto__:null,json:kL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $L=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],_L=Object.freeze(Object.defineProperty({__proto__:null,json:$L},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CL=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],AL=Object.freeze(Object.defineProperty({__proto__:null,json:CL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R0{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const t=[qR,XR,JR,eL,nL,sL,iL,lL,cL,dL,pL,gL,vL,wL,xL,EL,NL,_L,AL],n=[].concat(...t.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(t,n={}){const r=t.node,s=[],o=[],i=[],a=r.reduce((x,N)=>(x[N.name]=this.mapNode(N),N.op.startsWith("Placeholder")?s.push(x[N.name]):N.op==="Const"?o.push(x[N.name]):(N.input==null||N.input.length===0)&&i.push(x[N.name]),x),{});let l=[];const u=[];let c={},f={};n!=null&&(c=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));const d=Object.keys(a);d.forEach(x=>{const N=a[x];N.inputNames.forEach((S,T)=>{const[k,,A]=Cr(S),M=a[k];if(M.outputs!=null){const L=M.outputs.indexOf(A);if(L!==-1){const W=`${k}:${L}`;N.inputNames[T]=W}}N.inputs.push(M),M.children.push(N)})}),Object.keys(f).length===0?d.forEach(x=>{const N=a[x];N.children.length===0&&u.push(N)}):Object.keys(f).forEach(x=>{const[N]=Cr(x),S=a[N];S!=null&&(S.signatureKey=f[x],u.push(S))}),Object.keys(c).length>0?Object.keys(c).forEach(x=>{const[N]=Cr(x),S=a[N];S&&(S.signatureKey=c[x],l.push(S))}):l=s;let m={};t.library!=null&&t.library.function!=null&&(m=t.library.function.reduce((x,N)=>(x[N.signature.name]=this.mapFunction(N),x),{}));const b={nodes:a,inputs:l,outputs:u,weights:o,placeholders:s,signature:n,functions:m};return i.length>0&&(b.initNodes=i),b}mapSignatureEntries(t){return Object.keys(t||{}).reduce((n,r)=>(n[t[r].name]=r,n),{})}mapNode(t){const n=Zv(t.op)||this.opMappers[t.op]||{};t.attr==null&&(t.attr={});const r={name:t.name,op:t.op,category:n.category,inputNames:(t.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,o)=>(s[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,o)=>{const i=o.type;let a;switch(o.type){case"string":a=zh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=zh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":a=Kh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Kh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":a=Bh(t.attr,o.tfName,o.defaultValue||0),a===void 0&&o.tfDeprecatedName&&(a=Bh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":a=Hh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Hh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":a=jh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=jh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":a=qh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=qh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":a=Wh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Wh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":a=Gh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Gh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":a=Vh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Vh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":a=Uh(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=Uh(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":a=L0(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=L0(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${t.op}`)}return s[o.name]={value:a,type:i},s},{})),r}mapFunction(t){const n=t.nodeDef,r=[],s=[];let o={};n!=null&&(o=n.reduce((f,d)=>(f[d.name]=this.mapNode(d),d.op==="Const"&&s.push(f[d.name]),f),{}));const i=[],a=[];t.signature.inputArg.forEach(f=>{const[d]=Cr(f.name),m={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:i3(f.type),type:"dtype"}},children:[]};m.signatureKey=f.name,i.push(m),o[d]=m}),Object.keys(o).forEach(f=>{const d=o[f];d.inputNames.forEach((m,b)=>{const[x,,N]=Cr(m),S=o[x];if(S.outputs!=null){const T=S.outputs.indexOf(N);if(T!==-1){const k=`${x}:${T}`;d.inputNames[b]=k}}d.inputs.push(S),S.children.push(d)})});const u=t.ret;t.signature.outputArg.forEach(f=>{const[d,m]=Cr(u[f.name]),b=o[d];b!=null&&(b.defaultOutput=m,a.push(b))});const c=this.mapArgsToSignature(t);return{nodes:o,inputs:i,outputs:a,weights:s,placeholders:r,signature:c}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:t.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,t.ret),n),{})}}mapArgToTensorInfo(t,n){let r=t.name;return n!=null&&(r=n[r]),{name:r,dtype:t.type}}}function IL(e){const t=De().global;if(typeof t.atob<"u")return t.atob(e);if(typeof Buffer<"u")return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function e7(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):IL(e);return t?n:n.toLowerCase()}function zh(e,t,n,r=!1){const s=e[t];return s!=null?e7(s.s,r):n}function jh(e,t,n){const r=e[t];return r?r.b:n}function Bh(e,t,n){const r=e[t]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function i3(e){switch(typeof e=="string"&&(e=an[e]),e){case an.DT_FLOAT:case an.DT_HALF:return"float32";case an.DT_INT32:case an.DT_INT64:case an.DT_INT8:case an.DT_UINT8:return"int32";case an.DT_BOOL:return"bool";case an.DT_DOUBLE:return"float32";case an.DT_STRING:return"string";case an.DT_COMPLEX64:case an.DT_COMPLEX128:return"complex64";default:return null}}function L0(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function Vh(e,t,n){const r=e[t];return r&&r.type?i3(r.type):n}function Uh(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map(s=>i3(s)):n}function t7(e){if(!e.unknownRank)return e.dim!=null?e.dim.map(t=>typeof t.size=="number"?t.size:parseInt(t.size,10)):[]}function Wh(e,t,n){const r=e[t];return r&&r.shape?t7(r.shape):n}function Hh(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function Kh(e,t,n,r=!1){const s=e[t];return s&&s.list&&s.list.s?s.list.s.map(o=>e7(o,r)):n}function Gh(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(s=>t7(s)):n}function qh(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PL{constructor(t,n,r){this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(s=>this.getInput(s)),t.rawAttrs!=null&&(this.attrs=Object.keys(t.rawAttrs).reduce((s,o)=>(s[o]=this.getAttr(o),s),{}))}getInput(t){return kt(t,this.tensorMap,this.context)}getAttr(t,n){const r=this.node.rawAttrs[t];if(r.tensor!=null)return kt(t,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return Bh(this.node.rawAttrs,t,n);if(r.s!=null)return zh(this.node.rawAttrs,t,n);if(r.b!=null)return jh(this.node.rawAttrs,t,n);if(r.shape!=null)return Wh(this.node.rawAttrs,t,n);if(r.type!=null)return Vh(this.node.rawAttrs,t,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return Hh(this.node.rawAttrs,t,n);if(r.list.s!=null)return Kh(this.node.rawAttrs,t,n);if(r.list.shape!=null)return Gh(this.node.rawAttrs,t,n);if(r.list.b!=null)return qh(this.node.rawAttrs,t,n);if(r.list.type!=null)return Uh(this.node.rawAttrs,t,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _t=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:G5,abs:xn,acos:yC,acosh:bC,add:we,addN:SC,all:TC,any:kC,argMax:$C,argMin:CC,asin:IC,asinh:OC,atan:FC,atan2:RC,atanh:zC,avgPool:lv,avgPool3d:GC,basicLSTMCell:eA,batchNorm:Cf,batchNorm2d:oA,batchNorm3d:aA,batchNorm4d:uA,batchToSpaceND:uv,bincount:cv,bitwiseAnd:dA,booleanMaskAsync:eF,broadcastArgs:pA,broadcastTo:Zu,buffer:Ur,cast:Ye,ceil:yA,clipByValue:fv,clone:Ns,complex:Is,concat:$t,concat1d:wA,concat2d:xA,concat3d:EA,concat4d:NA,conv1d:CA,conv2d:Af,conv2dTranspose:PA,conv3d:DA,conv3dTranspose:LA,cos:jA,cosh:VA,cosineWindow:J2,cumprod:WA,cumsum:KA,denseBincount:qA,depthToSpace:XA,depthwiseConv2d:L2,diag:ZA,dilation2d:tI,div:Oe,divNoNan:aI,dot:uI,dropout:hF,einsum:ti,elu:pv,enclosingPowerOfTwo:Bv,ensureShape:hI,equal:hv,erf:mI,euclideanNorm:kI,exp:Hr,expandDims:Rn,expm1:CI,eye:gv,fft:X2,fill:Ml,floor:yv,floorDiv:av,fused:_F,gather:vv,gatherND:cF,greater:Of,greaterEqual:bv,ifft:qc,imag:Df,image:Yi,inTopKAsync:mF,irfft:Fv,isFinite:LI,isInf:jI,isNaN:VI,leakyRelu:wv,less:Mh,lessEqual:z2,linalg:cR,linspace:KI,localResponseNormalization:qI,log:wl,log1p:Sv,logSigmoid:tP,logSoftmax:sP,logSumExp:Tv,logicalAnd:Hc,logicalNot:Ev,logicalOr:kv,logicalXor:cP,losses:fR,lowerBound:dP,matMul:Ve,max:ki,maxPool:Nv,maxPool3d:mP,maxPoolWithArgmax:yP,maximum:$v,mean:Kc,meshgrid:wP,min:Fh,minimum:Gc,mirrorPad:TP,mod:kP,moments:$P,movingAverage:rF,mul:ue,multiRNNCell:CP,multinomial:IP,neg:wr,norm:Pf,notEqual:_v,oneHot:DP,ones:fo,onesLike:MP,op:R,outerProduct:LP,pad:Rl,pad1d:BP,pad2d:UP,pad3d:HP,pad4d:GP,pool:JP,pow:bl,prelu:Av,print:iv,prod:tO,raggedGather:rO,raggedRange:oO,raggedTensorToTensor:aO,rand:uO,randomGamma:CO,randomNormal:Pv,randomStandardNormal:PO,randomUniform:Y2,randomUniformInt:FO,range:Sl,real:xl,reciprocal:LO,relu:Ff,relu6:Ov,reshape:te,reverse:Co,reverse1d:UO,reverse2d:HO,reverse3d:GO,reverse4d:YO,rfft:Q2,round:Dv,rsqrt:JO,scalar:ze,scatterND:oF,searchSorted:j2,selu:eD,separableConv2d:nD,setdiff1dAsync:sD,sigmoid:yo,sign:iD,signal:uR,sin:lD,sinh:cD,slice:$e,slice1d:dD,slice2d:pD,slice3d:gD,slice4d:vD,softmax:wD,softplus:xv,spaceToBatchND:Cv,sparse:dR,sparseToDense:lF,spectral:lR,split:Tl,sqrt:Wr,square:er,squaredDifference:Mv,squeeze:yt,stack:Gr,step:Rv,stridedSlice:ID,string:hR,sub:_e,sum:Ge,tan:OD,tanh:Dh,tensor:br,tensor1d:Ot,tensor2d:_s,tensor3d:Lv,tensor4d:DD,tensor5d:FD,tensor6d:MD,tensorScatterUpdate:zD,tile:Ga,topk:BD,transpose:Rh,truncatedNormal:UD,unique:HD,unsortedSegmentSum:GD,unstack:Lo,upperBound:YD,variable:XD,where:$s,whereAsync:jv,zeros:zi,zerosLike:Nn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OL=(e,t,n,r=_t)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(g("a",e,t,n),g("b",e,t,n))];case"AddN":return[r.addN(g("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(g("a",e,t,n),g("b",e,t,n))];case"Mul":return[r.mul(g("a",e,t,n),g("b",e,t,n))];case"RealDiv":case"Div":return[r.div(g("a",e,t,n),g("b",e,t,n))];case"DivNoNan":return[r.divNoNan(g("a",e,t,n),g("b",e,t,n))];case"FloorDiv":return[r.floorDiv(g("a",e,t,n),g("b",e,t,n))];case"Sub":return[r.sub(g("a",e,t,n),g("b",e,t,n))];case"Minimum":return[r.minimum(g("a",e,t,n),g("b",e,t,n))];case"Maximum":return[r.maximum(g("a",e,t,n),g("b",e,t,n))];case"Pow":return[r.pow(g("a",e,t,n),g("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(g("a",e,t,n),g("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DL=(e,t,n,r=_t)=>{switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(g("x",e,t,n))];case"Acos":return[r.acos(g("x",e,t,n))];case"Acosh":return[r.acosh(g("x",e,t,n))];case"Asin":return[r.asin(g("x",e,t,n))];case"Asinh":return[r.asinh(g("x",e,t,n))];case"Atan":return[r.atan(g("x",e,t,n))];case"Atan2":return[r.atan2(g("x",e,t,n),g("y",e,t,n))];case"Atanh":return[r.atanh(g("x",e,t,n))];case"Ceil":return[r.ceil(g("x",e,t,n))];case"Complex":return[r.complex(g("real",e,t,n),g("imag",e,t,n))];case"Cos":return[r.cos(g("x",e,t,n))];case"Cosh":return[r.cosh(g("x",e,t,n))];case"Elu":return[r.elu(g("x",e,t,n))];case"Erf":return[r.erf(g("x",e,t,n))];case"Exp":return[r.exp(g("x",e,t,n))];case"Expm1":return[r.expm1(g("x",e,t,n))];case"Floor":return[r.floor(g("x",e,t,n))];case"Log":return[r.log(g("x",e,t,n))];case"Log1p":return[r.log1p(g("x",e,t,n))];case"Imag":return[r.imag(g("x",e,t,n))];case"Neg":return[r.neg(g("x",e,t,n))];case"Reciprocal":return[r.reciprocal(g("x",e,t,n))];case"Real":return[r.real(g("x",e,t,n))];case"Relu":return[r.relu(g("x",e,t,n))];case"Round":return[r.round(g("x",e,t,n))];case"Selu":return[r.selu(g("x",e,t,n))];case"Sigmoid":return[r.sigmoid(g("x",e,t,n))];case"Sin":return[r.sin(g("x",e,t,n))];case"Sign":return[r.sign(g("x",e,t,n))];case"Sinh":return[r.sinh(g("x",e,t,n))];case"Softplus":return[r.softplus(g("x",e,t,n))];case"Sqrt":return[r.sqrt(g("x",e,t,n))];case"Square":return[r.square(g("x",e,t,n))];case"Tanh":return[r.tanh(g("x",e,t,n))];case"Tan":return[r.tan(g("x",e,t,n))];case"ClipByValue":return[r.clipByValue(g("x",e,t,n),g("clipValueMin",e,t,n),g("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(g("x",e,t,n))];case"Rsqrt":return[r.rsqrt(kt(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(g("x",e,t,n),g("alpha",e,t,n))];case"Prelu":return[r.prelu(g("x",e,t,n),g("alpha",e,t,n))];case"IsNan":return[r.isNaN(kt(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(kt(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(kt(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function On(e,t,n=""){if(!(typeof e=="number"||typeof t=="number")){P(e.length===t.length,()=>n+` Shapes ${e} and ${t} must match`);for(let r=0;r<e.length;r++){const s=e[r],o=t[r];P(s<0||o<0||s===o,()=>n+` Shapes ${e} and ${t} must match`)}}}function z0(e){return!(typeof e=="number"||e.some(t=>t<0))}function Na(e,t,n){let r=Yh(e,n);const s=!z0(r);if(s&&t.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&t.forEach(o=>{r=Yh(o.shape,r)}),!z0(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function Yh(e,t){if(typeof e=="number")return t;if(typeof t=="number")return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const s=e[r],o=t[r];if(s>=0&&o>=0&&s!==o)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=s>=0?s:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FL{constructor(t,n,r,s,o,i,a){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=ze(0),pr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(n=>{(t==null||!t.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);const n=this.tensors[t];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(t){return t.map(n=>this.read(n))}write(t,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[t]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),On(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);r.tensor=n,pr(n),r.written=!0,this.tensors[t]=r}writeMany(t,n){if(t.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${n.length}.`);t.forEach((r,s)=>this.write(r,n[s]))}gather(t,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(t)t=t.slice(0,this.size());else{t=[];for(let s=0;s<this.size();s++)t.push(s)}if(t.length===0)return br([],[0].concat(this.elementShape));const r=this.readMany(t);return On(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Gr(r,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(this.size()===0)return br([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return On(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),$t(r,0)}scatter(t,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(t.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${n.shape[0]}`);const r=Math.max(...t);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(t,Lo(n,0))}split(t,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=t.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);const o=r===0?0:n.size/r,i=[];Ie(()=>{n=te(n,[1,r,o]);for(let l=0;l<t.length;++l){const c=[0,l===0?0:s[l-1],0],f=[1,t[l],o];i[l]=te($e(n,c,f),this.elementShape)}return i});const a=[];for(let l=0;l<t.length;l++)a[l]=l;this.writeMany(a,i)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Io{get id(){return this.idTensor.id}constructor(t,n,r,s=-1){this.tensors=t,this.elementShape=n,this.elementDtype=r,t!=null&&t.forEach(o=>{if(r!==o.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${o.dtype}`);On(n,o.shape,"TensorList shape mismatch: "),pr(o)}),this.idTensor=ze(0),this.maxNumElements=s,pr(this.idTensor)}copy(){return new Io([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(n=>{(t==null||!t.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);On(t,this.elementShape,"TensorList shape mismatch: ");const s=Na(this.elementShape,this.tensors,t);return Ie(()=>{const o=this.tensors.map(i=>te(i,s));return Gr(o,0)})}popBack(t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Na(this.elementShape,this.tensors,t),s=this.tensors.pop();return s.kept=!1,On(s.shape,t,"TensorList shape mismatch: "),te(s,r)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(On(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");pr(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(this.maxNumElements!==-1&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);const n=new Io([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(let r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}getItem(t,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(this.tensors[t]==null)throw new Error(`element at index ${t} is null.`);On(this.tensors[t].shape,n,"TensorList shape mismatch: ");const s=Na(this.elementShape,this.tensors,n);return te(this.tensors[t],s)}setItem(t,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(t<0||this.maxNumElements!==-1&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);On(this.elementShape,n.shape,"TensorList shape mismatch: "),pr(n),this.tensors[t]!=null&&(this.tensors[t].kept=!1),this.tensors[t]=n}gather(t,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);On(this.elementShape,r,"TensorList shape mismatch: "),t=t.slice(0,this.size());const s=Na(this.elementShape,this.tensors,r);return t.length===0?br([],[0].concat(s)):Ie(()=>{const o=t.map(i=>te(this.tensors[i],s));return Gr(o,0)})}concat(t,n){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);On(this.elementShape,n,"TensorList shape mismatch: ");const r=Na(this.elementShape,this.tensors,n);return this.size()===0?br([],[0].concat(r)):Ie(()=>{const s=this.tensors.map(o=>te(o,r));return $t(s,0)})}}function ML(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);const s=e.shape.slice(1);On(s,t,"TensorList shape mismatch: ");const o=Lo(e);return new Io(o,t,r)}function RL(e,t,n,r){return new Io([],e,t,r)}function LL(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const s=Math.max(...t);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const o=new Io([],n,e.dtype,r),i=Lo(e,0);return t.forEach((a,l)=>{o.setItem(a,i[l])}),o}function zL(e,t,n){let r=0;const s=t.map(c=>(r+=c,r));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${e.shape}`);const o=e.shape.slice(1),i=Yh(o,n),a=r===0?0:e.size/r,l=Ie(()=>{const c=[];e=te(e,[1,r,a]);for(let f=0;f<t.length;++f){const m=[0,f===0?0:s[f-1],0],b=[1,t[f],a];c[f]=te($e(e,m,b),i)}return e.dispose(),c}),u=new Io([],n,e.dtype,t.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jL=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=g("thenBranch",e,t,n),s=g("elseBranch",e,t,n),o=g("cond",e,t,n),i=g("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=g("body",e,t,n),s=g("cond",e,t,n),o=g("args",e,t,n),i=await n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),a=o.map(c=>c.id);let l=await i[0].data();i.forEach(c=>{!c.kept&&a.indexOf(c.id)===-1&&c.dispose()});let u=o;for(;l[0];){const c=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const f=u.map(m=>m.id);c.forEach(m=>{!m.kept&&a.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()});const d=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await d[0].data(),d.forEach(m=>{!m.kept&&a.indexOf(m.id)===-1&&f.indexOf(m.id)===-1&&m.dispose()})}return u}case"LoopCond":{const r=g("pred",e,t,n);return[Ar(r)]}case"Switch":{const r=g("pred",e,t,n);let s=g("data",e,t,n);return s.kept||(s=Ar(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=e.inputNames.find(s=>kt(s,t,n)!==void 0);if(r){const s=kt(r,t,n);return[Ar(s)]}return}case"Enter":{const r=g("frameName",e,t,n),s=g("tensor",e,t,n);return n.enterFrame(r),[Ar(s)]}case"Exit":{const r=g("tensor",e,t,n);return n.exitFrame(),[Ar(r)]}case"NextIteration":{const r=g("tensor",e,t,n);return n.nextIteration(),[Ar(r)]}case"TensorArrayV3":{const r=g("size",e,t,n),s=g("dtype",e,t,n),o=g("elementShape",e,t,n),i=g("dynamicSize",e,t,n),a=g("clearAfterRead",e,t,n),l=g("identicalElementShapes",e,t,n),u=g("name",e,t,n),c=new FL(u,s,r,o,l,i,a);return n.addTensorArray(c),[c.idTensor,ze(1)]}case"TensorArrayWriteV3":{const r=g("tensorArrayId",e,t,n),s=g("index",e,t,n),o=g("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(s,o),[i.idTensor]}case"TensorArrayReadV3":{const r=g("tensorArrayId",e,t,n),s=g("index",e,t,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=g("tensorArrayId",e,t,n),s=g("indices",e,t,n),o=g("dtype",e,t,n);return[n.getTensorArray(r.id).gather(s,o)]}case"TensorArrayScatterV3":{const r=g("tensorArrayId",e,t,n),s=g("indices",e,t,n),o=g("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(s,o),[i.idTensor]}case"TensorArrayConcatV3":{const r=g("tensorArrayId",e,t,n),s=n.getTensorArray(r.id),o=g("dtype",e,t,n);return[s.concat(o)]}case"TensorArraySplitV3":{const r=g("tensorArrayId",e,t,n),s=g("tensor",e,t,n),o=g("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(o,s),[i.idTensor]}case"TensorArraySizeV3":{const r=g("tensorArrayId",e,t,n),s=n.getTensorArray(r.id);return[ze(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=g("tensorArrayId",e,t,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=g("tensorListId",e,t,n),s=g("index",e,t,n),o=g("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(s,o),[i.idTensor]}case"TensorListGetItem":{const r=g("tensorListId",e,t,n),s=g("index",e,t,n),o=g("elementShape",e,t,n),i=g("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(s,o,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=g("indices",e,t,n),s=g("tensor",e,t,n),o=g("elementShape",e,t,n),i=g("numElements",e,t,n),a=LL(s,r,o,i);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=g("elementShape",e,t,n),s=g("elementDType",e,t,n);let o;e.op==="TensorListReserve"?o="numElements":o="maxNumElements";const i=g(o,e,t,n),a=e.op==="TensorListReserve"?-1:i,l=RL(r,s,i,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=g("tensorListId",e,t,n),s=g("indices",e,t,n),o=g("elementShape",e,t,n),i=g("elementDType",e,t,n);return[n.getTensorList(r.id).gather(s,i,o)]}case"TensorListStack":{const r=g("tensorListId",e,t,n),s=g("elementShape",e,t,n),o=g("elementDType",e,t,n),i=g("numElements",e,t,n);return[n.getTensorList(r.id).stack(s,o,i)]}case"TensorListFromTensor":{const r=g("tensor",e,t,n),s=g("elementShape",e,t,n),o=g("elementDType",e,t,n),i=ML(r,s,o);return n.addTensorList(i),[i.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=g("tensorListId",e,t,n),s=n.getTensorList(r.id),o=g("dtype",e,t,n),i=g("elementShape",e,t,n);return[s.concat(o,i)]}case"TensorListPushBack":{const r=g("tensorListId",e,t,n),s=g("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(s),[o.idTensor]}case"TensorListPopBack":{const r=g("tensorListId",e,t,n),s=g("elementShape",e,t,n),o=g("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(s,o)]}case"TensorListSplit":{const r=g("tensor",e,t,n),s=g("elementShape",e,t,n),o=g("lengths",e,t,n),i=zL(r,o,s);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=g("tensorListId",e,t,n),s=n.getTensorList(r.id);return[ze(s.size(),"int32")]}case"TensorListResize":{const r=g("tensorListId",e,t,n),s=g("size",e,t,n),i=n.getTensorList(r.id).resize(s);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j0(e,t,n){const[r,s]=g("fusedOps",e,t,n),o=r==="biasadd",i=!o,a=s==="prelu",l=r==="fusedbatchnorm",u=g("numArgs",e,t,n);if(o){if(a&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&o&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=g("strides",e,t,n),f=ec(e,t,n),d=g("dataFormat",e,t,n).toUpperCase(),m=g("dilations",e,t,n);let[b,x]=g("args",e,t,n);i&&(x=b,b=void 0);const N=g("leakyreluAlpha",e,t,n);return{stride:c,pad:f,dataFormat:d,dilations:m,biasArg:b,preluArg:x,activationFunc:s,leakyreluAlpha:N}}const BL=(e,t,n,r=_t)=>{switch(e.op){case"Conv1D":{const s=g("stride",e,t,n),o=g("pad",e,t,n),i=g("dataFormat",e,t,n).toUpperCase(),a=g("dilation",e,t,n);return[r.conv1d(g("x",e,t,n),g("filter",e,t,n),s,o,i,a)]}case"Conv2D":{const s=g("strides",e,t,n),o=ec(e,t,n),i=g("dataFormat",e,t,n).toUpperCase(),a=g("dilations",e,t,n);return[r.conv2d(g("x",e,t,n),g("filter",e,t,n),[s[1],s[2]],o,i,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:o,dataFormat:i,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=j0(e,t,n);return[r.fused.conv2d({x:g("x",e,t,n),filter:g("filter",e,t,n),strides:[s[1],s[2]],pad:o,dataFormat:i,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:o,dataFormat:i,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=j0(e,t,n);return[r.fused.depthwiseConv2d({x:g("x",e,t,n),filter:g("filter",e,t,n),strides:[s[1],s[2]],pad:o,dataFormat:i,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=g("outputShape",e,t,n),o=g("strides",e,t,n),i=ec(e,t,n);return[r.conv2dTranspose(g("x",e,t,n),g("filter",e,t,n),s,[o[1],o[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=g("strides",e,t,n),o=ec(e,t,n),i=g("dilations",e,t,n),a=g("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(g("input",e,t,n),g("filter",e,t,n),[s[1],s[2]],o,a,[i[1],i[2]])]}case"Conv3D":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("dataFormat",e,t,n).toUpperCase(),a=g("dilations",e,t,n);return[r.conv3d(g("x",e,t,n),g("filter",e,t,n),[s[1],s[2],s[3]],o,i,[a[1],a[2],a[3]])]}case"AvgPool":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("kernelSize",e,t,n);return[r.avgPool(g("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o)]}case"MaxPool":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("kernelSize",e,t,n);return[r.maxPool(g("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o)]}case"MaxPoolWithArgmax":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("kernelSize",e,t,n),a=g("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(g("x",e,t,n),[i[1],i[2]],[s[1],s[2]],o,a);return[l,u]}case"AvgPool3D":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("kernelSize",e,t,n);return[r.avgPool3d(g("x",e,t,n),[i[1],i[2],i[3]],[s[1],s[2],s[3]],o)]}case"MaxPool3D":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("kernelSize",e,t,n);return[r.maxPool3d(g("x",e,t,n),[i[1],i[2],i[3]],[s[1],s[2],s[3]],o)]}case"Dilation2D":{const s=g("strides",e,t,n),o=g("pad",e,t,n),i=g("dilations",e,t,n),a=s[1],l=s[2],u=i[1],c=i[2];return[r.dilation2d(g("x",e,t,n),g("filter",e,t,n),[a,l],o,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VL=(e,t,n,r=_t)=>{switch(e.op){case"Fill":{const s=g("shape",e,t,n),o=g("dtype",e,t,n),i=g("value",e,t,n);return[r.fill(s,i,o)]}case"LinSpace":{const s=g("start",e,t,n),o=g("stop",e,t,n),i=g("num",e,t,n);return[r.linspace(s,o,i)]}case"Multinomial":{const s=g("logits",e,t,n),o=g("numSamples",e,t,n),i=g("seed",e,t,n);return[r.multinomial(s,o,i)]}case"OneHot":{const s=g("indices",e,t,n),o=g("depth",e,t,n),i=g("onValue",e,t,n),a=g("offValue",e,t,n),l=g("dtype",e,t,n);return[r.oneHot(s,o,i,a,l)]}case"Ones":return[r.ones(g("shape",e,t,n),g("dtype",e,t,n))];case"OnesLike":return[r.onesLike(g("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(g("shape",e,t,n),g("dtype",e,t,n),g("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(g("shape",e,t,n),g("minval",e,t,n),g("maxval",e,t,n),g("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(g("shape",e,t,n),g("minval",e,t,n),g("maxval",e,t,n),g("seed",e,t,n))];case"Range":{const s=g("start",e,t,n),o=g("stop",e,t,n),i=g("step",e,t,n);return[r.range(s,o,i,g("dtype",e,t,n))]}case"TruncatedNormal":{const s=g("shape",e,t,n),o=g("mean",e,t,n),i=g("stdDev",e,t,n),a=g("seed",e,t,n);return[r.truncatedNormal(s,o,i,g("dtype",e,t,n),a)]}case"Zeros":return[r.zeros(g("shape",e,t,n),g("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(g("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jd(e,t,n){const r=g("boxes",e,t,n),s=g("scores",e,t,n),o=g("maxOutputSize",e,t,n),i=g("iouThreshold",e,t,n),a=g("scoreThreshold",e,t,n),l=g("softNmsSigma",e,t,n);return{boxes:r,scores:s,maxOutputSize:o,iouThreshold:i,scoreThreshold:a,softNmsSigma:l}}const UL=async(e,t,n,r,s=_t)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=jd(e,t,n),f=await s.image.nonMaxSuppressionWithScoreAsync(o,i,a,l,u,c);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=jd(e,t,n),c=g("padToMaxOutputSize",e,t,n),f=await s.image.nonMaxSuppressionPaddedAsync(o,i,a,l,u,c);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:i,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=jd(e,t,n);return[await s.image.nonMaxSuppressionAsync(o,i,a,l,u)]}case"Where":{const o=s.cast(g("condition",e,t,n),"bool"),i=[await s.whereAsync(o)];return o.dispose(),i}case"ListDiff":return s.setdiff1dAsync(g("x",e,t,n),g("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WL=(e,t,n,r=_t)=>{switch(e.op){case"LowerBound":{const s=g("sortedSequence",e,t,n),o=g("values",e,t,n);return[r.lowerBound(s,o)]}case"TopKV2":{const s=g("x",e,t,n),o=g("k",e,t,n),i=g("sorted",e,t,n),a=r.topk(s,o,i);return[a.values,a.indices]}case"UpperBound":{const s=g("sortedSequence",e,t,n),o=g("values",e,t,n);return[r.upperBound(s,o)]}case"Unique":{const s=g("x",e,t,n),o=r.unique(s);return[o.values,o.indices]}case"UniqueV2":{const s=g("x",e,t,n),o=g("axis",e,t,n),i=r.unique(s,o);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HL=(e,t,n,r=_t)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const s=g("default",e,t,n);return[kt(e.name,t,n)||s];case"Placeholder":return[kt(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=g("x",e,t,n);return[Ar(c)]}case"IdentityN":return g("x",e,t,n).map(c=>Ar(c));case"Snapshot":const o=g("x",e,t,n);return[Ar(o)];case"Shape":return[r.tensor1d(g("x",e,t,n).shape,"int32")];case"ShapeN":return g("x",e,t,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(g("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(g("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=g("x",e,t,n),a=g("data",e,t,n),l=g("message",e,t,n),u=g("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<a.length;c++)console.log(Array.prototype.slice.call(a[c].dataSync()).slice(0,u));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KL{get id(){return this.handle.id}constructor(t,n){this.keyDType=t,this.valueDType=n,this.handle=ze(0),this.tensorMap=new Map,pr(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ze(this.size(),"int32")}async import(t,n){this.checkKeyAndValueTensor(t,n);const r=await t.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),Ie(()=>{const s=Lo(n),o=r.length,i=s.length;P(o===i,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${i} elements.`);for(let a=0;a<o;a++){const l=r[a],u=s[a];pr(u),this.tensorMap.set(l,u)}return this.handle})}async find(t,n){this.checkKeyAndValueTensor(t,n);const r=await t.data();return Ie(()=>{const s=[];for(let o=0;o<r.length;o++){const i=r[o],a=this.findWithDefault(i,n);s.push(a)}return Gr(s)})}findWithDefault(t,n){const r=this.tensorMap.get(t);return r??n}checkKeyAndValueTensor(t,n){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GL=async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(e.name);if(s!=null)return[s];{const o=g("keyDType",e,t,n),i=g("valueDType",e,t,n),a=new KL(o,i);return r.addHashTable(e.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=g("tableHandle",e,t,n,r),o=g("keys",e,t,n),i=g("values",e,t,n);return[await r.getHashTableById(s.id).import(o,i)]}case"LookupTableFind":case"LookupTableFindV2":{const s=g("tableHandle",e,t,n,r),o=g("keys",e,t,n),i=g("defaultValue",e,t,n);return[await r.getHashTableById(s.id).find(o,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=g("tableHandle",e,t,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qL=(e,t,n,r=_t)=>{switch(e.op){case"ResizeBilinear":{const s=g("images",e,t,n),o=g("size",e,t,n),i=g("alignCorners",e,t,n),a=g("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(s,[o[0],o[1]],i,a)]}case"ResizeNearestNeighbor":{const s=g("images",e,t,n),o=g("size",e,t,n),i=g("alignCorners",e,t,n),a=g("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(s,[o[0],o[1]],i,a)]}case"CropAndResize":{const s=g("image",e,t,n),o=g("boxes",e,t,n),i=g("boxInd",e,t,n),a=g("cropSize",e,t,n),l=g("method",e,t,n),u=g("extrapolationValue",e,t,n);return[r.image.cropAndResize(s,o,i,a,l,u)]}case"ImageProjectiveTransformV3":{const s=g("images",e,t,n),o=g("transforms",e,t,n),i=g("outputShape",e,t,n),a=g("fillValue",e,t,n),l=g("interpolation",e,t,n),u=g("fillMode",e,t,n);return[r.image.transform(s,o,l.toLowerCase(),u.toLowerCase(),a,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YL=(e,t,n,r=_t)=>{switch(e.op){case"Equal":return[r.equal(g("a",e,t,n),g("b",e,t,n))];case"NotEqual":return[r.notEqual(g("a",e,t,n),g("b",e,t,n))];case"Greater":return[r.greater(g("a",e,t,n),g("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(g("a",e,t,n),g("b",e,t,n))];case"Less":return[r.less(g("a",e,t,n),g("b",e,t,n))];case"LessEqual":return[r.lessEqual(g("a",e,t,n),g("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(g("a",e,t,n),g("b",e,t,n))];case"LogicalNot":return[r.logicalNot(g("a",e,t,n))];case"LogicalOr":return[r.logicalOr(g("a",e,t,n),g("b",e,t,n))];case"Select":case"SelectV2":return[r.where(g("condition",e,t,n),g("a",e,t,n),g("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(g("a",e,t,n),g("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XL=(e,t,n,r=_t)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(g("a",e,t,n),g("b",e,t,n),g("transposeA",e,t,n),g("transposeB",e,t,n))];case"Einsum":return[r.einsum(g("equation",e,t,n),...g("tensors",e,t,n))];case"Transpose":return[r.transpose(g("x",e,t,n),g("perm",e,t,n))];case"_FusedMatMul":const[s,o]=g("fusedOps",e,t,n),i=s==="biasadd",a=o==="prelu",l=g("numArgs",e,t,n),u=g("leakyreluAlpha",e,t,n);if(i){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,f]=g("args",e,t,n);return[r.fused.matMul({a:g("a",e,t,n),b:g("b",e,t,n),transposeA:g("transposeA",e,t,n),transposeB:g("transposeB",e,t,n),bias:c,activation:o,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(g("a",e,t,n),g("numLower",e,t,n),g("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QL=(e,t,n,r=_t)=>{switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(g("x",e,t,n),g("axis",e,t,n),g("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(g("x",e,t,n),g("mean",e,t,n),g("variance",e,t,n),g("offset",e,t,n),g("scale",e,t,n),g("epsilon",e,t,n))];case"FusedBatchNormV3":return[r.batchNorm(g("x",e,t,n),g("mean",e,t,n),g("variance",e,t,n),g("offset",e,t,n),g("scale",e,t,n),g("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(g("x",e,t,n),g("radius",e,t,n),g("bias",e,t,n),g("alpha",e,t,n),g("beta",e,t,n))];case"Softmax":return[r.softmax(g("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(g("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JL=(e,t,n,r=_t)=>{switch(e.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:o}=r.raggedGather(g("paramsNestedSplits",e,t,n),g("paramsDenseValues",e,t,n),g("indices",e,t,n),g("outputRaggedRank",e,t,n));return s.concat(o)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:o}=r.raggedRange(g("starts",e,t,n),g("limits",e,t,n),g("splits",e,t,n));return[s,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(g("shape",e,t,n),g("values",e,t,n),g("defaultValue",e,t,n),g("rowPartitionTensors",e,t,n),g("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZL=(e,t,n,r=_t)=>{switch(e.op){case"Max":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.max(g("x",e,t,n),a,l)]}case"Mean":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.mean(g("x",e,t,n),a,l)]}case"Min":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.min(g("x",e,t,n),a,l)]}case"Sum":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.sum(g("x",e,t,n),a,l)]}case"All":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.all(g("x",e,t,n),a,l)]}case"Any":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.any(g("x",e,t,n),a,l)]}case"ArgMax":{const a=g("axis",e,t,n);return[r.argMax(g("x",e,t,n),a)]}case"ArgMin":{const a=g("axis",e,t,n);return[r.argMin(g("x",e,t,n),a)]}case"Prod":{const a=g("axis",e,t,n),l=g("keepDims",e,t,n);return[r.prod(g("x",e,t,n),a,l)]}case"Cumprod":{const a=g("axis",e,t,n),l=g("exclusive",e,t,n),u=g("reverse",e,t,n);return[r.cumprod(g("x",e,t,n),a,l,u)]}case"Cumsum":{const a=g("axis",e,t,n),l=g("exclusive",e,t,n),u=g("reverse",e,t,n);return[r.cumsum(g("x",e,t,n),a,l,u)]}case"Bincount":const s=g("x",e,t,n),o=g("weights",e,t,n),i=g("size",e,t,n);return[r.bincount(s,o,i)];case"DenseBincount":{const a=g("x",e,t,n),l=g("weights",e,t,n),u=g("size",e,t,n),c=g("binaryOutput",e,t,n);return[r.denseBincount(a,l,u,c)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ez=(e,t,n,r=_t)=>{switch(e.op){case"ConcatV2":case"Concat":{const s=g("n",e,t,n),o=g("axis",e,t,n);let i=g("tensors",e,t,n);return i=i.slice(0,s),[r.concat(i,o)]}case"Gather":{const s=g("x",e,t,n),o=g("indices",e,t,n);return[r.gather(s,r.cast(o,"int32"),0)]}case"GatherV2":{const s=g("axis",e,t,n),o=g("batchDims",e,t,n),i=g("x",e,t,n),a=g("indices",e,t,n);return[r.gather(i,r.cast(a,"int32"),s,o)]}case"Reverse":{const s=g("dims",e,t,n),o=[];for(let a=0;a<s.length;a++)s[a]&&o.push(a);const i=g("x",e,t,n);return[r.reverse(i,o)]}case"ReverseV2":{const s=g("axis",e,t,n),o=g("x",e,t,n);return[r.reverse(o,s)]}case"Slice":{const s=g("begin",e,t,n),o=g("size",e,t,n);return[r.slice(g("x",e,t,n),s,o)]}case"StridedSlice":{const s=g("begin",e,t,n),o=g("end",e,t,n),i=g("strides",e,t,n),a=g("beginMask",e,t,n),l=g("endMask",e,t,n),u=g("ellipsisMask",e,t,n),c=g("newAxisMask",e,t,n),f=g("shrinkAxisMask",e,t,n),d=g("x",e,t,n);return[r.stridedSlice(d,s,o,i,a,l,u,c,f)]}case"Pack":return Ie(()=>{const s=g("axis",e,t,n),o=g("tensors",e,t,n),i=o[0].shape,a=r.squeeze(o[0]).shape,l=o.map(u=>{const c=Vr(u.shape,i);if(!c&&!Vr(r.squeeze(u).shape,a))throw new Error("the input tensors shape does not match");return c?u:r.reshape(u,i)});return[r.stack(l,s)]});case"Unpack":{const s=g("axis",e,t,n),o=g("tensor",e,t,n);return r.unstack(o,s)}case"Tile":{const s=g("reps",e,t,n);return[r.tile(g("x",e,t,n),s)]}case"Split":case"SplitV":{const s=g("axis",e,t,n),o=g("numOrSizeSplits",e,t,n),i=g("x",e,t,n);return r.split(i,o,s)}case"ScatterNd":{const s=g("indices",e,t,n),o=g("values",e,t,n),i=g("shape",e,t,n);return[r.scatterND(s,o,i)]}case"GatherNd":{const s=g("x",e,t,n),o=g("indices",e,t,n);return[r.gatherND(s,o)]}case"SparseToDense":{const s=g("sparseIndices",e,t,n),o=g("outputShape",e,t,n),i=g("sparseValues",e,t,n),a=g("defaultValue",e,t,n);return[r.sparseToDense(s,i,o,i.dtype===a.dtype?a:r.cast(a,i.dtype))]}case"TensorScatterUpdate":{const s=g("indices",e,t,n),o=g("values",e,t,n),i=g("tensor",e,t,n);return[r.tensorScatterUpdate(i,s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tz=(e,t,n,r=_t)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:o,emptyRowIndicator:i,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(g("indices",e,t,n),g("values",e,t,n),g("denseShape",e,t,n),g("defaultValue",e,t,n));return[s,o,i,a]}case"SparseReshape":{const{outputIndices:s,outputShape:o}=r.sparse.sparseReshape(g("inputIndices",e,t,n),g("inputShape",e,t,n),g("newShape",e,t,n));return[s,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(g("data",e,t,n),g("indices",e,t,n),g("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(g("data",e,t,n),g("indices",e,t,n),g("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nz=(e,t,n,r=_t)=>{switch(e.op){case"FFT":return[r.fft(g("x",e,t,n))];case"IFFT":return[r.ifft(g("x",e,t,n))];case"RFFT":return[r.rfft(g("x",e,t,n))];case"IRFFT":return[r.irfft(g("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rz=(e,t,n,r=_t)=>{switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(g("input",e,t,n),g("pattern",e,t,n),g("rewrite",e,t,n),g("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:o}=r.string.stringNGrams(g("data",e,t,n),g("dataSplits",e,t,n),g("separator",e,t,n),g("nGramWidths",e,t,n),g("leftPad",e,t,n),g("rightPad",e,t,n),g("padWidth",e,t,n),g("preserveShortSequences",e,t,n));return[s,o]}case"StringSplit":{const{indices:s,values:o,shape:i}=r.string.stringSplit(g("input",e,t,n),g("delimiter",e,t,n),g("skipEmpty",e,t,n));return[s,o,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(g("input",e,t,n),g("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sz=(e,t,n,r=_t)=>{switch(e.op){case"Cast":return[r.cast(g("x",e,t,n),g("dtype",e,t,n))];case"ExpandDims":{const s=g("axis",e,t,n);return[r.expandDims(g("x",e,t,n),s)]}case"Squeeze":{const s=g("axis",e,t,n);return[r.squeeze(g("x",e,t,n),s)]}case"Reshape":return[r.reshape(g("x",e,t,n),g("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(g("x",e,t,n),g("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(g("x",e,t,n),g("padding",e,t,n),g("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(g("x",e,t,n),g("padding",e,t,n),g("constantValue",e,t,n))];case"SpaceToBatchND":{const s=g("blockShape",e,t,n),o=g("paddings",e,t,n);return[r.spaceToBatchND(g("x",e,t,n),s,o)]}case"BatchToSpaceND":{const s=g("blockShape",e,t,n),o=g("crops",e,t,n);return[r.batchToSpaceND(g("x",e,t,n),s,o)]}case"DepthToSpace":{const s=g("blockSize",e,t,n),o=g("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(g("x",e,t,n),s,o)]}case"BroadcastTo":return[r.broadcastTo(g("x",e,t,n),g("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(g("s0",e,t,n),g("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0(e,t,n,r,s=Ie){const o=((i,a,l)=>{switch(i.category){case"arithmetic":return s(()=>OL(i,a,l));case"basic_math":return s(()=>DL(i,a,l));case"control":return jL(i,a,l);case"convolution":return s(()=>BL(i,a,l));case"creation":return s(()=>VL(i,a,l));case"dynamic":return UL(i,a,l);case"evaluation":return s(()=>WL(i,a,l));case"image":return s(()=>qL(i,a,l));case"graph":return s(()=>HL(i,a,l));case"logical":return s(()=>YL(i,a,l));case"matrices":return s(()=>XL(i,a,l));case"normalization":return s(()=>QL(i,a,l));case"ragged":return s(()=>JL(i,a,l));case"reduction":return s(()=>ZL(i,a,l));case"slice_join":return s(()=>ez(i,a,l));case"sparse":return s(()=>tz(i,a,l));case"spectral":return s(()=>nz(i,a,l));case"string":return s(()=>rz(i,a,l));case"transformation":return s(()=>sz(i,a,l));case"hash_table":return GL(i,a,l,r);case"custom":const u=Zv(i.op);if(u&&u.customExecutor)return u.customExecutor(new PL(i,a,l));throw TypeError(`Custom op ${i.op} is not registered.`);default:throw TypeError(`Unknown op '${i.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return ko(o)?o.then(i=>[].concat(i)):[].concat(o)}class V0{constructor(t={},n={},r={},s={},o){this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,n){return{id:t,frameName:n,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const t=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);t.push(this.contextIdforContexts(r))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(t);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(t)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0(e,t,n,r){const s=new Set,o=[];let i=null,a=null;const l=new Set,u=new Set(Object.keys(e).map(d=>ln(d)[0]));r=r||[];const c=new Set(r.map(d=>ln(d.name)[0])),f=[...t];for(;f.length>0;){const d=f.pop();if((no(d)||dz(d)||hz(d))&&i==null&&(i=d,a=i.children.map(m=>m.name).filter(m=>s.has(m))),s.add(d.name),n[d.name]==null&&!u.has(d.name)&&!c.has(d.name)){if(d.inputs.length===0){o.push(d.name);continue}d.inputs.forEach(m=>{l.has(m.name)||(l.add(m.name),f.push(m))})}}return{inputs:e,outputs:t,usedNodes:s,missingInputs:o,dynamicNode:i,syncInputs:a}}function oz(e,t){const{usedNodes:n,inputs:r}=t,s=Object.keys(r).map(N=>ln(N)[0]).map(N=>e.nodes[N]),o=e.initNodes||[],i=N=>n.has(typeof N=="string"?N:N.name);function a(N){return[...new Map(N.map(S=>[S.name,S])).values()]}const l=a([...s,...e.weights,...o]).filter(i),u=a([...l,...Object.values(e.nodes)]).filter(i),c=new Map(u.map(N=>[N.name,N])),f={};for(const N of u){f[N.name]=f[N.name]||0;for(const S of N.children)i(S)||(f[S.name]=Number.POSITIVE_INFINITY),f[S.name]=(f[S.name]||0)+1}const d=Object.entries(f).filter(([,N])=>N===0).map(([N])=>N),m=[...d];for(;d.length>0;){const N=d.pop(),S=c.get(N);for(const T of S.children.filter(i))--f[T.name]===0&&(m.push(T.name),d.push(T.name))}const b=m.map(N=>c.get(N)),x=iz(b,l);return az(x,l),x}function iz(e,t){const n=new Map(e.map(i=>[i.name,i])),r=t.map(i=>i.name),s=new Set(r);for(;r.length>0;){const i=r.pop(),a=n.get(i);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return e.filter(i=>s.has(i.name))}class Iu extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}}function az(e,t){const n=new Map(e.map((a,l)=>[a.name,l])),r=new Set(t.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name),o=new Set(e.map(a=>a.name)),i=a=>o.has(typeof a=="string"?a:a.name);for(const a of e){for(const l of a.children.filter(i)){if(!n.has(l.name))throw new Iu(`Child ${l.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(l.name))throw new Iu(`Node ${a.name} is scheduled to run after its child ${l.name}.`)}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new Iu(`Input ${l.name} of node ${a.name} is unreachable.`);if(n.get(l.name)>n.get(a.name))throw new Iu(`Node ${a.name} is scheduled to run before its input ${l.name}.`)}}}function lz(e){const t=new Map(e.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,r=e.map((a,l)=>no(a)?n:l),s=a=>{const l=r[t.get(a.name)];return l??-1},o=e.map((a,l)=>a.children.map(s).reduce((u,c)=>Math.max(u,c),r[l])),i=new Map;for(let a=0;a<e.length;++a){const l=o[a];if(l===n)continue;const u=e[a],c=e[l];i.has(c.name)||i.set(c.name,[]),i.get(c.name).push(u)}return i}const uz=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),cz=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),fz=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function no(e){return uz.has(e.op)}function dz(e){return cz.has(e.op)}function hz(e){return fz.has(e.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xc{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){const n=Object.keys(t).map(r=>t[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{const n=t.signatureKey||t.name;return t.defaultOutput?`${n}:${t.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((t,n)=>(t[n]=this._functions[n].signature,t),{})}constructor(t,n){this.graph=t,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,t.functions!=null&&Object.keys(t.functions).forEach(r=>{this._functionExecutorMap[r]=new Xc(t.functions[r],this)})}getCompilationKey(t,n){const r=t.map(o=>o.name).sort(),s=n.map(o=>o.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(t,n){const r=U0(t,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:o,syncInputs:i}=r;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(s.length>0){const u=n.map(f=>f.name),c=Object.keys(t);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${c}]. Missing the following inputs: [${s}]`)}const a=oz(this.graph,r),l=lz(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(t){if(t==null)return null;const n=t.clone();return pr(n),n}cloneTensorList(t){return t?t.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(t,n){this.disposeIntermediateTensors(),t=this.mapInputs(t);const r=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(d=>this.graph.nodes[ln(d)[0]]),o=n.map(d=>ln(d)[0]),i=new Set(o);let a=o.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let u=this.compiledMap.get(l);u==null&&(u=this.compile(t,a),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=De().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const c={},f={};return Ie(()=>{const d=new V0(this.weightMap,c,f,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(S=>{const[T,k]=ln(S,d),A=[];A[k]=t[S],m[T]=A,this.keepIntermediateTensors&&(this.clonedTensorsMap[T]=this.cloneTensorList(A))});const b=this.getFrozenTensorIds(m),{orderedNodes:x,nodeLiveUntilMap:N}=u;for(const S of x){if(m[S.name])continue;const T=B0(S,m,d,this._resourceManager);if(ko(T))throw new Error(`The execution of the op '${S.op}' returned a promise. Please use model.executeAsync() instead.`);m[S.name]=T,this.keepIntermediateTensors&&(this.clonedTensorsMap[S.name]=this.cloneTensorList(T)),this.checkTensorForDisposalWithNodeLiveUntilInfo(S,m,d,b,i,N.get(S.name))}return this.parent==null&&d.dispose(b),n.map(S=>kt(S,m,d))})}getFrozenTensorIds(t){const n=[].concat.apply([],Object.keys(t).map(r=>t[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(t,n,r,s,o,i,a){if(!(no(n)||i.has(t))){for(const l of r[t])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(no(l))continue;const u=M0(l.name,r,s);if(u!=null)for(const c of u){if(!c||c.kept||o.has(c.id))continue;const f=a[c.id];f===1?(c.dispose(),delete a[c.id]):f!=null&&a[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,n,r,s,o,i){function a(l){return no(l)||o.has(l.name)}if(!(no(t)||i==null))for(const l of i){if(a(l))continue;const u=M0(l.name,n,r);for(const c of u)!c||c.kept||s.has(c.id)||c.dispose()}}async executeAsync(t,n){return this._executeAsync(t,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(const n of t)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(t,n,r=!1,s={},o={}){this.disposeIntermediateTensors(),r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=De().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const i=new V0(this.weightMap,s,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(t,i,n,r),l=n.map(d=>kt(d,a,i)),u=l.map(d=>d.id),c=Object.keys(t).map(d=>t[d].id),f=new Set([...u,...c,...this.weightIds]);return Object.values(a).forEach(d=>{d.forEach(m=>{m&&!m.isDisposed&&!f.has(m.id)&&m.dispose()})}),this.parent==null&&i.dispose(f),l}async executeFunctionAsync(t,n,r){const s=t.reduce((o,i,a)=>(o[this.inputs[a].name]=i,o),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(t,n,r,s){const o=Object.keys(t),i=o.map(A=>this.graph.nodes[ln(A)[0]]),a=r.map(A=>ln(A)[0]),l=new Set(a);let u=a.map(A=>this.graph.nodes[A]);u.length===0&&(u=this._outputs);const{usedNodes:c,missingInputs:f,dynamicNode:d,syncInputs:m}=U0(t,u,this.weightMap,this._initNodes),b=[...i,...this.graph.weights,...this._initNodes||[]].map(A=>({node:A,contexts:n.currentContext})),x=Object.assign({},this.weightMap);Object.keys(t).forEach(A=>{const[M,L]=ln(A),W=[];W[L]=t[A],x[M]=W});const N={},S=this.getFrozenTensorIds(x),T={};for(;b.length>0;){const A=this.processStack(i,b,n,x,T,S,l,N,c);await Promise.all(A)}d==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const k=u.filter(A=>!no(A)&&!kt(A.name,x,n)).map(A=>A.name);if(k.length>0){let A="";throw d!=null&&(A=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${k}] from the provided inputs [${o}]. Consider providing the following inputs: [${f}]. ${A}`)}return x}processStack(t,n,r,s,o,i,a,l,u){const c=[];for(;n.length>0;){const f=n.pop();r.currentContext=f.contexts;let d="";if(f.node.op==="Enter"&&g("isConstant",f.node,s,r)&&([d]=Cr(f.node.name,r)),s[f.node.name]==null){const m=B0(f.node,s,r,this._resourceManager);d||([d]=Cr(f.node.name,r));const b=r.currentContext;ko(m)?c.push(m.then(x=>(s[d]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(x)),r.currentContext=b,this.checkTensorForDisposal(d,f.node,s,r,i,a,l),this.processChildNodes(f.node,n,r,s,o,u),x))):(s[d]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(m)),this.checkTensorForDisposal(d,f.node,s,r,i,a,l),this.processChildNodes(f.node,n,r,s,o,u))}else this.processChildNodes(f.node,n,r,s,o,u)}return c}processChildNodes(t,n,r,s,o,i){t.children.forEach(a=>{const[l]=Cr(a.name,r);o[l]||!i.has(a.name)||(a.op==="Merge"?a.inputNames.some(u=>!!kt(u,s,r))&&(o[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(u=>!!kt(u,s,r))&&(o[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(n=>n.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(n=>{const r=t[n],[s]=ln(n),o=this.graph.nodes[s];if(o.attrParams.shape&&o.attrParams.shape.value){const i=o.attrParams.shape.value,a=i.length===r.shape.length&&r.shape.every((l,u)=>i[u]===-1||i[u]===l);P(a,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${i}], but was [${r.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&P(r.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(t){var n,r;const s={};for(const o in t){const i=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[o];i!=null?s[i.name]=t[o]:s[o]=t[o]}return s}checkInputs(t){const n=Object.keys(t).filter(r=>{const[s]=ln(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(t){return t.map(n=>{var r,s;const o=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return o!=null?o.name:n},{})}checkOutputs(t){t.forEach(n=>{const[r]=ln(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class pz{constructor(t={},n={}){this.hashTableNameToHandle=t,this.hashTableMap=n}addHashTable(t,n){this.hashTableNameToHandle[t]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(const t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(const t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mz="?tfjs-format=file",gz="model.json";class yz{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,n={},r=Xv){this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new pz}findIOHandler(){const t=this.modelUrl;if(t.load!=null)this.handler=t;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{const n=this.io.getLoadHandlers(t,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[t]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const t=this.handler.load();return ko(t)?t.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(t)}loadSync(t){const n=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,n)}async loadStreaming(t){if(t.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await X5(t.getWeightStream(),t.weightSpecs);return this.loadWithWeightMap(t,n)}loadWithWeightMap(t,n){this.artifacts=t;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(s=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new Xc(R0.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,t.modelInitializer!=null&&t.modelInitializer.node!=null){const o=R0.Instance.transformGraph(t.modelInitializer);this.initializer=new Xc(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}async save(t,n){if(typeof t=="string"){const r=this.io.getSaveHandlers(t);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${t}'`);t=r[0]}if(t.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(this.artifacts)}addStructuredOutputNames(t){if(this.structuredOutputKeys){const n=t instanceof ot?[t]:t,r={};return n.forEach((s,o)=>r[this.structuredOutputKeys[o]]=s),r}return t}predict(t,n){const r=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(t,n){const r=await this.executeAsync(t,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(t){var n;if(!(t instanceof ot)&&!Array.isArray(t)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const i in o){const a=o[i];a.resourceId!=null&&(t[i]=this.resourceIdToCapturedInput[a.resourceId])}return t}t=Array.isArray(t)?t:[t];const r=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${t.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((o,i)=>{var a,l,u;const c=(u=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[i])===null||u===void 0?void 0:u.resourceId;return c!=null?o[i]=this.resourceIdToCapturedInput[c]:o[i]=t[s++],o},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const o=r[s],i=n[o];this.resourceIdToCapturedInput[i.resourceId]=t[s]}}}execute(t,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),n=this.normalizeOutputs(n);const r=this.executor.execute(t,n);return r.length>1?r:r[0]}async executeAsync(t,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),t=this.normalizeInputs(t),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(t,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((n,r)=>(n[r]=[t[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&nt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function n7(e,t={},n=Xv){if(e==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");t==null&&(t={}),t.fromTFHub&&typeof e=="string"&&(e=vz(e));const r=new yz(e,t,n);return await r.load(),r}function vz(e){return e.endsWith("/")||(e=e+"/"),`${e}${gz}${mz}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var tr=function(){return tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},tr.apply(this,arguments)};function Dr(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?s(u.value):(c=u.value,c instanceof n?c:new n(function(f){f(c)})).then(i,a)}l((r=r.apply(e,[])).next())})}function Fr(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!((s=s.length>0&&s[s.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(f){c=[6,f],r=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function os(e){var t=e.map(function(n){return n[0]});return t.push(e[e.length-1][1]),t}var r7={lips:os([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:os([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:os([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:os([[474,475],[475,476],[476,477],[477,474]]),rightEye:os([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:os([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:os([[469,470],[470,471],[471,472],[472,469]]),faceOval:os([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},bz=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],wz=Object.entries(r7).map(function(e){var t=e[0];return e[1].map(function(n){return[n,t]})}).flat(),s7=new Map(wz);function Xh(e){for(var t={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,i=0;i<e.length;++i){var a=e[i];n=Math.min(n,a.x),r=Math.max(r,a.x),s=Math.min(s,a.y),o=Math.max(o,a.y),t.locationData.relativeKeypoints.push({x:a.x,y:a.y})}return t.locationData.relativeBoundingBox={xMin:n,yMin:s,xMax:r,yMax:o,width:r-n,height:o-s},t}var Bd={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},Sz=function(){function e(t){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new JE({locateFile:function(r,s){return t.solutionPath?t.solutionPath.replace(/\/+$/,"")+"/"+r:s+"/"+r}}),this.faceMeshSolution.setOptions({refineLandmarks:t.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:t.maxFaces}),this.faceMeshSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.multiFaceLandmarks!==null)for(var s=r.multiFaceLandmarks,o=0;o<s.length;o++){var i=n.translateOutput(s[o]);n.faces.push({keypoints:i,box:Xh(i).locationData.relativeBoundingBox})}})}return e.prototype.translateOutput=function(t){var n=this;return t.map(function(r,s){var o={x:r.x*n.width,y:r.y*n.height,z:r.z*n.width},i=s7.get(s);return i!=null&&(o.name=i),o})},e.prototype.estimateFaces=function(t,n){return Dr(this,void 0,void 0,function(){var r,s;return Fr(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),t instanceof ot?(s=ImageData.bind,[4,Qv(t)]):[3,2];case 1:return r=new(s.apply(ImageData,[void 0,o.sent(),t.shape[1],t.shape[0]])),[3,3];case 2:r=t,o.label=3;case 3:return t=r,[4,this.faceMeshSolution.send({image:t})];case 4:return o.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceMeshSolution.close()},e.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceMeshSolution.initialize()},e}();function xz(e){return Dr(this,void 0,void 0,function(){var t,n;return Fr(this,function(r){switch(r.label){case 0:return t=function(s){if(s==null)return tr({},Bd);var o=tr({},s);return o.runtime="mediapipe",o.maxFaces==null&&(o.maxFaces=Bd.maxFaces),o.refineLandmarks==null&&(o.refineLandmarks=Bd.refineLandmarks),o}(e),[4,(n=new Sz(t)).initialize()];case 1:return r.sent(),[2,n]}})})}var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tz={};(function(){var e;function t(h){var v=0;return function(){return v<h.length?{done:!1,value:h[v++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h},r=function(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}(this);function s(h,v){if(v)e:{var E=r;h=h.split(".");for(var $=0;$<h.length-1;$++){var O=h[$];if(!(O in E))break e;E=E[O]}(v=v($=E[h=h[h.length-1]]))!=$&&v!=null&&n(E,h,{configurable:!0,writable:!0,value:v})}}function o(h){return(h={next:h})[Symbol.iterator]=function(){return this},h}function i(h){var v=typeof Symbol<"u"&&Symbol.iterator&&h[Symbol.iterator];return v?v.call(h):{next:t(h)}}function a(h){if(!(h instanceof Array)){h=i(h);for(var v,E=[];!(v=h.next()).done;)E.push(v.value);h=E}return h}s("Symbol",function(h){function v(O,I){this.g=O,n(this,"description",{configurable:!0,writable:!0,value:I})}if(h)return h;v.prototype.toString=function(){return this.g};var E="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",$=0;return function O(I){if(this instanceof O)throw new TypeError("Symbol is not a constructor");return new v(E+(I||"")+"_"+$++,I)}}),s("Symbol.iterator",function(h){if(h)return h;h=Symbol("Symbol.iterator");for(var v="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),E=0;E<v.length;E++){var $=r[v[E]];typeof $=="function"&&typeof $.prototype[h]!="function"&&n($.prototype,h,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return h});var l,u=typeof Object.create=="function"?Object.create:function(h){function v(){}return v.prototype=h,new v};if(typeof Object.setPrototypeOf=="function")l=Object.setPrototypeOf;else{var c;e:{var f={};try{f.__proto__={a:!0},c=f.a;break e}catch{}c=!1}l=c?function(h,v){if(h.__proto__=v,h.__proto__!==v)throw new TypeError(h+" is not extensible");return h}:null}var d=l;function m(h,v){if(h.prototype=u(v.prototype),h.prototype.constructor=h,d)d(h,v);else for(var E in v)if(E!="prototype")if(Object.defineProperties){var $=Object.getOwnPropertyDescriptor(v,E);$&&Object.defineProperty(h,E,$)}else h[E]=v[E];h.na=v.prototype}function b(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function x(h){if(h.l)throw new TypeError("Generator is already running");h.l=!0}function N(h,v){h.j={da:v,ea:!0},h.g=h.o||h.u}function S(h,v,E){return h.g=E,{value:v}}function T(h){this.g=new b,this.h=h}function k(h,v,E,$){try{var O=v.call(h.g.i,E);if(!(O instanceof Object))throw new TypeError("Iterator result "+O+" is not an object");if(!O.done)return h.g.l=!1,O;var I=O.value}catch(F){return h.g.i=null,N(h.g,F),A(h)}return h.g.i=null,$.call(h.g,I),A(h)}function A(h){for(;h.g.g;)try{var v=h.h(h.g);if(v)return h.g.l=!1,{value:v.value,done:!1}}catch(E){h.g.h=void 0,N(h.g,E)}if(h.g.l=!1,h.g.j){if(v=h.g.j,h.g.j=null,v.ea)throw v.da;return{value:v.return,done:!0}}return{value:void 0,done:!0}}function M(h){this.next=function(v){return x(h.g),h.g.i?v=k(h,h.g.i.next,v,h.g.s):(h.g.s(v),v=A(h)),v},this.throw=function(v){return x(h.g),h.g.i?v=k(h,h.g.i.throw,v,h.g.s):(N(h.g,v),v=A(h)),v},this.return=function(v){return function(E,$){x(E.g);var O=E.g.i;return O?k(E,"return"in O?O.return:function(I){return{value:I,done:!0}},$,E.g.return):(E.g.return($),A(E))}(h,v)},this[Symbol.iterator]=function(){return this}}function L(h){return function(v){function E(O){return v.next(O)}function $(O){return v.throw(O)}return new Promise(function(O,I){(function F(z){z.done?O(z.value):Promise.resolve(z.value).then(E,$).then(F,I)})(v.next())})}(new M(new T(h)))}b.prototype.s=function(h){this.h=h},b.prototype.return=function(h){this.j={return:h},this.g=this.u},s("Promise",function(h){function v(F){this.h=0,this.i=void 0,this.g=[],this.s=!1;var z=this.j();try{F(z.resolve,z.reject)}catch(q){z.reject(q)}}function E(){this.g=null}function $(F){return F instanceof v?F:new v(function(z){z(F)})}if(h)return h;E.prototype.h=function(F){if(this.g==null){this.g=[];var z=this;this.i(function(){z.l()})}this.g.push(F)};var O=r.setTimeout;E.prototype.i=function(F){O(F,0)},E.prototype.l=function(){for(;this.g&&this.g.length;){var F=this.g;this.g=[];for(var z=0;z<F.length;++z){var q=F[z];F[z]=null;try{q()}catch(Z){this.j(Z)}}}this.g=null},E.prototype.j=function(F){this.i(function(){throw F})},v.prototype.j=function(){function F(Z){return function(ne){q||(q=!0,Z.call(z,ne))}}var z=this,q=!1;return{resolve:F(this.D),reject:F(this.l)}},v.prototype.D=function(F){if(F===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(F instanceof v)this.H(F);else{e:switch(typeof F){case"object":var z=F!=null;break e;case"function":z=!0;break e;default:z=!1}z?this.A(F):this.o(F)}},v.prototype.A=function(F){var z=void 0;try{z=F.then}catch(q){return void this.l(q)}typeof z=="function"?this.I(z,F):this.o(F)},v.prototype.l=function(F){this.u(2,F)},v.prototype.o=function(F){this.u(1,F)},v.prototype.u=function(F,z){if(this.h!=0)throw Error("Cannot settle("+F+", "+z+"): Promise already settled in state"+this.h);this.h=F,this.i=z,this.h===2&&this.G(),this.B()},v.prototype.G=function(){var F=this;O(function(){if(F.C()){var z=r.console;z!==void 0&&z.error(F.i)}},1)},v.prototype.C=function(){if(this.s)return!1;var F=r.CustomEvent,z=r.Event,q=r.dispatchEvent;return q===void 0||(typeof F=="function"?F=new F("unhandledrejection",{cancelable:!0}):typeof z=="function"?F=new z("unhandledrejection",{cancelable:!0}):(F=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,F),F.promise=this,F.reason=this.i,q(F))},v.prototype.B=function(){if(this.g!=null){for(var F=0;F<this.g.length;++F)I.h(this.g[F]);this.g=null}};var I=new E;return v.prototype.H=function(F){var z=this.j();F.M(z.resolve,z.reject)},v.prototype.I=function(F,z){var q=this.j();try{F.call(z,q.resolve,q.reject)}catch(Z){q.reject(Z)}},v.prototype.then=function(F,z){function q(fe,pe){return typeof fe=="function"?function(Ee){try{Z(fe(Ee))}catch(Ne){ne(Ne)}}:pe}var Z,ne,le=new v(function(fe,pe){Z=fe,ne=pe});return this.M(q(F,Z),q(z,ne)),le},v.prototype.catch=function(F){return this.then(void 0,F)},v.prototype.M=function(F,z){function q(){switch(Z.h){case 1:F(Z.i);break;case 2:z(Z.i);break;default:throw Error("Unexpected state: "+Z.h)}}var Z=this;this.g==null?I.h(q):this.g.push(q),this.s=!0},v.resolve=$,v.reject=function(F){return new v(function(z,q){q(F)})},v.race=function(F){return new v(function(z,q){for(var Z=i(F),ne=Z.next();!ne.done;ne=Z.next())$(ne.value).M(z,q)})},v.all=function(F){var z=i(F),q=z.next();return q.done?$([]):new v(function(Z,ne){function le(Ee){return function(Ne){fe[Ee]=Ne,--pe==0&&Z(fe)}}var fe=[],pe=0;do fe.push(void 0),pe++,$(q.value).M(le(fe.length-1),ne),q=z.next();while(!q.done)})},v});var W=typeof Object.assign=="function"?Object.assign:function(h,v){for(var E=1;E<arguments.length;E++){var $=arguments[E];if($)for(var O in $)Object.prototype.hasOwnProperty.call($,O)&&(h[O]=$[O])}return h};s("Object.assign",function(h){return h||W}),s("Object.is",function(h){return h||function(v,E){return v===E?v!==0||1/v==1/E:v!=v&&E!=E}}),s("Array.prototype.includes",function(h){return h||function(v,E){var $=this;$ instanceof String&&($=String($));var O=$.length;for(0>(E=E||0)&&(E=Math.max(E+O,0));E<O;E++){var I=$[E];if(I===v||Object.is(I,v))return!0}return!1}}),s("String.prototype.includes",function(h){return h||function(v,E){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(v instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(v,E||0)!==-1}}),s("Array.prototype.keys",function(h){return h||function(){return function(v,E){v instanceof String&&(v+="");var $=0,O=!1,I={next:function(){if(!O&&$<v.length){var F=$++;return{value:E(F,v[F]),done:!1}}return O=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}(this,function(v){return v})}});var C=this||self;function V(h,v){h=h.split(".");var E,$=C;for((h[0]in $)||$.execScript===void 0||$.execScript("var "+h[0]);h.length&&(E=h.shift());)h.length||v===void 0?$=$[E]&&$[E]!==Object.prototype[E]?$[E]:$[E]={}:$[E]=v}function K(){throw Error("Invalid UTF8")}function X(h,v){return v=String.fromCharCode.apply(null,v),h==null?v:h+v}var Q,B,Y=typeof TextDecoder<"u",oe=typeof TextEncoder<"u",de={},ve=null;function re(h){var v;v===void 0&&(v=0),ge(),v=de[v];for(var E=Array(Math.floor(h.length/3)),$=v[64]||"",O=0,I=0;O<h.length-2;O+=3){var F=h[O],z=h[O+1],q=h[O+2],Z=v[F>>2];F=v[(3&F)<<4|z>>4],z=v[(15&z)<<2|q>>6],q=v[63&q],E[I++]=Z+F+z+q}switch(Z=0,q=$,h.length-O){case 2:q=v[(15&(Z=h[O+1]))<<2]||$;case 1:h=h[O],E[I]=v[h>>2]+v[(3&h)<<4|Z>>4]+q+$}return E.join("")}function ce(h){var v=h.length,E=3*v/4;E%3?E=Math.floor(E):"=.".indexOf(h[v-1])!=-1&&(E="=.".indexOf(h[v-2])!=-1?E-2:E-1);var $=new Uint8Array(E),O=0;return function(I,F){function z(pe){for(;q<I.length;){var Ee=I.charAt(q++),Ne=ve[Ee];if(Ne!=null)return Ne;if(!/^[\s\xa0]*$/.test(Ee))throw Error("Unknown base64 encoding at char: "+Ee)}return pe}ge();for(var q=0;;){var Z=z(-1),ne=z(0),le=z(64),fe=z(64);if(fe===64&&Z===-1)break;F(Z<<2|ne>>4),le!=64&&(F(ne<<4&240|le>>2),fe!=64&&F(le<<6&192|fe))}}(h,function(I){$[O++]=I}),O!==E?$.subarray(0,O):$}function ge(){if(!ve){ve={};for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),v=["+/=","+/","-_=","-_.","-_"],E=0;5>E;E++){var $=h.concat(v[E].split(""));de[E]=$;for(var O=0;O<$.length;O++){var I=$[O];ve[I]===void 0&&(ve[I]=O)}}}}var xe,Ce=typeof Uint8Array=="function";function Fe(h){return Ce&&h!=null&&h instanceof Uint8Array}function xt(h){if(this.L=h,h!==null&&h.length===0)throw Error("ByteString should be constructed with non-empty values")}var en=typeof Uint8Array.prototype.slice=="function",rt=0;function pn(h,v){return Error("Invalid wire type: "+h+" (at position "+v+")")}function Jr(){return Error("Failed to read varint, encoding is invalid.")}function Ut(h,v){v=(v=v===void 0?{}:v).v!==void 0&&v.v,this.h=null,this.g=this.i=this.j=0,this.v=v,h&&Wt(this,h)}function Wt(h,v){h.h=function(E,$){if(E.constructor===Uint8Array)return E;if(E.constructor===ArrayBuffer)return new Uint8Array(E);if(E.constructor===Array)return new Uint8Array(E);if(E.constructor===String)return ce(E);if(E.constructor===xt)return!$&&($=E.L)&&$.constructor===Uint8Array?$:($=($=E.L)==null||Fe($)?$:typeof $=="string"?ce($):null,(E=E.L=$)?new Uint8Array(E):xe||(xe=new Uint8Array(0)));if(E instanceof Uint8Array)return new Uint8Array(E.buffer,E.byteOffset,E.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(v,h.v),h.j=0,h.i=h.h.length,h.g=h.j}function Xe(h){if(h.g>h.i)throw Error("Tried to read past the end of the data "+h.g+" > "+h.i)}function Wn(h){var v=h.h,E=v[h.g],$=127&E;if(128>E)return h.g+=1,Xe(h),$;if($|=(127&(E=v[h.g+1]))<<7,128>E)return h.g+=2,Xe(h),$;if($|=(127&(E=v[h.g+2]))<<14,128>E)return h.g+=3,Xe(h),$;if($|=(127&(E=v[h.g+3]))<<21,128>E)return h.g+=4,Xe(h),$;if(E=v[h.g+4],h.g+=5,$|=(15&E)<<28,128>E)return Xe(h),$;if(128<=v[h.g++]&&128<=v[h.g++]&&128<=v[h.g++]&&128<=v[h.g++]&&128<=v[h.g++])throw Jr();return Xe(h),$}Ut.prototype.reset=function(){this.g=this.j};var Sr=[];function xr(){this.g=[]}function tn(h,v){for(;127<v;)h.g.push(127&v|128),v>>>=7;h.g.push(v)}function mn(h){var v={},E=v.W!==void 0&&v.W;this.l={v:v.v!==void 0&&v.v},this.W=E,v=this.l,Sr.length?(E=Sr.pop(),v&&(E.v=v.v),h&&Wt(E,h),h=E):h=new Ut(h,v),this.g=h,this.j=this.g.g,this.h=this.i=-1}function or(h){var v=h.g;if(v.g==v.i)return!1;h.j=h.g.g;var E=Wn(h.g)>>>0;if(v=E>>>3,!(0<=(E&=7)&&5>=E))throw pn(E,h.j);if(1>v)throw Error("Invalid field number: "+v+" (at position "+h.j+")");return h.i=v,h.h=E,!0}function Mt(h){switch(h.h){case 0:if(h.h!=0)Mt(h);else e:{for(var v=(h=h.g).g,E=v+10;v<E;)if(!(128&h.h[v++])){h.g=v,Xe(h);break e}throw Jr()}break;case 1:(h=h.g).g+=8,Xe(h);break;case 2:h.h!=2?Mt(h):(v=Wn(h.g)>>>0,(h=h.g).g+=v,Xe(h));break;case 5:(h=h.g).g+=4,Xe(h);break;case 3:for(v=h.i;;){if(!or(h))throw Error("Unmatched start-group tag: stream EOF");if(h.h==4){if(h.i!=v)throw Error("Unmatched end-group tag");break}Mt(h)}break;default:throw pn(h.h,h.j)}}xr.prototype.length=function(){return this.g.length},xr.prototype.end=function(){var h=this.g;return this.g=[],h},mn.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var mt=[];function jo(){this.i=[],this.h=0,this.g=new xr}function gt(h,v){v.length!==0&&(h.i.push(v),h.h+=v.length)}var js=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function Xi(h,v){Object.isFrozen(h)||(js?h[js]|=v:h.N!==void 0?h.N|=v:Object.defineProperties(h,{N:{value:v,configurable:!0,writable:!0,enumerable:!1}}))}function Qi(h){var v;return(v=js?h[js]:h.N)==null?0:v}function Tr(h){return Xi(h,1),h}function In(h){return!!Array.isArray(h)&&!!(2&Qi(h))}function Bs(h){if(!Array.isArray(h))throw Error("cannot mark non-array as immutable");Xi(h,2)}function nn(h){return h!==null&&typeof h=="object"&&!Array.isArray(h)&&h.constructor===Object}var Vs=Object.freeze(Tr([]));function Ji(h){if(In(h.m))throw Error("Cannot mutate an immutable Message")}var Zi,Ll=typeof Symbol<"u"&&Symbol.hasInstance!==void 0;function zl(h){return{value:h,configurable:!1,writable:!1,enumerable:!1}}function Ct(h,v,E){return v===-1?null:v>=h.i?h.g?h.g[v]:void 0:E!==void 0&&E&&h.g&&(E=h.g[v])!=null?E:h.m[v+h.h]}function ut(h,v,E,$){$=$!==void 0&&$,Ji(h),v<h.i&&!$?h.m[v+h.h]=E:(h.g||(h.g=h.m[h.i+h.h]={}))[v]=E}function ft(h,v,E,$){E=E===void 0||E;var O=Ct(h,v,$=$!==void 0&&$);return O==null&&(O=Vs),In(h.m)?E&&(Bs(O),Object.freeze(O)):(O===Vs||In(O))&&ut(h,v,O=Tr(O.slice()),$),O}function Ht(h,v,E){return(h=(h=Ct(h,v))==null?h:+h)==null?E===void 0?0:E:h}function Us(h,v,E,$){h.j||(h.j={});var O=In(h.m),I=h.j[E];if(!I){$=ft(h,E,!0,$!==void 0&&$),I=[],O=O||In($);for(var F=0;F<$.length;F++)I[F]=new v($[F]),O&&Bs(I[F].m);O&&(Bs(I),Object.freeze(I)),h.j[E]=I}return I}function He(h,v,E,$,O){var I=I!==void 0&&I;return Ji(h),I=Us(h,E,v,I),E=$||new E,h=ft(h,v),O!=null?(I.splice(O,0,E),h.splice(O,0,E.m)):(I.push(E),h.push(E.m)),E}function Ws(h,v){return(h=Ct(h,v))==null?0:h}function ea(h,v){return(h=Ct(h,v))==null?"":h}function ir(h){var v=jl;return Pe(h,v=v===void 0?Bo:v)}function gn(h,v){if(h!=null){if(Array.isArray(h))h=Pe(h,v);else if(nn(h)){var E,$={};for(E in h)$[E]=gn(h[E],v);h=$}else h=v(h);return h}}function Pe(h,v){for(var E=h.slice(),$=0;$<E.length;$++)E[$]=gn(E[$],v);return Array.isArray(h)&&1&Qi(h)&&Tr(E),E}function jl(h){return h&&typeof h=="object"&&h.toJSON?h.toJSON():(h=function(v){switch(typeof v){case"number":return isFinite(v)?v:String(v);case"object":if(v&&!Array.isArray(v)){if(Fe(v))return re(v);if(v instanceof xt){var E=v.L;return E=E==null||typeof E=="string"?E:Ce&&E instanceof Uint8Array?re(E):null,(v.L=E)||""}}}return v}(h),Array.isArray(h)?ir(h):h)}function Bo(h){return Fe(h)?new Uint8Array(h):h}function Hs(h,v,E){h||(h=Zi),Zi=null;var $=this.constructor.h;if(h||(h=$?[$]:[]),this.h=($?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=h,h=($=this.m.length)-1,$&&nn($=this.m[h])?(this.i=h-this.h,this.g=$):v!==void 0&&-1<v?(this.i=Math.max(v,h+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,E)for(v=0;v<E.length;v++)if((h=E[v])<this.i)h+=this.h,($=this.m[h])?Array.isArray($)&&Tr($):this.m[h]=Vs;else{var O=($=this.g||(this.g=this.m[this.i+this.h]={}))[h];O?Array.isArray(O)&&Tr(O):$[h]=Vs}}function Ks(){Hs.apply(this,arguments)}if(Hs.prototype.toJSON=function(){return ir(this.m)},Hs.prototype.toString=function(){return this.m.toString()},m(Ks,Hs),Ll){var ar={};Object.defineProperties(Ks,(ar[Symbol.hasInstance]=zl(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ar))}function Vo(h,v,E){if(E){var $,O={};for($ in E){var I=E[$],F=I.ha;F||(O.F=I.la||I.fa.P,I.aa?(O.U=Vl(I.aa),F=function(z){return function(q,Z,ne){return z.F(q,Z,ne,z.U)}}(O)):I.ca?(O.T=Uo(I.X.g,I.ca),F=function(z){return function(q,Z,ne){return z.F(q,Z,ne,z.T)}}(O)):F=O.F,I.ha=F),F(v,h,I.X),O={F:O.F,U:O.U,T:O.T}}}(function(z,q){if(q=q.ba){gt(z,z.g.end());for(var Z=0;Z<q.length;Z++)gt(z,q[Z])}})(v,h)}var yn=Symbol();function lr(h,v,E){return h[yn]||(h[yn]=function($,O){return v($,O,E)})}function Bl(h){var v=h[yn];if(!v){var E=Gl(h);v=function($,O){return ta($,O,E)},h[yn]=v}return v}function Mf(h){var v=function(O){var I=O.aa;return I?Bl(I):(I=O.ka)?lr(O.X.g,I,O.ca):void 0}(h),E=h.X,$=h.fa.O;return v?function(O,I){return $(O,I,E,v)}:function(O,I){return $(O,I,E)}}function Tt(h,v,E,$,O,I){var F=0;for((h=h()).length&&typeof h[0]!="number"&&(E(v,h[0]),F++);F<h.length;){E=h[F++];for(var z=F+1;z<h.length&&typeof h[z]!="number";)z++;var q=h[F++];switch(z-=F){case 0:$(v,E,q);break;case 1:$(v,E,q,h[F++]);break;case 2:O(v,E,q,h[F++],h[F++]);break;case 3:z=h[F++];var Z=h[F++],ne=h[F++];Array.isArray(ne)?O(v,E,q,z,Z,ne):I(v,E,q,z,Z,ne);break;case 4:I(v,E,q,h[F++],h[F++],h[F++],h[F++]);break;default:throw Error("unexpected number of binary field arguments: "+z)}}return v}var ur=Symbol();function Vl(h){var v=h[ur];if(!v){var E=Kl(h);v=function($,O){return ra($,O,E)},h[ur]=v}return v}function Uo(h,v){var E=h[ur];return E||(E=function($,O){return Vo($,O,v)},h[ur]=E),E}var Ul=Symbol();function Zr(h,v){h.push(v)}function Rf(h,v,E){h.push(v,E.P)}function Wl(h,v,E,$,O){var I=Vl(O),F=E.P;h.push(v,function(z,q,Z){return F(z,q,Z,$,I)})}function Hl(h,v,E,$,O,I){var F=Uo($,I),z=E.P;h.push(v,function(q,Z,ne){return z(q,Z,ne,$,F)})}function Kl(h){var v=h[Ul];return v||Tt(h,h[Ul]=[],Zr,Rf,Wl,Hl)}var Wo=Symbol();function Er(h,v){h[0]=v}function Lf(h,v,E,$){var O=E.O;h[v]=$?function(I,F,z){return O(I,F,z,$)}:O}function zf(h,v,E,$,O,I){var F=E.O,z=Bl(O);h[v]=function(q,Z,ne){return F(q,Z,ne,$,z,I)}}function Ho(h,v,E,$,O,I,F){var z=E.O,q=lr($,O,I);h[v]=function(Z,ne,le){return z(Z,ne,le,$,q,F)}}function Gl(h){var v=h[Wo];return v||Tt(h,h[Wo]={},Er,Lf,zf,Ho)}function ta(h,v,E){for(;or(v)&&v.h!=4;){var $=v.i,O=E[$];if(!O){var I=E[0];I&&(I=I[$])&&(O=E[$]=Mf(I))}if(!(O&&O(v,h,$)||(O=v,$=h,I=O.j,Mt(O),O.W))){var F=O.g.h;O=I===(O=O.g.g)?xe||(xe=new Uint8Array(0)):en?F.slice(I,O):new Uint8Array(F.subarray(I,O)),(I=$.ba)?I.push(O):$.ba=[O]}}return h}function na(h,v,E){if(mt.length){var $=mt.pop();h&&(Wt($.g,h),$.i=-1,$.h=-1),h=$}else h=new mn(h);try{return ta(new v,h,Gl(E))}finally{(v=h.g).h=null,v.j=0,v.i=0,v.g=0,v.v=!1,h.i=-1,h.h=-1,100>mt.length&&mt.push(h)}}function ra(h,v,E){for(var $=E.length,O=$%2==1,I=O?1:0;I<$;I+=2)(0,E[I+1])(v,h,E[I]);Vo(h,v,O?E[0]:void 0)}function Gs(h,v){var E=new jo;ra(h,E,Kl(v)),gt(E,E.g.end()),h=new Uint8Array(E.h);for(var $=(v=E.i).length,O=0,I=0;I<$;I++){var F=v[I];h.set(F,O),O+=F.length}return E.i=[h],h}function es(h,v){return{O:h,P:v}}var vn=es(function(h,v,E){if(h.h!==5)return!1;var $=(h=h.g).h[h.g],O=h.h[h.g+1],I=h.h[h.g+2],F=h.h[h.g+3];return h.g+=4,Xe(h),h=2*((O=($<<0|O<<8|I<<16|F<<24)>>>0)>>31)+1,$=O>>>23&255,O&=8388607,ut(v,E,$==255?O?NaN:1/0*h:$==0?h*Math.pow(2,-149)*O:h*Math.pow(2,$-150)*(O+Math.pow(2,23))),!0},function(h,v,E){if((v=Ct(v,E))!=null){tn(h.g,8*E+5),h=h.g;var $=v;($=(E=0>$?1:0)?-$:$)===0?0<1/$?rt=0:rt=2147483648:isNaN($)?rt=2147483647:34028234663852886e22<$?rt=(E<<31|2139095040)>>>0:11754943508222875e-54>$?($=Math.round($/Math.pow(2,-149)),rt=(E<<31|$)>>>0):(v=Math.floor(Math.log($)/Math.LN2),$*=Math.pow(2,-v),16777216<=($=Math.round(8388608*$))&&++v,rt=(E<<31|v+127<<23|8388607&$)>>>0),E=rt,h.g.push(E>>>0&255),h.g.push(E>>>8&255),h.g.push(E>>>16&255),h.g.push(E>>>24&255)}}),jf=es(function(h,v,E){if(h.h!==0)return!1;for(var $=h.g,O=128,I=0,F=h=0;4>F&&128<=O;F++)O=$.h[$.g++],Xe($),I|=(127&O)<<7*F;if(128<=O&&(O=$.h[$.g++],Xe($),I|=(127&O)<<28,h|=(127&O)>>4),128<=O)for(F=0;5>F&&128<=O;F++)O=$.h[$.g++],Xe($),h|=(127&O)<<7*F+3;if(!(128>O))throw Jr();return $=I>>>0,(h=2147483648&(O=h>>>0))&&(O=~O>>>0,($=1+~$>>>0)==0&&(O=O+1>>>0)),$=4294967296*O+($>>>0),ut(v,E,h?-$:$),!0},function(h,v,E){if((v=Ct(v,E))!=null&&v!=null){tn(h.g,8*E),h=h.g;var $=v;for(E=0>$,v=($=Math.abs($))>>>0,$=Math.floor(($-v)/4294967296),$>>>=0,E&&($=~$>>>0,4294967295<(v=1+(~v>>>0))&&(v=0,4294967295<++$&&($=0))),E=rt=v,v=$;0<v||127<E;)h.g.push(127&E|128),E=(E>>>7|v<<25)>>>0,v>>>=7;h.g.push(E)}}),Bf=es(function(h,v,E){return h.h===0&&(ut(v,E,Wn(h.g)),!0)},function(h,v,E){if((v=Ct(v,E))!=null&&v!=null)if(tn(h.g,8*E),h=h.g,0<=(E=v))tn(h,E);else{for(v=0;9>v;v++)h.g.push(127&E|128),E>>=7;h.g.push(1)}}),ql=es(function(h,v,E){if(h.h!==2)return!1;var $,O=Wn(h.g)>>>0,I=(h=h.g).g;if(h.g+=O,Xe(h),h=h.h,Y)($=Q)||($=Q=new TextDecoder("utf-8",{fatal:!0})),$=$.decode(h.subarray(I,I+O));else{O=I+O;for(var F,z,q,Z=[],ne=null;I<O;)128>(F=h[I++])?Z.push(F):224>F?I>=O?K():(z=h[I++],194>F||(192&z)!=128?(I--,K()):Z.push((31&F)<<6|63&z)):240>F?I>=O-1?K():(192&(z=h[I++]))!=128||F===224&&160>z||F===237&&160<=z||(192&($=h[I++]))!=128?(I--,K()):Z.push((15&F)<<12|(63&z)<<6|63&$):244>=F?I>=O-2?K():(192&(z=h[I++]))!=128||z-144+(F<<28)>>30||(192&($=h[I++]))!=128||(192&(q=h[I++]))!=128?(I--,K()):(F=(7&F)<<18|(63&z)<<12|(63&$)<<6|63&q,F-=65536,Z.push(55296+(F>>10&1023),56320+(1023&F))):K(),8192<=Z.length&&(ne=X(ne,Z),Z.length=0);$=X(ne,Z)}return ut(v,E,$),!0},function(h,v,E){if((v=Ct(v,E))!=null){var $=!1;if($=$!==void 0&&$,oe){if($&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(v))throw Error("Found an unpaired surrogate");v=(B||(B=new TextEncoder)).encode(v)}else{for(var O=0,I=new Uint8Array(3*v.length),F=0;F<v.length;F++){var z=v.charCodeAt(F);if(128>z)I[O++]=z;else{if(2048>z)I[O++]=z>>6|192;else{if(55296<=z&&57343>=z){if(56319>=z&&F<v.length){var q=v.charCodeAt(++F);if(56320<=q&&57343>=q){z=1024*(z-55296)+q-56320+65536,I[O++]=z>>18|240,I[O++]=z>>12&63|128,I[O++]=z>>6&63|128,I[O++]=63&z|128;continue}F--}if($)throw Error("Found an unpaired surrogate");z=65533}I[O++]=z>>12|224,I[O++]=z>>6&63|128}I[O++]=63&z|128}}v=I.subarray(0,O)}tn(h.g,8*E+2),tn(h.g,v.length),gt(h,h.g.end()),gt(h,v)}}),sa=es(function(h,v,E,$,O){if(h.h!==2)return!1;v=He(v,E,$),E=h.g.i,$=Wn(h.g)>>>0;var I=h.g.g+$,F=I-E;if(0>=F&&(h.g.i=I,O(v,h),F=I-h.g.g),F)throw Error("Message parsing ended unexpectedly. Expected to read "+$+" bytes, instead read "+($-F)+" bytes, either the data ended unexpectedly or the message misreported its own length");return h.g.g=I,h.g.i=E,!0},function(h,v,E,$,O){if((v=Us(v,$,E))!=null)for($=0;$<v.length;$++){var I=h;tn(I.g,8*E+2);var F=I.g.end();gt(I,F),F.push(I.h),I=F,O(v[$],h),F=h;var z=I.pop();for(z=F.h+F.g.length()-z;127<z;)I.push(127&z|128),z>>>=7,F.h++;I.push(z),F.h++}});function rn(){Ks.apply(this,arguments)}if(m(rn,Ks),Ll){var Yl={};Object.defineProperties(rn,(Yl[Symbol.hasInstance]=zl(Object[Symbol.hasInstance]),Yl))}function kr(h){rn.call(this,h)}function Xl(){return[1,Bf,2,vn,3,ql,4,ql]}function oa(h){rn.call(this,h,-1,Uf)}function Vf(){return[1,sa,kr,Xl]}m(kr,rn),m(oa,rn),oa.prototype.addClassification=function(h,v){return He(this,1,kr,h,v),this};var Uf=[1];function ts(h){rn.call(this,h)}function Ql(){return[1,vn,2,vn,3,vn,4,vn,5,vn]}function Jl(h){rn.call(this,h,-1,Hf)}function Wf(){return[1,sa,ts,Ql]}m(ts,rn),m(Jl,rn);var Hf=[1];function ia(h){rn.call(this,h)}function aa(){return[1,vn,2,vn,3,vn,4,vn,5,vn,6,jf]}m(ia,rn);var la=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ua=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ca=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],fa=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],da=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Zl=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],eu=[].concat(a(la),a(ua),a(ca),a(fa),a(da),a(Zl));function p(h,v,E){if(E=h.createShader(E===0?h.VERTEX_SHADER:h.FRAGMENT_SHADER),h.shaderSource(E,v),h.compileShader(E),!h.getShaderParameter(E,h.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+h.getShaderInfoLog(E));return E}function y(h){return Us(h,kr,1).map(function(v){return{index:Ws(v,1),ga:Ht(v,2),label:Ct(v,3)!=null?ea(v,3):void 0,displayName:Ct(v,4)!=null?ea(v,4):void 0}})}function w(h){return{x:Ht(h,1),y:Ht(h,2),z:Ht(h,3),visibility:Ct(h,4)!=null?Ht(h,4):void 0}}function D(h,v){this.h=h,this.g=v,this.l=0}function H(h,v,E){return function($,O){var I=$.g;if($.o===void 0){var F=p(I,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),z=p(I,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),q=I.createProgram();if(I.attachShader(q,F),I.attachShader(q,z),I.linkProgram(q),!I.getProgramParameter(q,I.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+I.getProgramInfoLog(q));F=$.o=q,I.useProgram(F),z=I.getUniformLocation(F,"sampler0"),$.j={K:I.getAttribLocation(F,"aVertex"),J:I.getAttribLocation(F,"aTex"),ma:z},$.u=I.createBuffer(),I.bindBuffer(I.ARRAY_BUFFER,$.u),I.enableVertexAttribArray($.j.K),I.vertexAttribPointer($.j.K,2,I.FLOAT,!1,0,0),I.bufferData(I.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),I.STATIC_DRAW),I.bindBuffer(I.ARRAY_BUFFER,null),$.s=I.createBuffer(),I.bindBuffer(I.ARRAY_BUFFER,$.s),I.enableVertexAttribArray($.j.J),I.vertexAttribPointer($.j.J,2,I.FLOAT,!1,0,0),I.bufferData(I.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),I.STATIC_DRAW),I.bindBuffer(I.ARRAY_BUFFER,null),I.uniform1i(z,0)}F=$.j,I.useProgram($.o),I.canvas.width=O.width,I.canvas.height=O.height,I.viewport(0,0,O.width,O.height),I.activeTexture(I.TEXTURE0),$.h.bindTexture2d(O.glName),I.enableVertexAttribArray(F.K),I.bindBuffer(I.ARRAY_BUFFER,$.u),I.vertexAttribPointer(F.K,2,I.FLOAT,!1,0,0),I.enableVertexAttribArray(F.J),I.bindBuffer(I.ARRAY_BUFFER,$.s),I.vertexAttribPointer(F.J,2,I.FLOAT,!1,0,0),I.bindFramebuffer(I.DRAW_FRAMEBUFFER?I.DRAW_FRAMEBUFFER:I.FRAMEBUFFER,null),I.clearColor(0,0,0,0),I.clear(I.COLOR_BUFFER_BIT),I.colorMask(!0,!0,!0,!0),I.drawArrays(I.TRIANGLE_FAN,0,4),I.disableVertexAttribArray(F.K),I.disableVertexAttribArray(F.J),I.bindBuffer(I.ARRAY_BUFFER,null),$.h.bindTexture2d(0)}(h,v),typeof h.g.canvas.transferToImageBitmap=="function"?Promise.resolve(h.g.canvas.transferToImageBitmap()):E?Promise.resolve(h.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(h.g.canvas):(h.i===void 0&&(h.i=document.createElement("canvas")),new Promise(function($){h.i.height=h.g.canvas.height,h.i.width=h.g.canvas.width,h.i.getContext("2d",{}).drawImage(h.g.canvas,0,0,h.g.canvas.width,h.g.canvas.height),$(h.i)}))}function J(h){this.g=h}var G=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ee(h,v){return v+h}function ae(h,v){window[h]=v}function me(h){if(this.g=h,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=h&&h.locateFile||ee,typeof window=="object")var v=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");v=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=v,h.options)for(var E=(v=i(Object.keys(h.options))).next();!E.done;E=v.next()){E=E.value;var $=h.options[E].default;$!==void 0&&(this.j[E]=typeof $=="function"?$():$)}}function Te(h){var v,E,$,O,I,F,z,q,Z,ne,le;return L(function(fe){switch(fe.g){case 1:return h.Z?(v=h.g.files===void 0?[]:typeof h.g.files=="function"?h.g.files(h.j):h.g.files,S(fe,L(function(pe){switch(pe.g){case 1:return pe.o=2,S(pe,WebAssembly.instantiate(G),4);case 4:pe.g=3,pe.o=0;break;case 2:return pe.o=0,pe.j=null,pe.return(!1);case 3:return pe.return(!0)}}),2)):fe.return();case 2:if(E=fe.h,typeof window=="object")return ae("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),ae("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),F=v.filter(function(pe){return pe.data!==void 0}),z=v.filter(function(pe){return pe.data===void 0}),q=Promise.all(F.map(function(pe){var Ee=Le(h,pe.url);if(pe.path!==void 0){var Ne=pe.path;Ee=Ee.then(function(We){return h.overrideFile(Ne,We),Promise.resolve(We)})}return Ee})),Z=Promise.all(z.map(function(pe){return pe.simd===void 0||pe.simd&&E||!pe.simd&&!E?function(Ee){var Ne=document.createElement("script");return Ne.setAttribute("src",Ee),Ne.setAttribute("crossorigin","anonymous"),new Promise(function(We){Ne.addEventListener("load",function(){We()},!1),Ne.addEventListener("error",function(){We()},!1),document.body.appendChild(Ne)})}(h.locateFile(pe.url,h.$)):Promise.resolve()})).then(function(){var pe,Ee,Ne;return L(function(We){if(We.g==1)return pe=window.createMediapipeSolutionsWasm,Ee=window.createMediapipeSolutionsPackedAssets,Ne=h,S(We,pe(Ee),2);Ne.h=We.h,We.g=0})}),ne=L(function(pe){return h.g.graph&&h.g.graph.url?pe=S(pe,Le(h,h.g.graph.url),0):(pe.g=0,pe=void 0),pe}),S(fe,Promise.all([Z,q,ne]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return $=v.filter(function(pe){return pe.simd===void 0||pe.simd&&E||!pe.simd&&!E}).map(function(pe){return h.locateFile(pe.url,h.$)}),importScripts.apply(null,a($)),O=h,S(fe,createMediapipeSolutionsWasm(Module),6);case 6:O.h=fe.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,I=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),h.h.GL.makeContextCurrent(I),fe.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(le=h.l.getContext("webgl2",{}))&&!(le=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),fe.return();h.G=le,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.Z=!1,fe.g=0}})}function Le(h,v){var E,$;return L(function(O){return v in h.H?O.return(h.H[v]):(E=h.locateFile(v,""),$=fetch(E).then(function(I){return I.arrayBuffer()}),h.H[v]=$,O.return($))})}function Ae(h,v,E){var $,O,I,F,z,q,Z,ne,le,fe,pe,Ee,Ne,We;return L(function(Ke){switch(Ke.g){case 1:if(!E)return Ke.return(v);for($={},O=0,I=i(Object.keys(E)),F=I.next();!F.done;F=I.next())z=F.value,typeof(q=E[z])!="string"&&q.type==="texture"&&v[q.stream]!==void 0&&++O;1<O&&(h.I=!1),Z=i(Object.keys(E)),F=Z.next();case 2:if(F.done){Ke.g=4;break}if(ne=F.value,typeof(le=E[ne])=="string")return Ne=$,We=ne,S(Ke,function(qs,a3,Ko){var tu;return L(function(Kf){return typeof Ko=="number"||Ko instanceof Uint8Array||Ko instanceof qs.h.Uint8BlobList?Kf.return(Ko):Ko instanceof qs.h.Texture2dDataOut?((tu=qs.u[a3])||(tu=new D(qs.h,qs.G),qs.u[a3]=tu),Kf.return(H(tu,Ko,qs.I))):Kf.return(void 0)})}(h,ne,v[le]),14);if(fe=v[le.stream],le.type==="detection_list"){if(fe){for(var Kt=fe.getRectList(),Pn=fe.getLandmarksList(),sn=fe.getClassificationsList(),Be=[],At=0;At<Kt.size();++At){var ns=na(Kt.get(At),ia,aa);ns={boundingBox:{xCenter:Ht(ns,1),yCenter:Ht(ns,2),height:Ht(ns,3),width:Ht(ns,4),rotation:Ht(ns,5,0),rectId:Ws(ns,6)},landmarks:Us(na(Pn.get(At),Jl,Wf),ts,1).map(w),V:y(na(sn.get(At),oa,Vf))},Be.push(ns)}Kt=Be}else Kt=[];$[ne]=Kt,Ke.g=7;break}if(le.type==="proto_list"){if(fe){for(Kt=Array(fe.size()),Pn=0;Pn<fe.size();Pn++)Kt[Pn]=fe.get(Pn);fe.delete()}else Kt=[];$[ne]=Kt,Ke.g=7;break}if(fe===void 0){Ke.g=3;break}if(le.type==="float_list"){$[ne]=fe,Ke.g=7;break}if(le.type==="proto"){$[ne]=fe,Ke.g=7;break}if(le.type!=="texture")throw Error("Unknown output config type: '"+le.type+"'");return(pe=h.u[ne])||(pe=new D(h.h,h.G),h.u[ne]=pe),S(Ke,H(pe,fe,h.I),13);case 13:Ee=Ke.h,$[ne]=Ee;case 7:le.transform&&$[ne]&&($[ne]=le.transform($[ne])),Ke.g=3;break;case 14:Ne[We]=Ke.h;case 3:F=Z.next(),Ke.g=2;break;case 4:return Ke.return($)}})}function ke(h,v){for(var E=v.name||"$",$=[].concat(a(v.wants)),O=new h.h.StringList,I=i(v.wants),F=I.next();!F.done;F=I.next())O.push_back(F.value);I=h.h.PacketListener.implement({onResults:function(z){for(var q={},Z=0;Z<v.wants.length;++Z)q[$[Z]]=z.get(Z);var ne=h.listeners[E];ne&&(h.D=Ae(h,q,v.outs).then(function(le){le=ne(le);for(var fe=0;fe<v.wants.length;++fe){var pe=q[$[fe]];typeof pe=="object"&&pe.hasOwnProperty&&pe.hasOwnProperty("delete")&&pe.delete()}le&&(h.D=le)}))}}),h.i.attachMultiListener(O,I),O.delete()}function be(h){var v=this;h=h||{};var E={url:"face_detection_short.binarypb"},$={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new me({locateFile:h.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:E,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window=="object"&&window.navigator!==void 0&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(O){var I,F,z,q,Z;return L(function(ne){switch(ne.g){case 1:I=i(O==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),F=I.next();case 2:if(F.done){ne.g=4;break}return z=F.value,q="third_party/mediapipe/modules/face_detection/"+z,S(ne,Le(v.g,z),5);case 5:Z=ne.h,v.g.overrideFile(q,Z),F=I.next(),ne.g=2;break;case 4:return E.url=O==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",$.graphOptionXref.calculatorName=O==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",ne.return(!0)}})}},minDetectionConfidence:$}})}(e=me.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){var h=this;return L(function(v){h.i&&(h.i.reset(),h.o={},h.u={}),v.g=0})},e.setOptions=function(h,v){var E=this;if(v=v||this.g.options){for(var $=[],O=[],I={},F=i(Object.keys(h)),z=F.next();!z.done;I={R:I.R,S:I.S},z=F.next()){var q=z.value;q in this.j&&this.j[q]===h[q]||(this.j[q]=h[q],(z=v[q])!==void 0&&(z.onChange&&(I.R=z.onChange,I.S=h[q],$.push(function(Z){return function(){return L(function(ne){if(ne.g==1)return S(ne,Z.R(Z.S),2);ne.h===!0&&(E.s=!0),ne.g=0})}}(I))),z.graphOptionXref&&(q={valueNumber:z.type===1?h[q]:0,valueBoolean:z.type===0&&h[q],valueString:z.type===2?h[q]:""},z=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),z.graphOptionXref),q),O.push(z))))}$.length===0&&O.length===0||(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(O),this.A=(this.A===void 0?[]:this.A).concat($))}},e.initialize=function(){var h=this;return L(function(v){return v.g==1?S(v,Te(h),2):v.g!=3?S(v,function(E){var $,O,I,F,z,q,Z,ne;return L(function(le){if(le.g==1)return E.g.graph&&E.g.graph.url&&E.Y===E.g.graph.url?le.return():(E.s=!0,E.g.graph&&E.g.graph.url?(E.Y=E.g.graph.url,S(le,Le(E,E.g.graph.url),3)):void(le.g=2));for(le.g!=2&&($=le.h,E.i.loadGraph($)),O=i(Object.keys(E.C)),I=O.next();!I.done;I=O.next())F=I.value,E.i.overrideFile(F,E.C[F]);if(E.C={},E.g.listeners)for(z=i(E.g.listeners),q=z.next();!q.done;q=z.next())Z=q.value,ke(E,Z);ne=E.j,E.j={},E.setOptions(ne),le.g=0})}(h),3):S(v,function(E){var $,O,I,F,z,q;return L(function(Z){switch(Z.g){case 1:if(!E.s)return Z.return();if(!E.A){Z.g=2;break}$=i(E.A),O=$.next();case 3:if(O.done){Z.g=5;break}return S(Z,(0,O.value)(),4);case 4:O=$.next(),Z.g=3;break;case 5:E.A=void 0;case 2:if(E.B){for(I=new E.h.GraphOptionChangeRequestList,F=i(E.B),z=F.next();!z.done;z=F.next())q=z.value,I.push_back(q);E.i.changeOptions(I),I.delete(),E.B=void 0}E.s=!1,Z.g=0}})}(h),0)})},e.overrideFile=function(h,v){this.i?this.i.overrideFile(h,v):this.C[h]=v},e.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},e.send=function(h,v){var E,$,O,I,F,z,q,Z,ne,le=this;return L(function(fe){switch(fe.g){case 1:return le.g.inputs?(E=1e3*(v??performance.now()),S(fe,le.D,2)):fe.return();case 2:return S(fe,le.initialize(),3);case 3:for($=new le.h.PacketDataList,O=i(Object.keys(h)),I=O.next();!I.done;I=O.next())if(F=I.value,z=le.g.inputs[F]){e:{var pe=h[F];switch(z.type){case"video":var Ee=le.o[z.stream];if(Ee||(Ee=new D(le.h,le.G),le.o[z.stream]=Ee),Ee.l===0&&(Ee.l=Ee.h.createTexture()),typeof HTMLVideoElement<"u"&&pe instanceof HTMLVideoElement)var Ne=pe.videoWidth,We=pe.videoHeight;else typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement?(Ne=pe.naturalWidth,We=pe.naturalHeight):(Ne=pe.width,We=pe.height);We={glName:Ee.l,width:Ne,height:We},(Ne=Ee.g).canvas.width=We.width,Ne.canvas.height=We.height,Ne.activeTexture(Ne.TEXTURE0),Ee.h.bindTexture2d(Ee.l),Ne.texImage2D(Ne.TEXTURE_2D,0,Ne.RGBA,Ne.RGBA,Ne.UNSIGNED_BYTE,pe),Ee.h.bindTexture2d(0),Ee=We;break e;case"detections":for((Ee=le.o[z.stream])||(Ee=new J(le.h),le.o[z.stream]=Ee),Ee.data||(Ee.data=new Ee.g.DetectionListData),Ee.data.reset(pe.length),We=0;We<pe.length;++We){Ne=pe[We];var Ke=Ee.data,Kt=Ke.setBoundingBox,Pn=We,sn=Ne.boundingBox,Be=new ia;if(ut(Be,1,sn.xCenter),ut(Be,2,sn.yCenter),ut(Be,3,sn.height),ut(Be,4,sn.width),ut(Be,5,sn.rotation),ut(Be,6,sn.rectId),sn=Gs(Be,aa),Kt.call(Ke,Pn,sn),Ne.landmarks)for(Ke=0;Ke<Ne.landmarks.length;++Ke){var At=!!(Be=Ne.landmarks[Ke]).visibility;Pn=(Kt=Ee.data).addNormalizedLandmark,sn=We,Be=Object.assign(Object.assign({},Be),{visibility:At?Be.visibility:0}),ut(At=new ts,1,Be.x),ut(At,2,Be.y),ut(At,3,Be.z),Be.visibility&&ut(At,4,Be.visibility),Be=Gs(At,Ql),Pn.call(Kt,sn,Be)}if(Ne.V)for(Ke=0;Ke<Ne.V.length;++Ke)Pn=(Kt=Ee.data).addClassification,sn=We,Be=Ne.V[Ke],ut(At=new kr,2,Be.ga),Be.index&&ut(At,1,Be.index),Be.label&&ut(At,3,Be.label),Be.displayName&&ut(At,4,Be.displayName),Be=Gs(At,Xl),Pn.call(Kt,sn,Be)}Ee=Ee.data;break e;default:Ee={}}}switch(q=Ee,Z=z.stream,z.type){case"video":$.pushTexture2d(Object.assign(Object.assign({},q),{stream:Z,timestamp:E}));break;case"detections":(ne=q).stream=Z,ne.timestamp=E,$.pushDetectionList(ne);break;default:throw Error("Unknown input config type: '"+z.type+"'")}}return le.i.send($),S(fe,le.D,4);case 4:$.delete(),fe.g=0}})},e.onResults=function(h,v){this.listeners[v||"$"]=h},V("Solution",me),V("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=be.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(h){this.g.onResults(h)},e.initialize=function(){var h=this;return L(function(v){return S(v,h.g.initialize(),0)})},e.reset=function(){this.g.reset()},e.send=function(h){var v=this;return L(function(E){return S(E,v.g.send(h),0)})},e.setOptions=function(h){this.g.setOptions(h)},V("FaceDetection",be),V("FACEDETECTION_LIPS",la),V("FACEDETECTION_LEFT_EYE",ua),V("FACEDETECTION_LEFT_EYEBROW",ca),V("FACEDETECTION_RIGHT_EYE",fa),V("FACEDETECTION_RIGHT_EYEBROW",da),V("FACEDETECTION_FACE_OVAL",Zl),V("FACEDETECTION_CONTOURS",eu),V("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),V("VERSION","0.4.1646425229")}).call(Vd);var Os=function(){return Os=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Os.apply(this,arguments)};function qr(e,t,n,r){return new(n||(n=Promise))(function(s,o){function i(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?s(u.value):(c=u.value,c instanceof n?c:new n(function(f){f(c)})).then(i,a)}l((r=r.apply(e,[])).next())})}function Yr(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||c[0]!==6&&c[0]!==2)){i=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){i.label=c[1];break}if(c[0]===6&&i.label<s[1]){i.label=s[1],s=c;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(c);break}s[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(f){c=[6,f],r=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var o7=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],Ud={modelType:"short",runtime:"mediapipe",maxFaces:1},Ez=function(){function e(t){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new Tz.FaceDetection({locateFile:function(r,s){return t.solutionPath?t.solutionPath.replace(/\/+$/,"")+"/"+r:s+"/"+r}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:t.modelType}),this.faceDetectorSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var s=0,o=r.detections;s<o.length;s++){var i=o[s];n.faces.push(n.normalizedToAbsolute(i.landmarks,{xMin:l=(a=i.boundingBox).xCenter-a.width/2,xMax:l+a.width,yMin:u=a.yCenter-a.height/2,yMax:u+a.height,width:a.width,height:a.height}))}var a,l,u})}return e.prototype.normalizedToAbsolute=function(t,n){var r=this;return{keypoints:t.map(function(s,o){return{x:s.x*r.width,y:s.y*r.height,name:o7[o]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},e.prototype.estimateFaces=function(t,n){return qr(this,void 0,void 0,function(){var r,s;return Yr(this,function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),t instanceof ot?(s=ImageData.bind,[4,Qv(t)]):[3,2];case 1:return r=new(s.apply(ImageData,[void 0,o.sent(),t.shape[1],t.shape[0]])),[3,3];case 2:r=t,o.label=3;case 3:return t=r,[4,this.faceDetectorSolution.send({image:t})];case 4:return o.sent(),[2,this.faces]}})})},e.prototype.dispose=function(){this.faceDetectorSolution.close()},e.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},e.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},e}();function kz(e){return qr(this,void 0,void 0,function(){var t,n;return Yr(this,function(r){switch(r.label){case 0:return t=function(s){if(s==null)return Os({},Ud);var o=Os({},s);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=Ud.modelType),o.maxFaces==null&&(o.maxFaces=Ud.maxFaces),o}(e),[4,(n=new Ez(t)).initialize()];case 1:return r.sent(),[2,n]}})})}function i7(e){return e instanceof ot?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function a7(e){return e instanceof ot?e:Jv(e)}function Wd(e,t){P(e.width!==0,function(){return t+" width cannot be 0."}),P(e.height!==0,function(){return t+" height cannot be 0."})}function Nz(e,t,n){var r=t.outputTensorSize,s=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,a=i7(e),l=function(d,m){return{xCenter:.5*d.width,yCenter:.5*d.height,width:d.width,height:d.height,rotation:0}}(a),u=function(d,m,b){if(b===void 0&&(b=!1),!b)return{top:0,left:0,right:0,bottom:0};var x=m.height,N=m.width;Wd(m,"targetSize"),Wd(d,"roi");var S,T,k=x/N,A=d.height/d.width,M=0,L=0;return k>A?(S=d.width,T=d.width*k,L=(1-A/k)/2):(S=d.height/k,T=d.height,M=(1-k/A)/2),d.width=S,d.height=T,{top:L,left:M,right:M,bottom:L}}(l,r,s),c=function(d,m,b,x){var N=d.width,S=d.height,T=1,k=Math.cos(d.rotation),A=Math.sin(d.rotation),M=d.xCenter,L=d.yCenter,W=1/m,C=1/b,V=new Array(16);return V[0]=N*k*T*W,V[1]=-S*A*W,V[2]=0,V[3]=(-.5*N*k*T+.5*S*A+M)*W,V[4]=N*A*T*C,V[5]=S*k*C,V[6]=0,V[7]=(-.5*S*k-.5*N*A*T+L)*C,V[8]=0,V[9]=0,V[10]=N*W,V[11]=0,V[12]=0,V[13]=0,V[14]=0,V[15]=1,function(K){if(K.length!==16)throw new Error("Array length must be 16 but got "+K.length);return[[K[0],K[1],K[2],K[3]],[K[4],K[5],K[6],K[7]],[K[8],K[9],K[10],K[11]],[K[12],K[13],K[14],K[15]]]}(V)}(l,a.width,a.height),f=Ie(function(){var d=a7(e),m=_s(function(N,S,T){return Wd(T,"inputResolution"),[1/T.width*N[0][0]*S.width,1/T.height*N[0][1]*S.width,N[0][3]*S.width,1/T.width*N[1][0]*S.height,1/T.height*N[1][1]*S.height,N[1][3]*S.height,0,0]}(c,a,r),[1,8]),b=o==="zero"?"constant":"nearest",x=Yi.transform(Rn(Ye(d,"float32")),m,"bilinear",b,0,[r.height,r.width]);return i!=null?function(N,S){var T=function(k,A,M,L){var W=(L-M)/255;return{scale:W,offset:M-0*W}}(0,0,S[0],S[1]);return Ie(function(){return we(ue(N,T.scale),T.offset)})}(x,i):x});return{imageTensor:f,padding:u,transformationMatrix:c}}function W0(e){e.reduceBoxesInLowestLayer==null&&(e.reduceBoxesInLowestLayer=!1),e.interpolatedScaleAspectRatio==null&&(e.interpolatedScaleAspectRatio=1),e.fixedAnchorSize==null&&(e.fixedAnchorSize=!1);for(var t=[],n=0;n<e.numLayers;){for(var r=[],s=[],o=[],i=[],a=n;a<e.strides.length&&e.strides[a]===e.strides[n];){var l=H0(e.minScale,e.maxScale,a,e.strides.length);if(a===0&&e.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),i.push(.1),i.push(l),i.push(l);else{for(var u=0;u<e.aspectRatios.length;++u)o.push(e.aspectRatios[u]),i.push(l);if(e.interpolatedScaleAspectRatio>0){var c=a===e.strides.length-1?1:H0(e.minScale,e.maxScale,a+1,e.strides.length);i.push(Math.sqrt(l*c)),o.push(e.interpolatedScaleAspectRatio)}}a++}for(var f=0;f<o.length;++f){var d=Math.sqrt(o[f]);r.push(i[f]/d),s.push(i[f]*d)}var m=0,b=0;if(e.featureMapHeight.length>0)m=e.featureMapHeight[n],b=e.featureMapWidth[n];else{var x=e.strides[n];m=Math.ceil(e.inputSizeHeight/x),b=Math.ceil(e.inputSizeWidth/x)}for(var N=0;N<m;++N)for(var S=0;S<b;++S)for(var T=0;T<r.length;++T){var k={xCenter:(S+e.anchorOffsetX)/b,yCenter:(N+e.anchorOffsetY)/m,width:0,height:0};e.fixedAnchorSize?(k.width=1,k.height=1):(k.width=s[T],k.height=r[T]),t.push(k)}n=a}return t}function H0(e,t,n,r){return r===1?.5*(e+t):e+(t-e)*n/(r-1)}function K0(e,t){var n=t[0],r=t[1];return[n*e[0]+r*e[1]+e[3],n*e[4]+r*e[5]+e[7]]}function $z(e,t,n,r){return qr(this,void 0,void 0,function(){var s,o,i,a,l;return Yr(this,function(u){switch(u.label){case 0:return e.sort(function(c,f){return Math.max.apply(Math,f.score)-Math.max.apply(Math,c.score)}),s=_s(e.map(function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]})),o=Ot(e.map(function(c){return c.score[0]})),[4,Yi.nonMaxSuppressionAsync(s,o,t,n)];case 1:return[4,(i=u.sent()).array()];case 2:return a=u.sent(),l=e.filter(function(c,f){return a.indexOf(f)>-1}),nt([s,o,i]),[2,l]}})})}function _z(e,t,n){return qr(this,void 0,void 0,function(){var r,s,o,i,a;return Yr(this,function(l){switch(l.label){case 0:return r=e[0],s=e[1],o=function(u,c,f){return Ie(function(){var d,m,b,x;f.reverseOutputOrder?(m=yt($e(u,[0,f.boxCoordOffset+0],[-1,1])),d=yt($e(u,[0,f.boxCoordOffset+1],[-1,1])),x=yt($e(u,[0,f.boxCoordOffset+2],[-1,1])),b=yt($e(u,[0,f.boxCoordOffset+3],[-1,1]))):(d=yt($e(u,[0,f.boxCoordOffset+0],[-1,1])),m=yt($e(u,[0,f.boxCoordOffset+1],[-1,1])),b=yt($e(u,[0,f.boxCoordOffset+2],[-1,1])),x=yt($e(u,[0,f.boxCoordOffset+3],[-1,1]))),m=we(ue(Oe(m,f.xScale),c.w),c.x),d=we(ue(Oe(d,f.yScale),c.h),c.y),f.applyExponentialOnBoxSize?(b=ue(Hr(Oe(b,f.hScale)),c.h),x=ue(Hr(Oe(x,f.wScale)),c.w)):(b=ue(Oe(b,f.hScale),c.h),x=ue(Oe(x,f.wScale),c.h));var N=_e(d,Oe(b,2)),S=_e(m,Oe(x,2)),T=we(d,Oe(b,2)),k=we(m,Oe(x,2)),A=$t([te(N,[f.numBoxes,1]),te(S,[f.numBoxes,1]),te(T,[f.numBoxes,1]),te(k,[f.numBoxes,1])],1);if(f.numKeypoints)for(var M=0;M<f.numKeypoints;++M){var L=f.keypointCoordOffset+M*f.numValuesPerKeypoint,W=void 0,C=void 0;f.reverseOutputOrder?(W=yt($e(u,[0,L],[-1,1])),C=yt($e(u,[0,L+1],[-1,1]))):(C=yt($e(u,[0,L],[-1,1])),W=yt($e(u,[0,L+1],[-1,1])));var V=we(ue(Oe(W,f.xScale),c.w),c.x),K=we(ue(Oe(C,f.yScale),c.h),c.y);A=$t([A,te(V,[f.numBoxes,1]),te(K,[f.numBoxes,1])],1)}return A})}(s,t,n),i=Ie(function(){var u=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(u=fv(r,-n.scoreClippingThresh,n.scoreClippingThresh)),u=yo(u)):u}),[4,Cz(o,i,n)];case 1:return a=l.sent(),nt([o,i]),[2,a]}})})}function Cz(e,t,n){return qr(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,f,d,m,b;return Yr(this,function(x){switch(x.label){case 0:return r=[],[4,e.data()];case 1:return s=x.sent(),[4,t.data()];case 2:for(o=x.sent(),i=0;i<n.numBoxes;++i)if(!(n.minScoreThresh!=null&&o[i]<n.minScoreThresh||(a=i*n.numCoords,l=Az(s[a+0],s[a+1],s[a+2],s[a+3],o[i],n.flipVertically,i),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],f=n.numKeypoints*n.numValuesPerKeypoint,d=0;d<f;d+=n.numValuesPerKeypoint)m=a+n.keypointCoordOffset+d,b={x:s[m+0],y:n.flipVertically?1-s[m+1]:s[m+1]},c.relativeKeypoints.push(b);r.push(l)}return[2,r]}})})}function Az(e,t,n,r,s,o,i){return{score:[s],ind:i,locationData:{relativeBoundingBox:{xMin:t,yMin:o?1-n:e,xMax:r,yMax:o?1-e:n,width:r-t,height:n-e}}}}var Qc,Iz={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Pz={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},Hd={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Oz={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Dz={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Fz={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Mz={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Rz=function(){function e(t,n,r){this.detectorModel=n,this.maxFaces=r,t==="full"?(this.imageToTensorConfig=Mz,this.tensorsToDetectionConfig=Dz,this.anchors=W0(Pz)):(this.imageToTensorConfig=Fz,this.tensorsToDetectionConfig=Oz,this.anchors=W0(Iz));var s=Ot(this.anchors.map(function(l){return l.width})),o=Ot(this.anchors.map(function(l){return l.height})),i=Ot(this.anchors.map(function(l){return l.xCenter})),a=Ot(this.anchors.map(function(l){return l.yCenter}));this.anchorTensor={x:i,y:a,w:s,h:o}}return e.prototype.dispose=function(){this.detectorModel.dispose(),nt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},e.prototype.reset=function(){},e.prototype.detectFaces=function(t,n){return n===void 0&&(n=!1),qr(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,f,d,m;return Yr(this,function(b){switch(b.label){case 0:return t==null?(this.reset(),[2,[]]):(r=Ie(function(){var x=Ye(a7(t),"float32");return n&&(x=yt(Yi.flipLeftRight(Rn(x,0)),[0])),x}),s=Nz(r,this.imageToTensorConfig),o=s.imageTensor,i=s.transformationMatrix,a=this.detectorModel.execute(o,"Identity:0"),l=function(x){return Ie(function(){var N=function(k){return Ie(function(){return[$e(k,[0,0,0],[1,-1,1]),$e(k,[0,0,1],[1,-1,-1])]})}(x),S=N[0],T=N[1];return{boxes:yt(T),logits:yt(S)}})}(a),u=l.boxes,[4,_z([c=l.logits,u],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(f=b.sent()).length===0?(nt([r,o,a,c,u]),[2,f]):[4,$z(f,this.maxFaces,.3)];case 2:return d=b.sent(),m=function(x,N){x===void 0&&(x=[]);var S,T=(S=N,[].concat.apply([],S));return x.forEach(function(k){var A=k.locationData;A.relativeKeypoints.forEach(function(K){var X=K0(T,[K.x,K.y]),Q=X[0],B=X[1];K.x=Q,K.y=B});var M=A.relativeBoundingBox,L=Number.MAX_VALUE,W=Number.MAX_VALUE,C=Number.MIN_VALUE,V=Number.MIN_VALUE;[[M.xMin,M.yMin],[M.xMin+M.width,M.yMin],[M.xMin+M.width,M.yMin+M.height],[M.xMin,M.yMin+M.height]].forEach(function(K){var X=K0(T,K),Q=X[0],B=X[1];L=Math.min(L,Q),C=Math.max(C,Q),W=Math.min(W,B),V=Math.max(V,B)}),A.relativeBoundingBox={xMin:L,xMax:C,yMin:W,yMax:V,width:C-L,height:V-W}}),x}(d,i),nt([r,o,a,c,u]),[2,m]}})})},e.prototype.estimateFaces=function(t,n){return qr(this,void 0,void 0,function(){var r,s;return Yr(this,function(o){return r=i7(t),s=!!n&&n.flipHorizontal,[2,this.detectFaces(t,s).then(function(i){return i.map(function(a){for(var l=a.locationData.relativeKeypoints.map(function(b,x){return Os(Os({},b),{x:b.x*r.width,y:b.y*r.height,name:o7[x]})}),u=a.locationData.relativeBoundingBox,c=0,f=["width","xMax","xMin"];c<f.length;c++)u[f[c]]*=r.width;for(var d=0,m=["height","yMax","yMin"];d<m.length;d++)u[m[d]]*=r.height;return{keypoints:l,box:u}})})]})})},e}();function Lz(e){return qr(this,void 0,void 0,function(){var t,n,r;return Yr(this,function(s){switch(s.label){case 0:return t=function(o){if(o==null)return Os({},Hd);var i=Os({},o);return i.modelType==null&&(i.modelType=Hd.modelType),i.maxFaces==null&&(i.maxFaces=Hd.maxFaces),i.detectorModelUrl==null&&(i.modelType==="full"?i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":i.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),i}(e),n=typeof t.detectorModelUrl=="string"&&t.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,n7(t.detectorModelUrl,{fromTFHub:n})];case 1:return r=s.sent(),[2,new Rz(t.modelType,r,t.maxFaces)]}})})}function zz(e,t){return qr(this,void 0,void 0,function(){var n,r;return Yr(this,function(s){if(e===Qc.MediaPipeFaceDetector){if(r=void 0,(n=t)!=null){if(n.runtime==="tfjs")return[2,Lz(n)];if(n.runtime==="mediapipe")return[2,kz(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(e+" is not a supported model name.")})})}function Kd(e){return e.width*e.height}function G0(e){var t=e.xCenter-e.width/2,n=t+e.width,r=e.yCenter-e.height/2;return{xMin:t,xMax:n,yMin:r,yMax:r+e.height,width:e.width,height:e.height}}function jz(e,t){var n=G0(e),r=G0(t);if(!function(i,a){return!(i.xMax<a.xMin||a.xMax<i.xMin||i.yMax<a.yMin||a.yMax<i.yMin)}(n,r))return 0;var s=Kd(function(i,a){var l=Math.max(i.xMin,a.xMin),u=Math.min(i.xMax,a.xMax),c=Math.max(i.yMin,a.yMin),f=Math.min(i.yMax,a.yMax);return{xMin:l,xMax:u,yMin:c,yMax:f,width:Math.max(u-l,0),height:Math.max(f-c,0)}}(n,r)),o=Kd(n)+Kd(r)-s;return o>0?s/o:0}function Bz(e,t,n,r){var s=e.width,o=e.height,i=1,a=Math.cos(e.rotation),l=Math.sin(e.rotation),u=e.xCenter,c=e.yCenter,f=1/t,d=1/n,m=new Array(16);return m[0]=s*a*i*f,m[1]=-o*l*f,m[2]=0,m[3]=(-.5*s*a*i+.5*o*l+u)*f,m[4]=s*l*i*d,m[5]=o*a*d,m[6]=0,m[7]=(-.5*o*a-.5*s*l*i+c)*d,m[8]=0,m[9]=0,m[10]=s*f,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,function(b){if(b.length!==16)throw new Error("Array length must be 16 but got "+b.length);return[[b[0],b[1],b[2],b[3]],[b[4],b[5],b[6],b[7]],[b[8],b[9],b[10],b[11]],[b[12],b[13],b[14],b[15]]]}(m)}function l7(e){return e instanceof ot?{height:e.shape[0],width:e.shape[1]}:{height:e.height,width:e.width}}function u7(e){return e-2*Math.PI*Math.floor((e+Math.PI)/(2*Math.PI))}function c7(e){return e instanceof ot?e:Jv(e)}function Gd(e,t){P(e.width!==0,function(){return t+" width cannot be 0."}),P(e.height!==0,function(){return t+" height cannot be 0."})}function Vz(e,t){var n=function(r,s,o,i){var a=s-r,l=i-o,u=l/a;return{scale:u,offset:o-r*u}}(0,255,t[0],t[1]);return Ie(function(){return we(ue(e,n.scale),n.offset)})}function Uz(e,t,n){var r=t.outputTensorSize,s=t.keepAspectRatio,o=t.borderMode,i=t.outputTensorFloatRange,a=l7(e),l=function(d,m){return m?{xCenter:m.xCenter*d.width,yCenter:m.yCenter*d.height,width:m.width*d.width,height:m.height*d.height,rotation:m.rotation}:{xCenter:.5*d.width,yCenter:.5*d.height,width:d.width,height:d.height,rotation:0}}(a,n),u=function(d,m,b){if(b===void 0&&(b=!1),!b)return{top:0,left:0,right:0,bottom:0};var x=m.height,N=m.width;Gd(m,"targetSize"),Gd(d,"roi");var S,T,k=x/N,A=d.height/d.width,M=0,L=0;return k>A?(S=d.width,T=d.width*k,L=(1-A/k)/2):(S=d.height/k,T=d.height,M=(1-k/A)/2),d.width=S,d.height=T,{top:L,left:M,right:M,bottom:L}}(l,r,s),c=Bz(l,a.width,a.height),f=Ie(function(){var d=c7(e),m=_s(function(N,S,T){return Gd(T,"inputResolution"),[1/T.width*N[0][0]*S.width,1/T.height*N[0][1]*S.width,N[0][3]*S.width,1/T.width*N[1][0]*S.height,1/T.height*N[1][1]*S.height,N[1][3]*S.height,0,0]}(c,a,r),[1,8]),b=o==="zero"?"constant":"nearest",x=Yi.transform(Rn(Ye(d,"float32")),m,"bilinear",b,0,[r.height,r.width]);return i!=null?Vz(x,i):x});return{imageTensor:f,padding:u,transformationMatrix:c}}function q0(e){return{xCenter:e.xMin+e.width/2,yCenter:e.yMin+e.height/2,width:e.width,height:e.height}}function Wz(e){var t=e.relativeKeypoints;if(t.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,r=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;return t.forEach(function(i){n=Math.min(n,i.x),s=Math.max(s,i.x),r=Math.min(r,i.y),o=Math.max(o,i.y)}),{xCenter:(n+s)/2,yCenter:(r+o)/2,width:s-n,height:o-r}}function Y0(e,t,n,r,s){var o=n==="rect"?function(i,a,l){var u,c=i.locationData;return u=q0(c.boundingBox),u}(e):function(i,a){var l=i.locationData;return a==="boundingbox"?q0(l.relativeBoundingBox):Wz(l)}(e,t);return s&&(o.rotation=function(i,a,l){var u,c=i.locationData,f=l.rotationVectorStartKeypointIndex,d=l.rotationVectorEndKeypointIndex;u=l.rotationVectorTargetAngle?l.rotationVectorTargetAngle:Math.PI*l.rotationVectorTargetAngleDegree/180;var m=c.relativeKeypoints[f].x*a.width,b=c.relativeKeypoints[f].y*a.height,x=c.relativeKeypoints[d].x*a.width,N=c.relativeKeypoints[d].y*a.height;return u7(u-Math.atan2(-(N-b),x-m))}(e,r,s)),o}function Hz(e,t,n){for(var r=0;r<t.length;++r){var s=t[r],o=n[e[r]];o.x=s.x,o.y=s.y}}function Kz(e,t,n,r){if(typeof t=="string"){if(t==="copy")for(var s=0;s<n.length;++s)r[e[s]].z=n[s].z}else{var o=function(i,a){for(var l=0,u=0;u<a.length;++u)l+=i[a[u]].z;return l/a.length}(r,t);for(s=0;s<e.length;++s)r[e[s]].z=o}}function Gz(e,t){for(var n=function(a){var l=[].concat.apply([],a.map(function(m){return m.indexesMapping}));if(l.length===0)throw new Error("There should be at least one landmark in indexes mapping");var u=l[0],c=l[0],f=new Set(l);f.forEach(function(m){u=Math.min(u,m),c=Math.max(c,m)});var d=f.size;if(u!==0)throw new Error("Indexes are expected to start with 0 instead of "+u);if(c+1!==d)throw new Error("Indexes should have no gaps but "+(c-d+1)+" indexes are missing");return d}(t),r=new Array(n).fill(null).map(Object),s=0;s<e.length;++s){var o=e[s],i=t[s];if(o.length!==i.indexesMapping.length)throw new Error("There are "+o.length+" refinement landmarks while mapping has "+i.indexesMapping.length);Hz(i.indexesMapping,o,r),Kz(i.indexesMapping,i.zRefinement,o,r)}return r}function qz(e,t){return e.map(function(n){var r=tr(tr({},n),{x:n.x*t.width,y:n.y*t.height});return n.z!=null&&(r.z=n.z*t.width),r})}function Yz(e,t){return e==="none"?t:function(n){return 1/(1+Math.exp(-n))}(t)}function Qs(e,t,n,r){return Dr(this,void 0,void 0,function(){var s,o,i,a,l,u,c,f;return Fr(this,function(d){switch(d.label){case 0:return n=n||t.flipHorizontally||!1,r=r||t.flipVertically||!1,s=e.size,o=s/t.numLandmarks,[4,e.data()];case 1:for(i=d.sent(),a=[],l=0;l<t.numLandmarks;++l)u=l*o,(f={x:0,y:0}).x=n?t.inputImageWidth-i[u]:i[u],o>1&&(f.y=r?t.inputImageHeight-i[u+1]:i[u+1]),o>2&&(f.z=i[u+2]),o>3&&(f.score=Yz(t.visibilityActivation,i[u+3])),a.push(f);for(c=0;c<a.length;++c)(f=a[c]).x=f.x/t.inputImageWidth,f.y=f.y/t.inputImageHeight,f.z=f.z/t.inputImageWidth/(t.normalizeZ||1);return[2,a]}})})}function X0(e,t,n){var r=e.width,s=e.height,o=e.rotation;if(n.rotation==null&&n.rotationDegree==null||(o=function(u,c){return c.rotation!=null?u+=c.rotation:c.rotationDegree!=null&&(u+=Math.PI*c.rotationDegree/180),u7(u)}(o,n)),o===0)e.xCenter=e.xCenter+r*n.shiftX,e.yCenter=e.yCenter+s*n.shiftY;else{var i=(t.width*r*n.shiftX*Math.cos(o)-t.height*s*n.shiftY*Math.sin(o))/t.width,a=(t.width*r*n.shiftX*Math.sin(o)+t.height*s*n.shiftY*Math.cos(o))/t.height;e.xCenter=e.xCenter+i,e.yCenter=e.yCenter+a}{var l=Math.max(r*t.width,s*t.height);r=l/t.width,s=l/t.height}return e.width=r*n.scaleX,e.height=s*n.scaleY,e}(Qc||(Qc={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var qd={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},Yd={flipHorizontal:!1,staticImageMode:!1},Q0={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},Xz={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},J0={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Qz={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Z0={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},e4={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Jz={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},Zz={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},ej={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},tj={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},nj={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},rj={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},Po,sj=function(){function e(t,n,r,s){this.detector=t,this.landmarkModel=n,this.maxFaces=r,this.withAttention=s,this.prevFaceRectsFromLandmarks=null}return e.prototype.estimateFaces=function(t,n){return Dr(this,void 0,void 0,function(){var r,s,o,i,a,l,u,c,f,d,m,b,x,N=this;return Fr(this,function(S){switch(S.label){case 0:return r=function(A){if(A==null)return tr({},Yd);var M=tr({},A);return M.flipHorizontal==null&&(M.flipHorizontal=Yd.flipHorizontal),M.staticImageMode==null&&(M.staticImageMode=Yd.staticImageMode),M}(n),t==null?(this.reset(),[2,[]]):(s=l7(t),o=Ie(function(){var A=Ye(c7(t),"float32");return r.flipHorizontal&&(A=yt(Yi.flipLeftRight(Rn(A,0)),[0])),A}),i=this.prevFaceRectsFromLandmarks,r.staticImageMode||i==null||i.length<this.maxFaces?[4,this.detector.detectFaces(o,!1)]:[3,2]);case 1:return(l=S.sent()).length===0?(this.reset(),o.dispose(),[2,[]]):(a=l.map(function(A){return N.faceDetectionFrontDetectionToRoi(A,s)}),[3,3]);case 2:a=[],S.label=3;case 3:return T=.5,k=[],[a,i||[]].forEach(function(A){return A.forEach(function(M){(k=k.filter(function(L){return jz(M,L)<=T})).push(M)})}),u=k,[4,Promise.all(u.map(function(A){return N.faceLandmark(A,o)}))];case 4:for(c=S.sent(),f=[],this.prevFaceRectsFromLandmarks=[],d=0;d<c.length;++d)(m=c[d])!=null&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(m,s)),(b=qz(m,s))!=null&&b.forEach(function(A,M){var L=s7.get(M);L!=null&&(A.name=L)}),x=Xh(b),f.push({keypoints:b,box:x.locationData.relativeBoundingBox}));return o.dispose(),[2,f]}var T,k})})},e.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},e.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},e.prototype.faceDetectionFrontDetectionToRoi=function(t,n){return X0(Y0(t,"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),n,Q0)},e.prototype.faceLandmark=function(t,n){return Dr(this,void 0,void 0,function(){var r,s,o,i,a,l,u;return Fr(this,function(c){switch(c.label){case 0:return r=Uz(n,Xz,t).imageTensor,s=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),o=this.landmarkModel.execute(r,s),i=o[0],a=o.slice(1),[4,i.data()];case 1:return c.sent()[0]<.5?(nt(o),nt(r),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(a)]:[3,3];case 2:return l=c.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(a)];case 4:l=c.sent(),c.label=5;case 5:return u=function(f,d,m){m===void 0&&(m={ignoreRotation:!1});for(var b=[],x=0,N=f;x<N.length;x++){var S=N[x],T=S.x-.5,k=S.y-.5,A=m.ignoreRotation?0:d.rotation,M=Math.cos(A)*T-Math.sin(A)*k,L=Math.sin(A)*T+Math.cos(A)*k;M=M*d.width+d.xCenter,L=L*d.height+d.yCenter;var W=S.z*d.width,C=tr({},S);C.x=M,C.y=L,C.z=W,b.push(C)}return b}(l,t),nt(o),nt(r),[2,u]}})})},e.prototype.tensorsToFaceLandmarks=function(t){return Dr(this,void 0,void 0,function(){return Fr(this,function(n){return[2,Qs(t[0],J0)]})})},e.prototype.tensorsToFaceLandmarksWithAttention=function(t){return Dr(this,void 0,void 0,function(){var n,r,s,o,i,a;return Fr(this,function(l){switch(l.label){case 0:return[4,Qs(t[0],J0)];case 1:return n=l.sent(),[4,Qs(t[1],Qz)];case 2:return r=l.sent(),[4,Qs(t[3],Z0)];case 3:return s=l.sent(),[4,Qs(t[5],Z0)];case 4:return o=l.sent(),[4,Qs(t[4],e4)];case 5:return i=l.sent(),[4,Qs(t[2],e4)];case 6:return a=l.sent(),[2,Gz([n,r,s,o,i,a],[Jz,Zz,ej,tj,nj,rj])]}})})},e.prototype.faceLandmarksToRoi=function(t,n){return X0(Y0(Xh(t),"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),n,Q0)},e}();function oj(e){return Dr(this,void 0,void 0,function(){var t,n,r,s;return Fr(this,function(o){switch(o.label){case 0:return t=function(i){if(i==null)return tr({},qd);var a=tr({},i);return a.runtime="tfjs",a.maxFaces==null&&(a.maxFaces=qd.maxFaces),a.refineLandmarks==null&&(a.refineLandmarks=qd.refineLandmarks),a.landmarkModelUrl==null&&(a.landmarkModelUrl=a.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),a}(e),n=typeof t.landmarkModelUrl=="string"&&t.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,n7(t.landmarkModelUrl,{fromTFHub:n})];case 1:return r=o.sent(),[4,zz(Qc.MediaPipeFaceDetector,{modelType:"short",maxFaces:t.maxFaces,detectorModelUrl:t.detectorModelUrl,runtime:t.runtime})];case 2:return s=o.sent(),[2,new sj(s,r,t.maxFaces,t.refineLandmarks)]}})})}function ij(e,t){return Dr(this,void 0,void 0,function(){var n,r;return Fr(this,function(s){if(e===Po.MediaPipeFaceMesh){if(r=void 0,(n=t)!=null){if(n.runtime==="tfjs")return[2,oj(n)];if(n.runtime==="mediapipe")return[2,xz(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(e+" is not a supported model name.")})})}(function(e){e.MediaPipeFaceMesh="MediaPipeFaceMesh"})(Po||(Po={}));var aj=Object.freeze({__proto__:null,getKeypointIndexByContour:function(e){if(e===Po.MediaPipeFaceMesh)return r7;throw new Error("Model "+e+" is not supported.")},getAdjacentPairs:function(e){if(e===Po.MediaPipeFaceMesh)return bz;throw new Error("Model "+e+" is not supported.")}});const bn=468,Xo=5,t4="#32EEDB",n4="#FF2C35",Xd={"640 X 480":{width:640,height:480},"640 X 360":{width:640,height:360},"360 X 270":{width:360,height:270}},ms={camera:{targetFPS:60,sizeOption:"640 X 480"},backend:"",flags:{},modelConfig:{maxFaces:2,refineLandmarks:!0,triangulateMesh:!0,boundingBox:!0}},lj={lips:"#E0E0E0",leftEye:"#30FF30",leftEyebrow:"#30FF30",leftIris:"#30FF30",rightEye:"#FF3030",rightEyebrow:"#FF3030",rightIris:"#FF3030",faceOval:"#E0E0E0"};async function uj(){const e=Po.MediaPipeFaceMesh;return ij(e,{runtime:"mediapipe",maxFaces:ms.modelConfig.maxFaces,refineLandmarks:ms.modelConfig.refineLandmarks,triangulateMesh:ms.modelConfig.triangulateMesh,boundingBox:ms.modelConfig.boundingBox,solutionPath:"/check-in-and-tracking/node_modules/@mediapipe/face_mesh"})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pu=[127,34,139,11,0,37,232,231,120,72,37,39,128,121,47,232,121,128,104,69,67,175,171,148,157,154,155,118,50,101,73,39,40,9,151,108,48,115,131,194,204,211,74,40,185,80,42,183,40,92,186,230,229,118,202,212,214,83,18,17,76,61,146,160,29,30,56,157,173,106,204,194,135,214,192,203,165,98,21,71,68,51,45,4,144,24,23,77,146,91,205,50,187,201,200,18,91,106,182,90,91,181,85,84,17,206,203,36,148,171,140,92,40,39,193,189,244,159,158,28,247,246,161,236,3,196,54,68,104,193,168,8,117,228,31,189,193,55,98,97,99,126,47,100,166,79,218,155,154,26,209,49,131,135,136,150,47,126,217,223,52,53,45,51,134,211,170,140,67,69,108,43,106,91,230,119,120,226,130,247,63,53,52,238,20,242,46,70,156,78,62,96,46,53,63,143,34,227,173,155,133,123,117,111,44,125,19,236,134,51,216,206,205,154,153,22,39,37,167,200,201,208,36,142,100,57,212,202,20,60,99,28,158,157,35,226,113,160,159,27,204,202,210,113,225,46,43,202,204,62,76,77,137,123,116,41,38,72,203,129,142,64,98,240,49,102,64,41,73,74,212,216,207,42,74,184,169,170,211,170,149,176,105,66,69,122,6,168,123,147,187,96,77,90,65,55,107,89,90,180,101,100,120,63,105,104,93,137,227,15,86,85,129,102,49,14,87,86,55,8,9,100,47,121,145,23,22,88,89,179,6,122,196,88,95,96,138,172,136,215,58,172,115,48,219,42,80,81,195,3,51,43,146,61,171,175,199,81,82,38,53,46,225,144,163,110,246,33,7,52,65,66,229,228,117,34,127,234,107,108,69,109,108,151,48,64,235,62,78,191,129,209,126,111,35,143,163,161,246,117,123,50,222,65,52,19,125,141,221,55,65,3,195,197,25,7,33,220,237,44,70,71,139,122,193,245,247,130,33,71,21,162,153,158,159,170,169,150,188,174,196,216,186,92,144,160,161,2,97,167,141,125,241,164,167,37,72,38,12,145,159,160,38,82,13,63,68,71,226,35,111,158,153,154,101,50,205,206,92,165,209,198,217,165,167,97,220,115,218,133,112,243,239,238,241,214,135,169,190,173,133,171,208,32,125,44,237,86,87,178,85,86,179,84,85,180,83,84,181,201,83,182,137,93,132,76,62,183,61,76,184,57,61,185,212,57,186,214,207,187,34,143,156,79,239,237,123,137,177,44,1,4,201,194,32,64,102,129,213,215,138,59,166,219,242,99,97,2,94,141,75,59,235,24,110,228,25,130,226,23,24,229,22,23,230,26,22,231,112,26,232,189,190,243,221,56,190,28,56,221,27,28,222,29,27,223,30,29,224,247,30,225,238,79,20,166,59,75,60,75,240,147,177,215,20,79,166,187,147,213,112,233,244,233,128,245,128,114,188,114,217,174,131,115,220,217,198,236,198,131,134,177,132,58,143,35,124,110,163,7,228,110,25,356,389,368,11,302,267,452,350,349,302,303,269,357,343,277,452,453,357,333,332,297,175,152,377,384,398,382,347,348,330,303,304,270,9,336,337,278,279,360,418,262,431,304,408,409,310,415,407,270,409,410,450,348,347,422,430,434,313,314,17,306,307,375,387,388,260,286,414,398,335,406,418,364,367,416,423,358,327,251,284,298,281,5,4,373,374,253,307,320,321,425,427,411,421,313,18,321,405,406,320,404,405,315,16,17,426,425,266,377,400,369,322,391,269,417,465,464,386,257,258,466,260,388,456,399,419,284,332,333,417,285,8,346,340,261,413,441,285,327,460,328,355,371,329,392,439,438,382,341,256,429,420,360,364,394,379,277,343,437,443,444,283,275,440,363,431,262,369,297,338,337,273,375,321,450,451,349,446,342,467,293,334,282,458,461,462,276,353,383,308,324,325,276,300,293,372,345,447,382,398,362,352,345,340,274,1,19,456,248,281,436,427,425,381,256,252,269,391,393,200,199,428,266,330,329,287,273,422,250,462,328,258,286,384,265,353,342,387,259,257,424,431,430,342,353,276,273,335,424,292,325,307,366,447,345,271,303,302,423,266,371,294,455,460,279,278,294,271,272,304,432,434,427,272,407,408,394,430,431,395,369,400,334,333,299,351,417,168,352,280,411,325,319,320,295,296,336,319,403,404,330,348,349,293,298,333,323,454,447,15,16,315,358,429,279,14,15,316,285,336,9,329,349,350,374,380,252,318,402,403,6,197,419,318,319,325,367,364,365,435,367,397,344,438,439,272,271,311,195,5,281,273,287,291,396,428,199,311,271,268,283,444,445,373,254,339,263,466,249,282,334,296,449,347,346,264,447,454,336,296,299,338,10,151,278,439,455,292,407,415,358,371,355,340,345,372,390,249,466,346,347,280,442,443,282,19,94,370,441,442,295,248,419,197,263,255,359,440,275,274,300,383,368,351,412,465,263,467,466,301,368,389,380,374,386,395,378,379,412,351,419,436,426,322,373,390,388,2,164,393,370,462,461,164,0,267,302,11,12,374,373,387,268,12,13,293,300,301,446,261,340,385,384,381,330,266,425,426,423,391,429,355,437,391,327,326,440,457,438,341,382,362,459,457,461,434,430,394,414,463,362,396,369,262,354,461,457,316,403,402,315,404,403,314,405,404,313,406,405,421,418,406,366,401,361,306,408,407,291,409,408,287,410,409,432,436,410,434,416,411,264,368,383,309,438,457,352,376,401,274,275,4,421,428,262,294,327,358,433,416,367,289,455,439,462,370,326,2,326,370,305,460,455,254,449,448,255,261,446,253,450,449,252,451,450,256,452,451,341,453,452,413,464,463,441,413,414,258,442,441,257,443,442,259,444,443,260,445,444,467,342,445,459,458,250,289,392,290,290,328,460,376,433,435,250,290,392,411,416,433,341,463,464,453,464,465,357,465,412,343,412,399,360,363,440,437,399,456,420,456,363,401,435,288,372,383,353,339,255,249,448,261,255,133,243,190,133,155,112,33,246,247,33,130,25,398,384,286,362,398,414,362,463,341,263,359,467,263,249,255,466,467,260,75,60,166,238,239,79,162,127,139,72,11,37,121,232,120,73,72,39,114,128,47,233,232,128,103,104,67,152,175,148,173,157,155,119,118,101,74,73,40,107,9,108,49,48,131,32,194,211,184,74,185,191,80,183,185,40,186,119,230,118,210,202,214,84,83,17,77,76,146,161,160,30,190,56,173,182,106,194,138,135,192,129,203,98,54,21,68,5,51,4,145,144,23,90,77,91,207,205,187,83,201,18,181,91,182,180,90,181,16,85,17,205,206,36,176,148,140,165,92,39,245,193,244,27,159,28,30,247,161,174,236,196,103,54,104,55,193,8,111,117,31,221,189,55,240,98,99,142,126,100,219,166,218,112,155,26,198,209,131,169,135,150,114,47,217,224,223,53,220,45,134,32,211,140,109,67,108,146,43,91,231,230,120,113,226,247,105,63,52,241,238,242,124,46,156,95,78,96,70,46,63,116,143,227,116,123,111,1,44,19,3,236,51,207,216,205,26,154,22,165,39,167,199,200,208,101,36,100,43,57,202,242,20,99,56,28,157,124,35,113,29,160,27,211,204,210,124,113,46,106,43,204,96,62,77,227,137,116,73,41,72,36,203,142,235,64,240,48,49,64,42,41,74,214,212,207,183,42,184,210,169,211,140,170,176,104,105,69,193,122,168,50,123,187,89,96,90,66,65,107,179,89,180,119,101,120,68,63,104,234,93,227,16,15,85,209,129,49,15,14,86,107,55,9,120,100,121,153,145,22,178,88,179,197,6,196,89,88,96,135,138,136,138,215,172,218,115,219,41,42,81,5,195,51,57,43,61,208,171,199,41,81,38,224,53,225,24,144,110,105,52,66,118,229,117,227,34,234,66,107,69,10,109,151,219,48,235,183,62,191,142,129,126,116,111,143,7,163,246,118,117,50,223,222,52,94,19,141,222,221,65,196,3,197,45,220,44,156,70,139,188,122,245,139,71,162,145,153,159,149,170,150,122,188,196,206,216,92,163,144,161,164,2,167,242,141,241,0,164,37,11,72,12,144,145,160,12,38,13,70,63,71,31,226,111,157,158,154,36,101,205,203,206,165,126,209,217,98,165,97,237,220,218,237,239,241,210,214,169,140,171,32,241,125,237,179,86,178,180,85,179,181,84,180,182,83,181,194,201,182,177,137,132,184,76,183,185,61,184,186,57,185,216,212,186,192,214,187,139,34,156,218,79,237,147,123,177,45,44,4,208,201,32,98,64,129,192,213,138,235,59,219,141,242,97,97,2,141,240,75,235,229,24,228,31,25,226,230,23,229,231,22,230,232,26,231,233,112,232,244,189,243,189,221,190,222,28,221,223,27,222,224,29,223,225,30,224,113,247,225,99,60,240,213,147,215,60,20,166,192,187,213,243,112,244,244,233,245,245,128,188,188,114,174,134,131,220,174,217,236,236,198,134,215,177,58,156,143,124,25,110,7,31,228,25,264,356,368,0,11,267,451,452,349,267,302,269,350,357,277,350,452,357,299,333,297,396,175,377,381,384,382,280,347,330,269,303,270,151,9,337,344,278,360,424,418,431,270,304,409,272,310,407,322,270,410,449,450,347,432,422,434,18,313,17,291,306,375,259,387,260,424,335,418,434,364,416,391,423,327,301,251,298,275,281,4,254,373,253,375,307,321,280,425,411,200,421,18,335,321,406,321,320,405,314,315,17,423,426,266,396,377,369,270,322,269,413,417,464,385,386,258,248,456,419,298,284,333,168,417,8,448,346,261,417,413,285,326,327,328,277,355,329,309,392,438,381,382,256,279,429,360,365,364,379,355,277,437,282,443,283,281,275,363,395,431,369,299,297,337,335,273,321,348,450,349,359,446,467,283,293,282,250,458,462,300,276,383,292,308,325,283,276,293,264,372,447,346,352,340,354,274,19,363,456,281,426,436,425,380,381,252,267,269,393,421,200,428,371,266,329,432,287,422,290,250,328,385,258,384,446,265,342,386,387,257,422,424,430,445,342,276,422,273,424,306,292,307,352,366,345,268,271,302,358,423,371,327,294,460,331,279,294,303,271,304,436,432,427,304,272,408,395,394,431,378,395,400,296,334,299,6,351,168,376,352,411,307,325,320,285,295,336,320,319,404,329,330,349,334,293,333,366,323,447,316,15,315,331,358,279,317,14,316,8,285,9,277,329,350,253,374,252,319,318,403,351,6,419,324,318,325,397,367,365,288,435,397,278,344,439,310,272,311,248,195,281,375,273,291,175,396,199,312,311,268,276,283,445,390,373,339,295,282,296,448,449,346,356,264,454,337,336,299,337,338,151,294,278,455,308,292,415,429,358,355,265,340,372,388,390,466,352,346,280,295,442,282,354,19,370,285,441,295,195,248,197,457,440,274,301,300,368,417,351,465,251,301,389,385,380,386,394,395,379,399,412,419,410,436,322,387,373,388,326,2,393,354,370,461,393,164,267,268,302,12,386,374,387,312,268,13,298,293,301,265,446,340,380,385,381,280,330,425,322,426,391,420,429,437,393,391,326,344,440,438,458,459,461,364,434,394,428,396,262,274,354,457,317,316,402,316,315,403,315,314,404,314,313,405,313,421,406,323,366,361,292,306,407,306,291,408,291,287,409,287,432,410,427,434,411,372,264,383,459,309,457,366,352,401,1,274,4,418,421,262,331,294,358,435,433,367,392,289,439,328,462,326,94,2,370,289,305,455,339,254,448,359,255,446,254,253,449,253,252,450,252,256,451,256,341,452,414,413,463,286,441,414,286,258,441,258,257,442,257,259,443,259,260,444,260,467,445,309,459,250,305,289,290,305,290,460,401,376,435,309,250,392,376,411,433,453,341,464,357,453,465,343,357,412,437,343,399,344,360,440,420,437,456,360,420,363,361,401,288,265,372,353,390,339,249,339,448,255];function cj(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function fj(){return/Android/i.test(navigator.userAgent)}function r4(){return fj()||cj()}function Ou(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Qd(e,t,n){const r=new Path2D;r.moveTo(t[0][0],t[0][1]);for(let s=1;s<t.length;s++){const o=t[s];r.lineTo(o[0],o[1])}n&&r.closePath(),e.stroke(r)}function dj(e,t,n,r){t.forEach(s=>{const o=s.keypoints.map(a=>[a.x,a.y]);if(r){e.strokeStyle=n4,e.lineWidth=1;const a=s.box;Qd(e,[[a.xMin,a.yMin],[a.xMax,a.yMin],[a.xMax,a.yMax],[a.xMin,a.yMax]],!0)}if(n){e.strokeStyle=t4,e.lineWidth=.5;for(let a=0;a<Pu.length/3;a++){const l=[Pu[a*3],Pu[a*3+1],Pu[a*3+2]].map(u=>o[u]);Qd(e,l,!0)}}else{e.fillStyle=t4;for(let a=0;a<bn;a++){const l=o[a][0],u=o[a][1];e.beginPath(),e.arc(l,u,1,0,2*Math.PI),e.fill()}}if(o.length>bn){e.strokeStyle=n4,e.lineWidth=1;const a=o[bn],l=Ou(o[bn+4],o[bn+2]),u=Ou(o[bn+3],o[bn+1]);if(e.beginPath(),e.ellipse(a[0],a[1],u/2,l/2,0,0,2*Math.PI),e.stroke(),o.length>bn+Xo){const c=o[bn+Xo],f=Ou(o[bn+Xo+2],o[bn+Xo+4]),d=Ou(o[bn+Xo+3],o[bn+Xo+1]);e.beginPath(),e.ellipse(c[0],c[1],d/2,f/2,0,0,2*Math.PI),e.stroke()}}const i=aj.getKeypointIndexByContour(Po.MediaPipeFaceMesh);for(const[a,l]of Object.entries(i)){e.strokeStyle=lj[a],e.lineWidth=3;const u=l.map(c=>o[c]);u.every(c=>c!==void 0)&&Qd(e,u,!1)}})}class Jc{constructor(t,n){this.video=t,this.canvas=n,this.ctx=this.canvas.getContext("2d")}static async setupCamera(t,n,r,s){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");const{targetFPS:o,sizeOption:i}=t,a=Xd[i],l={audio:!1,video:{facingMode:"user",width:r4()?Xd["360 X 270"].width:a.width,height:r4()?Xd["360 X 270"].height:a.height,frameRate:{ideal:o}}},u=await navigator.mediaDevices.getUserMedia(l),c=new Jc(n,r);c.video.srcObject=u,await new Promise(m=>{c.video.onloadedmetadata=b=>{m(b)}}),c.video.play();const f=c.video.videoWidth,d=c.video.videoHeight;return c.video.width=f,c.video.height=d,c.canvas.width=f,c.canvas.height=d,s.style=`width: ${f}px; height: ${d}px`,c.ctx.translate(c.video.videoWidth,0),c.ctx.scale(-1,1),c}drawCtx(){this.ctx.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight)}drawResults(t,n,r){dj(this.ctx,t,n,r)}}const hj=({size:e,height:t,width:n,...r})=>se.jsx("svg",{width:e||n||24,height:e||t||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:se.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z",fill:"currentColor"})}),pj=({fill:e="currentColor",size:t,height:n,width:r,...s})=>se.jsx("svg",{width:t||r||24,height:t||n||24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:se.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.44 6.236c.04.07.11.12.2.12 2.4 0 4.36 1.958 4.36 4.355v5.934A4.368 4.368 0 0117.64 21H6.36A4.361 4.361 0 012 16.645V10.71a4.361 4.361 0 014.36-4.355c.08 0 .16-.04.19-.12l.06-.12.106-.222a97.79 97.79 0 01.714-1.486C7.89 3.51 8.67 3.01 9.64 3h4.71c.97.01 1.76.51 2.22 1.408.157.315.397.822.629 1.31l.141.299.1.22zm-.73 3.836c0 .5.4.9.9.9s.91-.4.91-.9-.41-.909-.91-.909-.9.41-.9.91zm-6.44 1.548c.47-.47 1.08-.719 1.73-.719.65 0 1.26.25 1.72.71.46.459.71 1.068.71 1.717A2.438 2.438 0 0112 15.756c-.65 0-1.26-.25-1.72-.71a2.408 2.408 0 01-.71-1.717v-.01c-.01-.63.24-1.24.7-1.699zm4.5 4.485a3.91 3.91 0 01-2.77 1.15 3.921 3.921 0 01-3.93-3.926 3.865 3.865 0 011.14-2.767A3.921 3.921 0 0112 9.402c1.05 0 2.04.41 2.78 1.15.74.749 1.15 1.738 1.15 2.777a3.958 3.958 0 01-1.16 2.776z",fill:e})});function Zc({children:e}){return se.jsx("div",{className:"container mx-auto",children:se.jsx("div",{className:"m-2",children:e})})}function mj({validFaceDetection:e,setValidFaceDetection:t}){const n=U.useRef(null),r=U.useRef(null),s=U.useRef(null),[o,i]=U.useState(null),[a,l]=U.useState(null),[u,c]=U.useState(null),[f,d]=U.useState(null),[m,b]=U.useState(!1);return U.useEffect(()=>(n&&r&&(async()=>{const N=await Jc.setupCamera(ms.camera,n.current,r.current,s.current);l(N),b(!0);const S=await uj();i(S)})(),()=>{a&&a.video.srcObject.getTracks().forEach(N=>N.stop()),o&&o.dispose()}),[n,r]),U.useEffect(()=>{if(a!==null&&o!==null){const x=async()=>{a.video.readyState<2&&await new Promise(k=>{a.video.onloadeddata=A=>{k(A)}});let T=null;if(o!=null)try{T=await o.estimateFaces(a.video,{flipHorizontal:!1}),T&&T.length>0&&(T.length===1?N(T[0]):t(!1))}catch(k){o.dispose(),i(null),alert(k)}a.drawCtx(),T&&T.length>0&&a.drawResults(T,ms.modelConfig.triangulateMesh,ms.modelConfig.boundingBox)},N=T=>{const k=T.box.width*T.box.height;k>0&&k<1e5?c(k):d(k)},S=async()=>{await x(),requestAnimationFrame(S)};S()}},[a,o,t]),U.useEffect(()=>{u!==null&&f!==null&&Math.abs(f-u)>u*.1&&t(!0)},[u,f,t]),U.useEffect(()=>{m?(!a||a&&!a.video.srcObject.active)&&Jc.setupCamera(ms.camera,n.current,r.current,s.current).then(x=>{l(x)}):a&&(a.video.srcObject.getTracks().forEach(x=>x.stop()),l(null))},[m,a]),se.jsxs(Zc,{children:[m?se.jsx(Lc,{className:"my-2",variant:"solid",color:"danger",onClick:()=>b(!m),children:"Close Camera"}):se.jsx(Lc,{className:"my-2",variant:"ghost",color:"success",onClick:()=>b(!m),children:"Open Camera"}),se.jsxs(VE,{children:[m&&se.jsxs(jE,{className:"absolute z-10 top-1 flex-col !items-start",children:[se.jsx(h0,{className:"my-1",startContent:e?se.jsx(hj,{size:18}):se.jsx(pj,{size:18}),variant:"faded",color:e?"success":"danger",children:se.jsx("p",{className:"text-tiny text-white/60 uppercase font-bold",children:e?"Checked Face":"Checking face"})}),!e&&se.jsx(h0,{color:"warning",children:se.jsx("h4",{className:"text-white font-medium text-large",children:"Move your head closer to and away from the camera"})})]}),se.jsx("div",{className:"mx-auto",children:se.jsxs("div",{className:"canvas-wrapper",ref:s,children:[se.jsx("canvas",{id:"output",ref:r}),se.jsx("video",{id:"video",playsInline:!0,style:{WebkitTransform:"scaleX(-1)",transform:"scaleX(-1)",visibility:"hidden",width:"auto",height:"auto"},ref:n})]})})]})]})}function gj({setValidDistance:e}){const[t,n]=U.useState(null),[r,s]=U.useState(null),[o,i]=U.useState("");U.useEffect(()=>{const f=((d,m,b,x)=>{const S=(b-d)*(Math.PI/180),T=(x-m)*(Math.PI/180),k=Math.sin(S/2)*Math.sin(S/2)+Math.cos(d*Math.PI/180)*Math.cos(b*Math.PI/180)*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)))})(parseFloat(t),parseFloat(r),9.7634156,105.6608275);i(f),f<=0&&e(!0)},[t,r,e]);const a=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(l=>{n(l.coords.latitude),s(l.coords.longitude)},l=>{console.error("Error getting geolocation:",l)}):console.error("Geolocation is not supported by this browser.")};return se.jsxs(Zc,{children:[se.jsx(Lc,{color:"primary",variant:"solid",onClick:a,children:"Get Location"}),t&&r&&se.jsxs("div",{children:[se.jsxs("p",{children:["Distance: ",o]}),se.jsxs("p",{children:["Latitude: ",t]}),se.jsxs("p",{children:["Longitude: ",r]})]})]})}const yj=()=>{const{theme:e,setTheme:t}=KE(),[n,r]=U.useState(null),[s,o]=U.useState(!1),[i,a]=U.useState(!1),l=f=>{f.preventDefault()},u=f=>{const{name:d,value:m}=f.target;r({...n,[d]:m})},c=()=>{t(e==="light"?"dark":"light")};return se.jsxs(Zc,{children:[se.jsx("div",{className:"my-3",children:se.jsxs(Lc,{onClick:()=>c(),children:["Change to ",e==="light"?"Dark":"Light"]})}),se.jsxs("div",{children:[se.jsx("h1",{children:"Student Check-In"}),se.jsx(mj,{validFaceDetection:s,setValidFaceDetection:o}),s&&se.jsxs(se.Fragment,{children:[se.jsx(gj,{setValidDistance:a}),se.jsx(Zc,{children:i?se.jsx("form",{onSubmit:l,children:se.jsxs("div",{children:[se.jsx("p",{children:"You are within the 1 km radius of the school."}),se.jsxs("label",{children:["Student Name:",se.jsx("input",{type:"text",name:"name",value:(n==null?void 0:n.name)||"",onChange:u})]}),se.jsx("br",{}),se.jsxs("label",{children:["Student ID:",se.jsx("input",{type:"text",name:"id",value:(n==null?void 0:n.id)||"",onChange:u})]}),se.jsx("br",{}),se.jsx("button",{type:"submit",children:"Submit"})]})}):se.jsx("p",{children:"You are not within the 1 km radius of the school."})})]})]})]})},vj=({Component:e,pageProps:t})=>se.jsx(gw,{children:se.jsx(GE,{attribute:"class",defaultTheme:"dark",children:se.jsx(e,{...t})})});Jd.createRoot(document.getElementById("root")).render(se.jsx(wt.StrictMode,{children:se.jsx(vj,{Component:yj})}));
